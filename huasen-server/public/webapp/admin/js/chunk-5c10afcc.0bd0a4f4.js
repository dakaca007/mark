(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c10afcc","chunk-33c6219c","chunk-65d683c6","chunk-fb81d8ae"],{"04d1":function(t,e,n){var i=n("342f"),a=i.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"0c47":function(t,e,n){var i=n("da84"),a=n("d44e");a(i.JSON,"JSON",!0)},"130f":function(t,e,n){var i=n("23e7"),a=n("da84"),r=n("2cf49"),o=!a.setImmediate||!a.clearImmediate;i({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},"180c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-visitor"},[t._m(0),n("div",{staticClass:"right shadow"},[n("div",{staticClass:"total-text-group"},[n("div",{staticClass:"label text"},[t._v("实时访客总数(PV)："+t._s(t._f("emptyTip")(t.visitorCount)))]),n("div",{staticClass:"rate text"},[t._v(t._s(t._f("emptyTip")(t.visitorRate))+" 同昨日比较")])]),n("div",{attrs:{id:"total-chart"}})])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left shadow"},[n("div",{attrs:{id:"visitor-chart"}})])}],r=(n("159b"),{name:"HomeVisitor",props:{visitor:{type:Object,default:function(){}}},watch:{visitor:function(){this.initVisitorChart()}},data:function(){return{visitorCount:0,visitorRate:"",totalData:[],totalTime:[]}},mounted:function(){this.queryVisitorTotal(),this.queryVisitor()},methods:{queryVisitorTotal:function(){var t=this;this.API.uvOverview({},{notify:!1}).then((function(e){var n=[],i=[];e.data.reverse().forEach((function(t){n.push(t.count),i.push(t.time)})),t.totalData=n,t.totalTime=i,t.initTotalChart()}))},queryVisitor:function(){var t=this;this.API.visitor({},{notify:!1}).then((function(e){t.visitorCount=e.data.visitorCount,t.visitorRate=e.data.visitorRate}))},initVisitorChart:function(){var t=this,e={grid:{left:"10",right:"10",top:"40",bottom:"40",containLabel:!0},tooltip:{show:!0,trigger:"axis"},legend:{show:!0,x:"520",y:"10",icon:"stack",itemWidth:15,itemHeight:10,data:["用户","管理员","访客"]},xAxis:[{type:"category",axisLine:{show:!1},axisLabel:{color:"#A1A7B3"},splitLine:{show:!1},axisTick:{show:!1},data:this.visitor.time}],dataZoom:[{show:!0,height:18,xAxisIndex:[0],left:"0",right:"6",bottom:"14",start:0,end:100,textStyle:{color:"#8c8c8c"},borderColor:"#8c8c8c"},{show:!0,type:"inside",height:15,start:2,end:35}],yAxis:[{type:"value",name:"流量监控",nameTextStyle:{fontSize:14},splitLine:{show:!0,lineStyle:{color:"#A1A7B3",type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#8c8c8c"}},axisLabel:{show:!0,margin:10,textStyle:{color:"#A1A7B3"}},axisTick:{show:!1}}],series:[{name:"用户",type:"line",smooth:!0,stack:"用户",symbolSize:0,itemStyle:{normal:{color:"#4293FD",lineStyle:{color:"#4293FD",width:2}}},areaStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(19, 95, 172, 1)"},{offset:1,color:"rgba(112, 154, 195, 0.4)"}],!1)}},data:this.visitor.user},{name:"管理员",type:"line",smooth:!0,stack:"管理员",symbolSize:0,itemStyle:{normal:{color:"#23D0C4",lineStyle:{color:"#23D0C4",width:2}}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(50, 216, 205, 1)"},{offset:1,color:"rgba(35, 208, 196, 0.4)"}],!1)}},data:this.visitor.admin},{name:"访客",type:"line",smooth:!0,stack:"访客",symbolSize:0,itemStyle:{normal:{color:"#fbc607",lineStyle:{color:"#fbc607",width:2}}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(250, 199, 6, 1)"},{offset:1,color:"rgba(245, 133, 72, 0.4)"}],!1)}},data:this.visitor.other}]};if(!this.chart){var n=document.getElementById("visitor-chart");this.chart=this.$echarts.init(n),this.chartObserve=new ResizeObserver((function(e){t.chart.resize()})),this.chartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(n)}))}this.chart.setOption(e)},initTotalChart:function(){var t=this,e={tooltip:{show:!0},grid:{left:"0",right:"20",top:"0",bottom:"0",containLabel:!0},color:["#2db4f6","#7c59c2"],xAxis:[{type:"value",axisLabel:{formatter:"{value} 人"}}],yAxis:[{type:"category",data:this.totalTime,axisPointer:{type:"shadow"}}],series:[{name:"PV",type:"bar",barWidth:"30%",data:this.totalData}]};if(!this.totalChart){var n=document.getElementById("total-chart");this.totalChart=this.$echarts.init(n),this.totalChartObserve=new ResizeObserver((function(e){t.totalChart.resize()})),this.totalChartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.totalChartObserve.unobserve(n)}))}this.totalChart.setOption(e)}}}),o=r,s=(n("818e"),n("2877")),l=Object(s["a"])(o,i,a,!1,null,"9905d78e",null);e["default"]=l.exports},"1f77":function(t,e,n){},"23dc":function(t,e,n){var i=n("d44e");i(Math,"Math",!0)},"2a72":function(t,e,n){},"313e":function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return a["cb"]})),n.d(e,"dependencies",(function(){return a["l"]})),n.d(e,"PRIORITY",(function(){return a["g"]})),n.d(e,"init",(function(){return a["B"]})),n.d(e,"connect",(function(){return a["j"]})),n.d(e,"disConnect",(function(){return a["m"]})),n.d(e,"disconnect",(function(){return a["n"]})),n.d(e,"dispose",(function(){return a["o"]})),n.d(e,"getInstanceByDom",(function(){return a["w"]})),n.d(e,"getInstanceById",(function(){return a["x"]})),n.d(e,"registerTheme",(function(){return a["R"]})),n.d(e,"registerPreprocessor",(function(){return a["P"]})),n.d(e,"registerProcessor",(function(){return a["Q"]})),n.d(e,"registerPostInit",(function(){return a["N"]})),n.d(e,"registerPostUpdate",(function(){return a["O"]})),n.d(e,"registerUpdateLifecycle",(function(){return a["T"]})),n.d(e,"registerAction",(function(){return a["H"]})),n.d(e,"registerCoordinateSystem",(function(){return a["I"]})),n.d(e,"getCoordinateSystemDimensions",(function(){return a["v"]})),n.d(e,"registerLocale",(function(){return a["L"]})),n.d(e,"registerLayout",(function(){return a["J"]})),n.d(e,"registerVisual",(function(){return a["U"]})),n.d(e,"registerLoading",(function(){return a["K"]})),n.d(e,"setCanvasCreator",(function(){return a["V"]})),n.d(e,"registerMap",(function(){return a["M"]})),n.d(e,"getMap",(function(){return a["y"]})),n.d(e,"registerTransform",(function(){return a["S"]})),n.d(e,"dataTool",(function(){return a["k"]})),n.d(e,"zrender",(function(){return a["eb"]})),n.d(e,"matrix",(function(){return a["D"]})),n.d(e,"vector",(function(){return a["bb"]})),n.d(e,"zrUtil",(function(){return a["db"]})),n.d(e,"color",(function(){return a["i"]})),n.d(e,"throttle",(function(){return a["X"]})),n.d(e,"helper",(function(){return a["A"]})),n.d(e,"use",(function(){return a["Z"]})),n.d(e,"setPlatformAPI",(function(){return a["W"]})),n.d(e,"parseGeoJSON",(function(){return a["F"]})),n.d(e,"parseGeoJson",(function(){return a["G"]})),n.d(e,"number",(function(){return a["E"]})),n.d(e,"time",(function(){return a["Y"]})),n.d(e,"graphic",(function(){return a["z"]})),n.d(e,"format",(function(){return a["u"]})),n.d(e,"util",(function(){return a["ab"]})),n.d(e,"env",(function(){return a["p"]})),n.d(e,"List",(function(){return a["e"]})),n.d(e,"Model",(function(){return a["f"]})),n.d(e,"Axis",(function(){return a["a"]})),n.d(e,"ComponentModel",(function(){return a["c"]})),n.d(e,"ComponentView",(function(){return a["d"]})),n.d(e,"SeriesModel",(function(){return a["h"]})),n.d(e,"ChartView",(function(){return a["b"]})),n.d(e,"innerDrawElementOnCanvas",(function(){return a["C"]})),n.d(e,"extendComponentModel",(function(){return a["r"]})),n.d(e,"extendComponentView",(function(){return a["s"]})),n.d(e,"extendSeriesModel",(function(){return a["t"]})),n.d(e,"extendChartView",(function(){return a["q"]}));var i=n("22b4"),a=n("aa74"),r=n("f95e"),o=n("7a29"),s=n("cbe5"),l=n("0da8"),c=n("e86a"),u=n("dd4f"),h=Math.sin,d=Math.cos,p=Math.PI,f=2*Math.PI,g=180/p,y=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,a,r){this._add("C",t,e,n,i,a,r)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},t.prototype.arc=function(t,e,n,i,a,r){this.ellipse(t,e,n,n,0,i,a,r)},t.prototype.ellipse=function(t,e,n,i,a,r,s,l){var c=s-r,u=!l,y=Math.abs(c),m=Object(o["j"])(y-f)||(u?c>=f:-c>=f),v=c>0?c%f:c%f+f,b=!1;b=!!m||!Object(o["j"])(y)&&v>=p===!!u;var x=t+n*d(r),_=e+i*h(r);this._start&&this._add("M",x,_);var S=Math.round(a*g);if(m){var w=1/this._p,O=(u?1:-1)*(f-w);this._add("A",n,i,S,1,+u,t+n*d(r+O),e+i*h(r+O)),w>.01&&this._add("A",n,i,S,0,+u,x,_)}else{var M=t+n*d(s),I=e+i*h(s);this._add("A",n,i,S,+b,+u,M,I)}},t.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,i,a,r,o,s,l){for(var c=[],u=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);c.push(Math.round(d*u)/u)}this._d.push(t+c.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),m=y,v=n("8d1d"),b=n("6d8b"),x="none",_=Math.round;function S(t){var e=t.fill;return null!=e&&e!==x}function w(t){var e=t.stroke;return null!=e&&e!==x}var O=["lineCap","miterLimit","lineJoin"],M=Object(b["map"])(O,(function(t){return"stroke-"+t.toLowerCase()}));function I(t,e,n,i){var a=null==e.opacity?1:e.opacity;if(n instanceof l["a"])t("opacity",a);else{if(S(e)){var r=Object(o["p"])(e.fill);t("fill",r.color);var c=null!=e.fillOpacity?e.fillOpacity*r.opacity*a:r.opacity*a;(i||c<1)&&t("fill-opacity",c)}else t("fill",x);if(w(e)){var u=Object(o["p"])(e.stroke);t("stroke",u.color);var h=e.strokeNoScale?n.getLineScale():1,d=h?(e.lineWidth||0)/h:0,p=null!=e.strokeOpacity?e.strokeOpacity*u.opacity*a:u.opacity*a,f=e.strokeFirst;if((i||1!==d)&&t("stroke-width",d),(i||f)&&t("paint-order",f?"stroke":"fill"),(i||p<1)&&t("stroke-opacity",p),e.lineDash){var g=Object(v["a"])(n),y=g[0],m=g[1];y&&(m=_(m||0),t("stroke-dasharray",y.join(",")),(m||i)&&t("stroke-dashoffset",m))}else i&&t("stroke-dasharray",x);for(var b=0;b<O.length;b++){var I=O[b];if(i||e[I]!==s["a"][I]){var j=e[I]||s["a"][I];j&&t(M[b],j)}}}else i&&t("stroke",x)}}var j="http://www.w3.org/2000/svg",C="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/xmlns/",D="http://www.w3.org/XML/1998/namespace";function T(t){return document.createElementNS(j,t)}function L(t,e,n,i,a){return{tag:t,attrs:n||{},children:i,text:a,key:e}}function P(t,e){var n=[];if(e)for(var i in e){var a=e[i],r=i;!1!==a&&(!0!==a&&null!=a&&(r+='="'+a+'"'),n.push(r))}return"<"+t+" "+n.join(" ")+">"}function k(t){return"</"+t+">"}function N(t,e){e=e||{};var n=e.newline?"\n":"";function i(t){var e=t.children,a=t.tag,r=t.attrs;return P(a,r)+(t.text||"")+(e?""+n+Object(b["map"])(e,(function(t){return i(t)})).join(n)+n:"")+k(a)}return i(t)}function R(t,e,n){n=n||{};var i=n.newline?"\n":"",a=" {"+i,r=i+"}",o=Object(b["map"])(Object(b["keys"])(t),(function(e){return e+a+Object(b["map"])(Object(b["keys"])(t[e]),(function(n){return n+":"+t[e][n]+";"})).join(i)+r})).join(i),s=Object(b["map"])(Object(b["keys"])(e),(function(t){return"@keyframes "+t+a+Object(b["map"])(Object(b["keys"])(e[t]),(function(n){return n+a+Object(b["map"])(Object(b["keys"])(e[t][n]),(function(i){var a=e[t][n][i];return"d"===i&&(a='path("'+a+'")'),i+":"+a+";"})).join(i)+r})).join(i)+r})).join(i);return o||s?["<![CDATA[",o,s,"]]>"].join(i):""}function E(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function z(t,e,n,i){return L("svg","root",{width:t,height:e,xmlns:j,"xmlns:xlink":C,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+t+" "+e},n)}var V=n("5e76"),B=n("8582"),G=n("20c8"),F=n("d4c6"),W=n("b362"),H={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Y="transform-origin";function X(t,e,n){var i=Object(b["extend"])({},t.shape);Object(b["extend"])(i,e),t.buildPath(n,i);var a=new m;return a.reset(Object(o["f"])(t)),n.rebuildPath(a,1),a.generateStr(),a.getStr()}function U(t,e){var n=e.originX,i=e.originY;(n||i)&&(t[Y]=n+"px "+i+"px")}var Z={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function q(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function J(t,e,n){var i,a,r=t.shape.paths,o={};if(Object(b["each"])(r,(function(t){var e=E(n.zrId);e.animation=!0,$(t,{},e,!0);var r=e.cssAnims,s=e.cssNodes,l=Object(b["keys"])(r),c=l.length;if(c){a=l[c-1];var u=r[a];for(var h in u){var d=u[h];o[h]=o[h]||{d:""},o[h].d+=d.d||""}for(var p in s){var f=s[p].animation;f.indexOf(a)>=0&&(i=f)}}})),i){e.d=!1;var s=q(o,n);return i.replace(a,s)}}function K(t){return Object(b["isString"])(t)?H[t]?"cubic-bezier("+H[t]+")":Object(W["a"])(t)?t:"":""}function $(t,e,n,i){var a=t.animators,r=a.length,s=[];if(t instanceof F["a"]){var l=J(t,e,n);if(l)s.push(l);else if(!r)return}else if(!r)return;for(var c={},u=0;u<r;u++){var h=a[u],d=[h.getMaxTime()/1e3+"s"],p=K(h.getClip().easing),f=h.getDelay();p?d.push(p):d.push("linear"),f&&d.push(f/1e3+"s"),h.getLoop()&&d.push("infinite");var g=d.join(" ");c[g]=c[g]||[g,[]],c[g][1].push(h)}function y(a){var r,s=a[1],l=s.length,c={},u={},h={},d="animation-timing-function";function p(t,e,n){for(var i=t.getTracks(),a=t.getMaxTime(),r=0;r<i.length;r++){var o=i[r];if(o.needsAnimate()){var s=o.keyframes,l=o.propName;if(n&&(l=n(l)),l)for(var c=0;c<s.length;c++){var u=s[c],h=Math.round(u.time/a*100)+"%",p=K(u.easing),f=u.rawValue;(Object(b["isString"])(f)||Object(b["isNumber"])(f))&&(e[h]=e[h]||{},e[h][l]=u.rawValue,p&&(e[h][d]=p))}}}}for(var f=0;f<l;f++){var g=s[f],y=g.targetName;y?"shape"===y&&p(g,u):!i&&p(g,c)}for(var m in c){var v={};Object(B["b"])(v,t),Object(b["extend"])(v,c[m]);var x=Object(o["g"])(v),_=c[m][d];h[m]=x?{transform:x}:{},U(h[m],v),_&&(h[m][d]=_)}var S=!0;for(var m in u){h[m]=h[m]||{};var w=!r;_=u[m][d];w&&(r=new G["a"]);var O=r.len();r.reset(),h[m].d=X(t,u[m],r);var M=r.len();if(!w&&O!==M){S=!1;break}_&&(h[m][d]=_)}if(!S)for(var m in h)delete h[m].d;if(!i)for(f=0;f<l;f++){g=s[f],y=g.targetName;"style"===y&&p(g,h,(function(t){return Z[t]}))}var I,j=Object(b["keys"])(h),C=!0;for(f=1;f<j.length;f++){var A=j[f-1],D=j[f];if(h[A][Y]!==h[D][Y]){C=!1;break}I=h[A][Y]}if(C&&I){for(var m in h)h[m][Y]&&delete h[m][Y];e[Y]=I}if(Object(b["filter"])(j,(function(t){return Object(b["keys"])(h[t]).length>0})).length){var T=q(h,n);return T+" "+a[0]+" both"}}for(var m in c){l=y(c[m]);l&&s.push(l)}if(s.length){var v=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+v]={animation:s.join(",")},e["class"]=v}}var Q=n("76a5"),tt=n("726e"),et=Math.round;function nt(t){return t&&Object(b["isString"])(t.src)}function it(t){return t&&Object(b["isFunction"])(t.toDataURL)}function at(t,e,n,i){I((function(a,r){var s="fill"===a||"stroke"===a;s&&Object(o["k"])(r)?vt(e,t,a,i):s&&Object(o["n"])(r)?bt(n,t,a,i):t[a]=r}),e,n,!1),mt(n,t,i)}function rt(t){return Object(o["j"])(t[0]-1)&&Object(o["j"])(t[1])&&Object(o["j"])(t[2])&&Object(o["j"])(t[3]-1)}function ot(t){return Object(o["j"])(t[4])&&Object(o["j"])(t[5])}function st(t,e,n){if(e&&(!ot(e)||!rt(e))){var i=n?10:1e4;t.transform=rt(e)?"translate("+et(e[4]*i)/i+" "+et(e[5]*i)/i+")":Object(o["e"])(e)}}function lt(t,e,n){for(var i=t.points,a=[],r=0;r<i.length;r++)a.push(et(i[r][0]*n)/n),a.push(et(i[r][1]*n)/n);e.points=a.join(" ")}function ct(t){return!t.smooth}function ut(t){var e=Object(b["map"])(t,(function(t){return"string"===typeof t?[t,t]:t}));return function(t,n,i){for(var a=0;a<e.length;a++){var r=e[a],o=t[r[0]];null!=o&&(n[r[1]]=et(o*i)/i)}}}var ht={circle:[ut(["cx","cy","r"])],polyline:[lt,ct],polygon:[lt,ct]};function dt(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}function pt(t,e){var n=t.style,i=t.shape,a=ht[t.type],r={},s=e.animation,l="path",c=t.style.strokePercent,u=e.compress&&Object(o["f"])(t)||4;if(!a||e.willUpdate||a[1]&&!a[1](i)||s&&dt(t)||c<1){t.path||t.createPathProxy();var h=t.path;t.shapeChanged()&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var d=h.getVersion(),p=t,f=p.__svgPathBuilder;p.__svgPathVersion===d&&f&&c===p.__svgPathStrokePercent||(f||(f=p.__svgPathBuilder=new m),f.reset(u),h.rebuildPath(f,c),f.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=c),r.d=f.getStr()}else{l=t.type;var g=Math.pow(10,u);a[0](i,r,g)}return st(r,t.transform),at(r,n,t,e),e.animation&&$(t,r,e),L(l,t.id+"",r)}function ft(t,e){var n=t.style,i=n.image;if(i&&!Object(b["isString"])(i)&&(nt(i)?i=i.src:it(i)&&(i=i.toDataURL())),i){var a=n.x||0,r=n.y||0,o=n.width,s=n.height,l={href:i,width:o,height:s};return a&&(l.x=a),r&&(l.y=r),st(l,t.transform),at(l,n,t,e),e.animation&&$(t,l,e),L("image",t.id+"",l)}}function gt(t,e){var n=t.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var a=n.font||tt["a"],r=n.x||0,s=Object(o["b"])(n.y||0,Object(c["e"])(a),n.textBaseline),l=o["a"][n.textAlign]||n.textAlign,u={"dominant-baseline":"central","text-anchor":l};if(Object(Q["b"])(n)){var h="",d=n.fontStyle,p=Object(Q["c"])(n.fontSize);if(!parseFloat(p))return;var f=n.fontFamily||tt["b"],g=n.fontWeight;h+="font-size:"+p+";font-family:"+f+";",d&&"normal"!==d&&(h+="font-style:"+d+";"),g&&"normal"!==g&&(h+="font-weight:"+g+";"),u.style=h}else u.style="font: "+a;return i.match(/\s/)&&(u["xml:space"]="preserve"),r&&(u.x=r),s&&(u.y=s),st(u,t.transform),at(u,n,t,e),e.animation&&$(t,u,e),L("text",t.id+"",u,void 0,i)}}function yt(t,e){return t instanceof s["b"]?pt(t,e):t instanceof l["a"]?ft(t,e):t instanceof u["a"]?gt(t,e):void 0}function mt(t,e,n){var i=t.style;if(Object(o["i"])(i)){var a=Object(o["h"])(t),r=n.shadowCache,s=r[a];if(!s){var l=t.getGlobalScale(),c=l[0],u=l[1];if(!c||!u)return;var h=i.shadowOffsetX||0,d=i.shadowOffsetY||0,p=i.shadowBlur,f=Object(o["p"])(i.shadowColor),g=f.opacity,y=f.color,m=p/2/c,v=p/2/u,b=m+" "+v;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=L("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[L("feDropShadow","",{dx:h/c,dy:d/u,stdDeviation:b,"flood-color":y,"flood-opacity":g})]),r[a]=s}e.filter=Object(o["d"])(s)}}function vt(t,e,n,i){var a,r=t[n],s={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(o["m"])(r))a="linearGradient",s.x1=r.x,s.y1=r.y,s.x2=r.x2,s.y2=r.y2;else{if(!Object(o["o"])(r))return void 0;a="radialGradient",s.cx=Object(b["retrieve2"])(r.x,.5),s.cy=Object(b["retrieve2"])(r.y,.5),s.r=Object(b["retrieve2"])(r.r,.5)}for(var l=r.colorStops,c=[],u=0,h=l.length;u<h;++u){var d=100*Object(o["q"])(l[u].offset)+"%",p=l[u].color,f=Object(o["p"])(p),g=f.color,y=f.opacity,m={offset:d};m["stop-color"]=g,y<1&&(m["stop-opacity"]=y),c.push(L("stop",u+"",m))}var v=L(a,"",s,c),x=N(v),_=i.gradientCache,S=_[x];S||(S=i.zrId+"-g"+i.gradientIdx++,_[x]=S,s.id=S,i.defs[S]=L(a,S,s,c)),e[n]=Object(o["d"])(S)}function bt(t,e,n,i){var a,r=t.style[n],s={patternUnits:"userSpaceOnUse"};if(Object(o["l"])(r)){var l=r.imageWidth,c=r.imageHeight,u=void 0,h=r.image;if(Object(b["isString"])(h)?u=h:nt(h)?u=h.src:it(h)&&(u=h.toDataURL()),"undefined"===typeof Image){var d="Image width/height must been given explictly in svg-ssr renderer.";Object(b["assert"])(l,d),Object(b["assert"])(c,d)}else if(null==l||null==c){var p=function(t,e){if(t){var n=t.elm,i=t.attrs.width=l||e.width,a=t.attrs.height=c||e.height;n&&(n.setAttribute("width",i),n.setAttribute("height",a))}},f=Object(V["a"])(u,null,t,(function(t){p(g,t),p(a,t)}));f&&f.width&&f.height&&(l=l||f.width,c=c||f.height)}a=L("image","img",{href:u,width:l,height:c}),s.width=l,s.height=c}else r.svgElement&&(a=Object(b["clone"])(r.svgElement),s.width=r.svgWidth,s.height=r.svgHeight);if(a){s.patternTransform=Object(o["g"])(r);var g=L("pattern","",s,[a]),y=N(g),m=i.patternCache,v=m[y];v||(v=i.zrId+"-p"+i.patternIdx++,m[y]=v,s.id=v,g=i.defs[v]=L("pattern",v,s,[a])),e[n]=Object(o["d"])(v)}}function xt(t,e,n){var i=n.clipPathCache,a=n.defs,r=i[t.id];if(!r){r=n.zrId+"-c"+n.clipPathIdx++;var s={id:r};i[t.id]=r,a[r]=L("clipPath",r,s,[pt(t,n)])}e["clip-path"]=Object(o["d"])(r)}function _t(t){return document.createTextNode(t)}function St(t,e,n){t.insertBefore(e,n)}function wt(t,e){t.removeChild(e)}function Ot(t,e){t.appendChild(e)}function Mt(t){return t.parentNode}function It(t){return t.nextSibling}function jt(t,e){t.textContent=e}var Ct=58,At=120,Dt=L("","");function Tt(t){return void 0===t}function Lt(t){return void 0!==t}function Pt(t,e,n){for(var i={},a=e;a<=n;++a){var r=t[a].key;void 0!==r&&(i[r]=a)}return i}function kt(t,e){var n=t.key===e.key,i=t.tag===e.tag;return i&&n}function Nt(t){var e,n=t.children,i=t.tag;if(Lt(i)){var a=t.elm=T(i);if(zt(Dt,t),Object(b["isArray"])(n))for(e=0;e<n.length;++e){var r=n[e];null!=r&&Ot(a,Nt(r))}else Lt(t.text)&&!Object(b["isObject"])(t.text)&&Ot(a,_t(t.text))}else t.elm=_t(t.text);return t.elm}function Rt(t,e,n,i,a){for(;i<=a;++i){var r=n[i];null!=r&&St(t,Nt(r),e)}}function Et(t,e,n,i){for(;n<=i;++n){var a=e[n];if(null!=a)if(Lt(a.tag)){var r=Mt(a.elm);wt(r,a.elm)}else wt(t,a.elm)}}function zt(t,e){var n,i=e.elm,a=t&&t.attrs||{},r=e.attrs||{};if(a!==r){for(n in r){var o=r[n],s=a[n];s!==o&&(!0===o?i.setAttribute(n,""):!1===o?i.removeAttribute(n):n.charCodeAt(0)!==At?i.setAttribute(n,o):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS(A,n,o):n.charCodeAt(3)===Ct?i.setAttributeNS(D,n,o):n.charCodeAt(5)===Ct?i.setAttributeNS(C,n,o):i.setAttribute(n,o))}for(n in a)n in r||i.removeAttribute(n)}}function Vt(t,e,n){var i,a,r,o,s=0,l=0,c=e.length-1,u=e[0],h=e[c],d=n.length-1,p=n[0],f=n[d];while(s<=c&&l<=d)null==u?u=e[++s]:null==h?h=e[--c]:null==p?p=n[++l]:null==f?f=n[--d]:kt(u,p)?(Bt(u,p),u=e[++s],p=n[++l]):kt(h,f)?(Bt(h,f),h=e[--c],f=n[--d]):kt(u,f)?(Bt(u,f),St(t,u.elm,It(h.elm)),u=e[++s],f=n[--d]):kt(h,p)?(Bt(h,p),St(t,h.elm,u.elm),h=e[--c],p=n[++l]):(Tt(i)&&(i=Pt(e,s,c)),a=i[p.key],Tt(a)?St(t,Nt(p),u.elm):(r=e[a],r.tag!==p.tag?St(t,Nt(p),u.elm):(Bt(r,p),e[a]=void 0,St(t,r.elm,u.elm))),p=n[++l]);(s<=c||l<=d)&&(s>c?(o=null==n[d+1]?null:n[d+1].elm,Rt(t,o,n,l,d)):Et(t,e,s,c))}function Bt(t,e){var n=e.elm=t.elm,i=t.children,a=e.children;t!==e&&(zt(t,e),Tt(e.text)?Lt(i)&&Lt(a)?i!==a&&Vt(n,i,a):Lt(a)?(Lt(t.text)&&jt(n,""),Rt(n,null,a,0,a.length-1)):Lt(i)?Et(n,i,0,i.length-1):Lt(t.text)&&jt(n,""):t.text!==e.text&&(Lt(i)&&Et(n,i,0,i.length-1),jt(n,e.text)))}function Gt(t,e){if(kt(t,e))Bt(t,e);else{var n=t.elm,i=Mt(n);Nt(e),null!==i&&(St(i,e.elm,It(n)),Et(i,[t],0,0))}return e}var Ft=n("3437"),Wt=0,Ht=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=Yt("refreshHover"),this.configLayer=Yt("configLayer"),this.storage=e,this._opts=n=Object(b["extend"])({},n),this.root=t,this._id="zr"+Wt++,this._oldVNode=z(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=T("svg");zt(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Gt(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return yt(t,E(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._backgroundColor,i=this._width,a=this._height,r=E(this._id);r.animation=t.animation,r.willUpdate=t.willUpdate,r.compress=t.compress;var s=[];if(n&&"none"!==n){var l=Object(o["p"])(n),c=l.color,u=l.opacity;this._bgVNode=L("rect","bg",{width:i,height:a,x:"0",y:"0",id:"0",fill:c,"fill-opacity":u}),s.push(this._bgVNode)}else this._bgVNode=null;var h=t.compress?null:this._mainVNode=L("g","main",{},[]);this._paintList(e,r,h?h.children:s),h&&s.push(h);var d=Object(b["map"])(Object(b["keys"])(r.defs),(function(t){return r.defs[t]}));if(d.length&&s.push(L("defs","defs",{},d)),t.animation){var p=R(r.cssNodes,r.cssAnims,{newline:!0});if(p){var f=L("style","stl",{},[],p);s.push(f)}}return z(i,a,s,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},N(this.renderToVNode({animation:Object(b["retrieve2"])(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(b["retrieve2"])(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var e=this._bgVNode;if(e&&e.elm){var n=Object(o["p"])(t),i=n.color,a=n.opacity;e.elm.setAttribute("fill",i),a<1&&e.elm.setAttribute("fill-opacity",a)}},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var i,a,r=t.length,o=[],s=0,l=0,c=0;c<r;c++){var u=t[c];if(!u.invisible){var h=u.__clipPaths,d=h&&h.length||0,p=a&&a.length||0,f=void 0;for(f=Math.max(d-1,p-1);f>=0;f--)if(h&&a&&h[f]===a[f])break;for(var g=p-1;g>f;g--)s--,i=o[s-1];for(var y=f+1;y<d;y++){var m={};xt(h[y],m,e);var v=L("g","clip-g-"+l++,m,[]);(i?i.children:n).push(v),o[s++]=v,i=v}a=h;var b=yt(u,e);b&&(i?i.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),i&&a&&(a.style.display="none",t=Object(Ft["b"])(i,0,n),e=Object(Ft["b"])(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var r=a.style;r.width=t+"px",r.height=e+"px"}var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",e))}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=encodeURIComponent(this.renderToString()),n="data:image/svg+xml;";return t?(e=Object(o["c"])(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+e},t}();function Yt(t){return function(){0}}var Xt=Ht;function Ut(t){t.registerPainter("svg",Xt)}var Zt=n("3620"),qt=n("4cb5"),Jt=n("49bb"),Kt=n("7fae"),$t=n("1830"),Qt=n("4f85"),te=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object($t["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Qt["b"]),ee=te,ne=n("f706"),ie=n("9850"),ae=n("2dc5"),re=n("a15a"),oe=n("861c"),se=4,le=function(){function t(){}return t}(),ce=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(Kt["a"])(e,t),e.prototype.getDefaultShape=function(){return new le},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,i=e.points,a=e.size,r=this.symbolProxy,o=r.shape,s=t.getContext?t.getContext():t,l=s&&a[0]<se,c=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<i.length;){var u=i[n++],h=i[n++];isNaN(u)||isNaN(h)||(c&&!c.contain(u,h)||(o.x=u-a[0]/2,o.y=h-a[1]/2,o.width=a[0],o.height=a[1],r.buildPath(t,o,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,a=this._ctx,r=this.softClipShape;if(a){for(t=this._off;t<n.length;){var o=n[t++],s=n[t++];isNaN(o)||isNaN(s)||(r&&!r.contain(o,s)||a.fillRect(o-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,a=n.size,r=Math.max(a[0],4),o=Math.max(a[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,c=i[l]-r/2,u=i[l+1]-o/2;if(t>=c&&e>=u&&t<=c+r&&e<=u+o)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();if(t=n[0],e=n[1],i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,i=e.size,a=i[0],r=i[1],o=1/0,s=1/0,l=-1/0,c=-1/0,u=0;u<n.length;){var h=n[u++],d=n[u++];o=Math.min(h,o),l=Math.max(h,l),s=Math.min(d,s),c=Math.max(d,c)}t=this._rect=new ie["a"](o-a/2,s-r/2,l-o+a,c-s+r)}return t},e}(s["b"]),ue=function(){function t(){this.group=new ae["a"]}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),r=i&&i.shape.points;if(r&&r.length<2e4){var o=r.length,s=new Float32Array(o+a.length);s.set(r),s.set(a,o),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:a}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new ce({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Object(re["a"])(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var r=t.shape.size[0]<se;t.useStyle(i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("style"),s=o&&o.fill;s&&t.setColor(s);var l=Object(oe["a"])(t);l.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),he=ue,de=n("87c3"),pe=n("e887"),fe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),a=this._updateSymbolDraw(i,t);a.updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData(),a=this._updateSymbolDraw(i,t);a.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var a=Object(de["a"])("").reset(t,e,n);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext,a=i.large;return n&&a===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=a?new he:new ne["a"],this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(pe["a"]),ge=fe,ye=n("8702");function me(t){Object(i["a"])(ye["a"]),t.registerSeriesModel(ee),t.registerChartView(ge),t.registerLayout(Object(de["a"])("scatter"))}var ve=n("e8e6"),be=n("d9fc"),xe=n("4a01");function _e(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function Se(t,e,n,i){var a=t.target,r=t.zoomLimit,o=t.zoom=t.zoom||1;if(o*=e,r){var s=r.min||0,l=r.max||1/0;o=Math.max(Math.min(l,o),s)}var c=o/t.zoom;t.zoom=o,a.x-=(n-a.x)*(c-1),a.y-=(i-a.y)*(c-1),a.scaleX*=c,a.scaleY*=c,a.dirty()}var we,Oe=n("c526"),Me=n("deab"),Ie=n("87b1"),je=n("d498"),Ce=n("2306"),Ae=n("7d6c"),De=n("c7a2"),Te=n("ae69"),Le=n("cb11"),Pe=n("1687"),ke=n("342d"),Ne=n("48a9"),Re=n("dded");function Ee(t){if(Object(b["isString"])(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var ze={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Ve=Object(b["keys"])(ze),Be={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Ge=Object(b["keys"])(Be),Fe=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=Ee(t);this._defsUsePending=[];var i=new ae["a"];this._root=i;var a=[],r=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),Ze(n,i,null,!0,!1);var l,c,u=n.firstChild;while(u)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;if($e(this._defs,this._defsUsePending),this._defsUsePending=[],r){var h=tn(r);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=o&&null!=s&&(c=ln(l,{x:0,y:0,width:o,height:s}),!e.ignoreViewBox)){var d=i;i=new ae["a"],i.add(d),d.scaleX=d.scaleY=c.scale,d.x=c.x,d.y=c.y}return e.ignoreRootClip||null==o||null==s||i.setClipPath(new De["a"]({shape:{x:0,y:0,width:o,height:s}})),{root:i,width:o,height:s,viewBoxRect:l,viewBoxTransform:c,named:a}},t.prototype._parseNode=function(t,e,n,i,a,r){var o,s=t.nodeName.toLowerCase(),l=i;if("defs"===s&&(a=!0),"text"===s&&(r=!0),"defs"===s||"switch"===s)o=e;else{if(!a){var c=we[s];if(c&&Object(b["hasOwn"])(we,s)){o=c.call(this,t,e);var u=t.getAttribute("name");if(u){var h={name:u,namedFrom:null,svgNodeTagLower:s,el:o};n.push(h),"g"===s&&(l=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:o});e.add(o)}}var d=We[s];if(d&&Object(b["hasOwn"])(We,s)){var p=d.call(this,t),f=t.getAttribute("id");f&&(this._defs[f]=p)}}if(o&&o.isGroup){var g=t.firstChild;while(g)1===g.nodeType?this._parseNode(g,o,n,l,a,r):3===g.nodeType&&r&&this._parseText(g,o),g=g.nextSibling}},t.prototype._parseText=function(t,e){var n=new u["a"]({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),qe(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var r=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=r;var o=n.getBoundingRect();return this._textX+=o.width,e.add(n),n},t.internalField=function(){we={g:function(t,e){var n=new ae["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new De["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new be["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Le["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Te["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,i=t.getAttribute("points");i&&(n=Ue(i));var a=new Ie["a"]({shape:{points:n||[]},silent:!0});return Xe(e,a),Ze(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n,i=t.getAttribute("points");i&&(n=Ue(i));var a=new je["a"]({shape:{points:n||[]},silent:!0});return Xe(e,a),Ze(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new l["a"];return Xe(e,n),Ze(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(r);var o=new ae["a"];return Xe(e,o),Ze(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0",o=new ae["a"];return Xe(e,o),Ze(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(r),o},path:function(t,e){var n=t.getAttribute("d")||"",i=Object(ke["b"])(n);return Xe(e,i),Ze(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),t}(),We={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),a=parseInt(t.getAttribute("y2")||"0",10),r=new Ne["a"](e,n,i,a);return He(t,r),Ye(t,r),r},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),i=parseInt(t.getAttribute("r")||"0",10),a=new Re["a"](e,n,i);return He(t,a),Ye(t,a),a}};function He(t,e){var n=t.getAttribute("gradientUnits");"userSpaceOnUse"===n&&(e.global=!0)}function Ye(t,e){var n=t.firstChild;while(n){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),a=void 0;a=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r={};on(n,r,r);var o=r.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:a,color:o})}n=n.nextSibling}}function Xe(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(b["defaults"])(e.__inheritedStyle,t.__inheritedStyle))}function Ue(t){for(var e=tn(t),n=[],i=0;i<e.length;i+=2){var a=parseFloat(e[i]),r=parseFloat(e[i+1]);n.push([a,r])}return n}function Ze(t,e,n,i,a){var r=e,o=r.__inheritedStyle=r.__inheritedStyle||{},s={};1===t.nodeType&&(an(t,e),on(t,o,s),i||sn(t,o,s)),r.style=r.style||{},null!=o.fill&&(r.style.fill=Ke(r,"fill",o.fill,n)),null!=o.stroke&&(r.style.stroke=Ke(r,"stroke",o.stroke,n)),Object(b["each"])(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=o[t]&&(r.style[t]=parseFloat(o[t]))})),Object(b["each"])(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=o[t]&&(r.style[t]=o[t])})),a&&(r.__selfStyle=s),o.lineDash&&(r.style.lineDash=Object(b["map"])(tn(o.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==o.visibility&&"collapse"!==o.visibility||(r.invisible=!0),"none"===o.display&&(r.ignore=!0)}function qe(t,e){var n=e.__selfStyle;if(n){var i=n.textBaseline,a=i;i&&"auto"!==i?"baseline"===i?a="alphabetic":"before-edge"===i||"text-before-edge"===i?a="top":"after-edge"===i||"text-after-edge"===i?a="bottom":"central"!==i&&"mathematical"!==i||(a="middle"):a="alphabetic",t.style.textBaseline=a}var r=e.__inheritedStyle;if(r){var o=r.textAlign,s=o;o&&("middle"===o&&(s="center"),t.style.textAlign=s)}}var Je=/^url\(\s*#(.*?)\)/;function Ke(t,e,n,i){var a=n&&n.match(Je);if(!a)return"none"===n&&(n=null),n;var r=Object(b["trim"])(a[1]);i.push([t,e,r])}function $e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i[0].style[i[1]]=t[i[2]]}}var Qe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function tn(t){return t.match(Qe)||[]}var en=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,nn=Math.PI/180;function an(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],a=null;n.replace(en,(function(t,e,n){return i.push(e,n),""}));for(var r=i.length-1;r>0;r-=2){var o=i[r],s=i[r-1],l=tn(o);switch(a=a||Pe["create"](),s){case"translate":Pe["translate"](a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Pe["scale"](a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Pe["rotate"](a,a,-parseFloat(l[0])*nn);break;case"skewX":var c=Math.tan(parseFloat(l[0])*nn);Pe["mul"](a,[1,0,c,1,0,0],a);break;case"skewY":var u=Math.tan(parseFloat(l[0])*nn);Pe["mul"](a,[1,u,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var rn=/([^\s:;]+)\s*:\s*([^:;]+)/g;function on(t,e,n){var i=t.getAttribute("style");if(i){var a;rn.lastIndex=0;while(null!=(a=rn.exec(i))){var r=a[1],o=Object(b["hasOwn"])(ze,r)?ze[r]:null;o&&(e[o]=a[2]);var s=Object(b["hasOwn"])(Be,r)?Be[r]:null;s&&(n[s]=a[2])}}}function sn(t,e,n){for(var i=0;i<Ve.length;i++){var a=Ve[i],r=t.getAttribute(a);null!=r&&(e[ze[a]]=r)}for(i=0;i<Ge.length;i++){a=Ge[i],r=t.getAttribute(a);null!=r&&(n[Be[a]]=r)}}function ln(t,e){var n=e.width/t.width,i=e.height/t.height,a=Math.min(n,i);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function cn(t,e){var n=new Fe;return n.parse(t,e)}var un=n("f279"),hn=Object(b["createHashMap"])(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),dn=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(b["createHashMap"])(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Ee(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=fn(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n;try{e=t&&cn(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,Object(b["assert"])(null!=n)}catch(g){throw new Error("Invalid svg format\n"+g.message)}var i=new ae["a"];i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,r=e.height,o=e.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,c=void 0,u=void 0,h=void 0;if(null!=a?(l=0,u=a):o&&(l=o.x,u=o.width),null!=r?(c=0,h=r):o&&(c=o.y,h=o.height),null==l||null==c){var d=n.getBoundingRect();null==l&&(l=d.x,u=d.width),null==c&&(c=d.y,h=d.height)}s=this._boundingRect=new ie["a"](l,c,u,h)}if(o){var p=ln(o,s);n.scaleX=n.scaleY=p.scale,n.x=p.x,n.y=p.y}i.setClipPath(new De["a"]({shape:s.plain()}));var f=[];return Object(b["each"])(e.named,(function(t){null!=hn.get(t.svgNodeTagLower)&&(f.push(t),pn(t.el))})),{root:i,boundingRect:s,named:f}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();function pn(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function fn(t){var e=[],n=Object(b["createHashMap"])();return Object(b["each"])(t,(function(t){if(null==t.namedFrom){var i=new un["d"](t.name,t.el);e.push(i),n.set(t.name,i)}})),{regions:e,regionsMap:n}}for(var gn=n("bda7"),yn=[126,25],mn="南海诸岛",vn=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],bn=0;bn<vn.length;bn++)for(var xn=0;xn<vn[bn].length;xn++)vn[bn][xn][0]/=10.5,vn[bn][xn][1]/=-14,vn[bn][xn][0]+=yn[0],vn[bn][xn][1]+=yn[1];function _n(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===mn)return;e.push(new un["c"](mn,b["map"](vn,(function(t){return{type:"polygon",exterior:t}})),yn))}}var Sn={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function wn(t,e){if("china"===t){var n=Sn[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}var On=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Mn(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:On[0]})}var In="name",jn=function(){function t(t,e,n){this.type="geoJSON",this._parsedMap=Object(b["createHashMap"])(),this._mapName=t,this._specialAreas=n,this._geoJSON=An(e)}return t.prototype.load=function(t,e){e=e||In;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:Cn(i)})}var a=Object(b["createHashMap"])(),r=[];return Object(b["each"])(n.regions,(function(e){var n=e.name;t&&Object(b["hasOwn"])(t,n)&&(e=e.cloneShallow(n=t[n])),r.push(e),a.set(n,e)})),{regions:r,boundingRect:n.boundingRect||new ie["a"](0,0,0,0),regionsMap:a}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?Object(gn["a"])(i,t):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return _n(n,e),Object(b["each"])(e,(function(t){var e=t.name;wn(n,t),Mn(n,t);var i=this._specialAreas&&this._specialAreas[e];i&&t.transformTo(i.left,i.top,i.width,i.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function Cn(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();e=e||i.clone(),e.union(i)}return e}function An(t){return Object(b["isString"])(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var Dn=Object(b["createHashMap"])(),Tn={registerMap:function(t,e,n){if(e.svg){var i=new dn(t,e.svg);Dn.set(t,i)}else{var a=e.geoJson||e.geoJSON;a&&!e.features?n=e.specialAreas:a=e;i=new jn(t,a,n);Dn.set(t,i)}},getGeoResource:function(t){return Dn.get(t)},getMapForUser:function(t){var e=Dn.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var i=Dn.get(t);if(i)return i.load(e,n)}},Ln=n("8918"),Pn=n("7837"),kn=n("b3c1"),Nn=n("19eb"),Rn=n("e0d3"),En=["rect","circle","line","ellipse","polygon","polyline","path"],zn=b["createHashMap"](En),Vn=b["createHashMap"](En.concat(["g"])),Bn=b["createHashMap"](En.concat(["g"])),Gn=Object(Rn["o"])();function Fn(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function Wn(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Hn=function(){function t(t){var e=new ae["a"];this.uid=Object(Ln["c"])("ec_map_draw"),this._controller=new xe["a"](t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new ae["a"]),e.add(this._svgGroup=new ae["a"])}return t.prototype.draw=function(t,e,n,i,a){var r="geo"===t.mainType,o=t.getData&&t.getData();r&&e.eachComponent({mainType:"series",subType:"map"},(function(e){o||e.getHostGeoModel()!==t||(o=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,c=this.group,u=s.getTransformInfo(),h=u.raw,d=u.roam,p=!l.childAt(0)||a;p?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):Me["h"](c,d,t);var f=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,g={api:n,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:f,isGeo:r,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(g):"geoSVG"===s.resourceType&&this._buildSVG(g),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=b["createHashMap"](),n=b["createHashMap"](),i=this._regionsGroup,a=t.transformInfoRaw,r=t.mapOrGeoModel,o=t.data,s=t.geo.projection,l=s&&s.stream;function c(t,e){return e&&(t=e(t)),t&&[t[0]*a.scaleX+a.x,t[1]*a.scaleY+a.y]}function u(t){for(var e=[],n=!l&&s&&s.project,i=0;i<t.length;++i){var a=c(t[i],n);a&&e.push(a)}return e}function h(t){return{shape:{points:u(t)}}}i.removeAll(),b["each"](t.geo.regions,(function(a){var u=a.name,d=e.get(u),p=n.get(u)||{},f=p.dataIdx,g=p.regionModel;d||(d=e.set(u,new ae["a"]),i.add(d),f=o?o.indexOfName(u):null,g=t.isGeo?r.getRegionModel(u):o?o.getItemModel(f):null,n.set(u,{dataIdx:f,regionModel:g}));var y=[],m=[];b["each"](a.geometries,(function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=Jn(e,l)),b["each"](e,(function(t){y.push(new Ie["a"](h(t)))}))}else{var n=t.points;l&&(n=Jn(n,l,!0)),b["each"](n,(function(t){m.push(new je["a"](h(t)))}))}}));var v=c(a.getCenter(),s&&s.project);function x(e,n){if(e.length){var i=new F["a"]({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(i),Yn(t,i,f,g),Xn(t,i,u,g,r,f,v),n&&(Wn(i),b["each"](i.states,Wn))}}x(y),x(m,!0)})),e.each((function(e,i){var a=n.get(i),o=a.dataIdx,s=a.regionModel;Un(t,e,i,s,r,o),Zn(t,e,i,s,r),qn(t,e,i,s,r)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=b["createHashMap"](),a=!1;b["each"](this._svgGraphicRecord.named,(function(e){var n=e.name,r=t.mapOrGeoModel,o=t.data,s=e.svgNodeTagLower,l=e.el,c=o?o.indexOfName(n):null,u=r.getRegionModel(n);if(null!=zn.get(s)&&l instanceof Nn["c"]&&Yn(t,l,c,u),l instanceof Nn["c"]&&(l.culling=!0),l.z2EmphasisLift=0,!e.namedFrom&&(null!=Bn.get(s)&&Xn(t,l,n,u,r,c,null),Un(t,l,n,u,r,c),Zn(t,l,n,u,r),null!=Vn.get(s))){var h=qn(t,l,n,u,r);"self"===h&&(a=!0);var d=i.get(n)||i.set(n,[]);d.push(l)}}),this),this._enableBlurEntireSVG(a,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){Object(Ae["G"])(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=i&&(e.opacity=i),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=Tn.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Tn.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,a=this._controller,r=this._controllerHost;r.zoomLimit=t.get("scaleLimit"),r.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};return e[o+"Id"]=t.id,e}a.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,_e(r,t.dx,t.dy),n.dispatchAction(b["extend"](s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),a.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,Se(r,t.scale,t.originX,t.originY),n.dispatchAction(b["extend"](s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),a.setPointerChecker((function(e,a,r){return i.containPoint([a,r])&&!Object(Oe["a"])(e,n,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=Gn(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){a._mouseDownFlag=!0})),e.on("click",(function(t){a._mouseDownFlag&&(a._mouseDownFlag=!1)})))},t}();function Yn(t,e,n,i){var a=i.getModel("itemStyle"),r=i.getModel(["emphasis","itemStyle"]),o=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=Fn(a),c=Fn(r),u=Fn(s),h=Fn(o),d=t.data;if(d){var p=d.getItemVisual(n,"style"),f=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),f&&(l.decal=Object(kn["a"])(f,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=h,Object(Ae["G"])(e)}function Xn(t,e,n,i,a,r,o){var s=t.data,l=t.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),r)),u=s&&s.getItemLayout(r);if(l||c||u&&u.showLabel){var h=l?n:r,d=void 0;(!s||r>=0)&&(d=a);var p=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Object(Pn["g"])(e,Object(Pn["e"])(i),{labelFetcher:d,labelDataIndex:h,defaultText:n},p);var f=e.getTextContent();if(f&&(Gn(f).ignore=f.ignore,e.textConfig&&o)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function Un(t,e,n,i,a,r){t.data?t.data.setItemGraphicEl(r,e):Object(oe["a"])(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:n,region:i&&i.option||{}}}function Zn(t,e,n,i,a){t.data||Ce["setTooltipConfig"]({el:e,componentModel:a,itemName:n,itemTooltipOption:i.get("tooltip")})}function qn(t,e,n,i,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var r=i.getModel("emphasis"),o=r.get("focus");return Object(Ae["J"])(e,o,r.get("blurScope"),r.get("disabled")),t.isGeo&&Object(Ae["n"])(e,a,n),o}function Jn(t,e,n){var i,a=[];function r(){i=[]}function o(){i.length&&(a.push(i),i=[])}var s=e({polygonStart:r,polygonEnd:o,lineStart:r,lineEnd:o,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),b["each"](t,(function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!n&&s.polygonEnd(),a}var Kn=Hn,$n=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id){r=this._mapDraw;r&&a.add(r.group)}else if(t.needsDrawMap){var r=this._mapDraw||new Kn(n);a.add(r.group),r.draw(t,e,n,this,i),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,a=this.group;i.each(i.mapDimension("value"),(function(e,n){if(!isNaN(e)){var r=i.getItemLayout(n);if(r&&r.point){var o=r.point,s=r.offset,l=new be["a"]({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:8+(s?0:Ae["j"]+1)});if(!s){var c=t.mainSeries.getData(),u=i.getName(n),h=c.indexOfName(u),d=i.getItemModel(n),p=d.getModel("label"),f=c.getItemGraphicEl(h);Object(Pn["g"])(l,Object(Pn["e"])(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(h,n)}},defaultText:u}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(t){Object(Ae["H"])(l,t)}}a.add(l)}}}))},e.type="map",e}(pe["a"]),Qn=$n,ti=n("3f23"),ei=n("0f99"),ni=n("217c"),ii=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.getCenter())}},n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t){for(var e=Object(ti["a"])(this,{coordDimensions:["value"],encodeDefaulter:b["curry"](ei["d"],this)}),n=b["createHashMap"](),i=[],a=0,r=e.count();a<r;a++){var o=e.getName(a);n.set(o,!0)}var s=Tn.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return b["each"](s.regions,(function(t){var e=t.name;n.get(e)||i.push(e)})),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),a=this.getRawValue(t),r=i.getName(t),o=this.seriesGroup,s=[],l=0;l<o.length;l++){var c=o[l].originalData.indexOfName(r),u=i.mapDimension("value");isNaN(o[l].originalData.get(u,c))||s.push(o[l].name)}return Object(ni["c"])("section",{header:s.join(", "),noHeader:!s.length,blocks:[Object(ni["c"])("nameValue",{name:r,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=Object(re["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Qt["b"]),ai=ii;function ri(t,e){var n={};return b["each"](t,(function(t){t.each(t.mapDimension("value"),(function(e,i){var a="ec-"+t.getName(i);n[a]=n[a]||[],isNaN(e)||n[a].push(e)}))})),t[0].map(t[0].mapDimension("value"),(function(i,a){for(var r,o="ec-"+t[0].getName(a),s=0,l=1/0,c=-1/0,u=n[o].length,h=0;h<u;h++)l=Math.min(l,n[o][h]),c=Math.max(c,n[o][h]),s+=n[o][h];return r="min"===e?l:"max"===e?c:"average"===e?s/u:s,0===u?NaN:r}))}function oi(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)})),b["each"](e,(function(t,e){for(var n=ri(b["map"](t,(function(t){return t.getData()})),t[0].get("mapValueCalculation")),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(n.cloneShallow()),t[i].mainSeries=t[0]}))}function si(t){var e={};t.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var a={};b["each"](n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),(function(t,e){var r=i.getName(e),o=n.getRegion(r);if(o&&!isNaN(t)){var s=a[r]||0,l=n.dataToPoint(o.getCenter());a[r]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var r=n.getData();r.each((function(t){var e=r.getName(t),n=r.getItemLayout(t)||{};n.showLabel=!a[e],r.setItemLayout(t,n)})),e[i]=!0}}))}var li=n("f3bb"),ci=n("6cb7"),ui=n("4319"),hi=n("401b"),di=hi["applyTransform"],pi=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new B["c"],n._rawTransformable=new B["c"],n.name=e,n}return Object(Kt["a"])(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new ie["a"](t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new ie["a"](t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var a=this.getBoundingRect(),r=this._rawTransformable;r.transform=a.calculateTransform(new ie["a"](t,e,n,i));var o=r.parent;r.parent=null,r.decomposeTransform(),r.parent=o,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),a=this.getZoom();i=hi["applyTransform"]([],i,t),n=hi["applyTransform"]([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),Pe["copy"](this.transform||(this.transform=[]),e.transform||Pe["create"]()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Pe["invert"](this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new B["c"];return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?di(n,t,i):hi["copy"](n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?di([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=fi(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=fi(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(B["c"]);function fi(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var gi=pi,yi={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},mi=["lng","lat"],vi=function(t){function e(e,n,i){var a=t.call(this,e)||this;a.dimensions=mi,a.type="geo",a._nameCoordMap=b["createHashMap"](),a.map=n;var r,o=i.projection,s=Tn.load(n,i.nameMap,i.nameProperty),l=Tn.getGeoResource(n),c=(a.resourceType=l?l.type:null,a.regions=s.regions),u=yi[l.type];if(a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o,o)for(var h=0;h<c.length;h++){var d=c[h].getBoundingRect(o);r=r||d.clone(),r.union(d)}else r=s.boundingRect;return a.setBoundingRect(r.x,r.y,r.width,r.height),a.aspectScale=o?1:b["retrieve2"](i.aspectScale,u.aspectScale),a._invertLongitute=!o&&u.invertLongitute,a}return Object(Kt["a"])(e,t),e.prototype._transformTo=function(t,e,n,i){var a=this.getBoundingRect(),r=this._invertLongitute;a=a.clone(),r&&(a.y=-a.y-a.height);var o=this._rawTransformable;o.transform=a.calculateTransform(new ie["a"](t,e,n,i));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,r&&(o.scaleY=-o.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var i=e[n];if("geoJSON"===i.type&&i.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(b["isString"](t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,i){return t.prototype.dataToPoint.call(this,e,n,i)},e.prototype.convertToPixel=function(t,e,n){var i=bi(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=bi(e);return i===this?i.pointToData(n):null},e}(gi);function bi(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Rn["b"]).models[0]||{}).coordinateSystem:null}b["mixin"](vi,gi);var xi=vi,_i=n("f934"),Si=n("3842");function wi(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],a=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])){var r=this.projection;if(r){var o=i[0],s=i[1],l=a[0],c=a[1];i=[1/0,1/0],a=[-1/0,-1/0];var u=function(t,e,n,o){for(var s=n-t,l=o-e,c=0;c<=100;c++){var u=c/100,h=r.project([t+s*u,e+l*u]);hi["min"](i,i,h),hi["max"](a,a,h)}};u(o,s,l,s),u(l,s,l,c),u(l,c,o,c),u(o,c,l,s)}this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}else 0}var h,d,p,f=this.getBoundingRect(),g=t.get("layoutCenter"),y=t.get("layoutSize"),m=e.getWidth(),v=e.getHeight(),b=f.width/f.height*this.aspectScale,x=!1;if(g&&y&&(h=[Si["p"](g[0],m),Si["p"](g[1],v)],d=Si["p"](y,Math.min(m,v)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(x=!0)),x)p={},b>1?(p.width=d,p.height=d/b):(p.height=d,p.width=d*b),p.y=h[1]-p.height/2,p.x=h[0]-p.width/2;else{var _=t.getBoxLayoutParams();_.aspect=b,p=_i["g"](_,{width:m,height:v})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Oi(t,e){b["each"](e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}var Mi=function(){function t(){this.dimensions=mi}return t.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,a){var r=t.get("map"),o=new xi(r+a,r,b["extend"]({nameMap:t.get("nameMap")},i(t)));o.zoomLimit=t.get("scaleLimit"),n.push(o),t.coordinateSystem=o,o.model=t,o.resize=wi,o.resize(t,e)})),t.eachSeries((function(t){var e=t.get("coordinateSystem");if("geo"===e){var i=t.get("geoIndex")||0;t.coordinateSystem=n[i]}}));var a={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();a[e]=a[e]||[],a[e].push(t)}})),b["each"](a,(function(t,a){var r=b["map"](t,(function(t){return t.get("nameMap")})),o=new xi(a,a,b["extend"]({nameMap:b["mergeAll"](r)},i(t[0])));o.zoomLimit=b["retrieve"].apply(null,b["map"](t,(function(t){return t.get("scaleLimit")}))),n.push(o),o.resize=wi,o.resize(t[0],e),b["each"](t,(function(t){t.coordinateSystem=o,Oi(o,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),r=b["createHashMap"](),o=0;o<a.length;o++)r.set(a[o].name,a[o]);var s=Tn.load(e,n,i);return b["each"](s.regions,(function(t){var e=t.name;!r.get(e)&&a.push({name:e})})),a},t}(),Ii=new Mi,ji=Ii,Ci=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e,n){var i=Tn.getGeoResource(t.map);if(i&&"geoJSON"===i.type){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,n),Rn["f"](t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=ji.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=b["reduce"](e.regions||[],(function(e,i){var a=i.name;return a&&(e.set(a,new ui["a"](i,t,t.ecModel)),i.selected&&(n[a]=!0)),e}),b["createHashMap"]()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new ui["a"](null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),a={name:t};return b["isFunction"](i)?(a.status=e,i(a)):b["isString"](i)?i.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;if(n){"multiple"!==n&&(e.selectedMap=null);var i=e.selectedMap||(e.selectedMap={});i[t]=!0}},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(ci["a"]),Ai=Ci;function Di(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function Ti(t,e,n){var i=t.getZoom(),a=t.getCenter(),r=e.zoom,o=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(null!=e.dx&&null!=e.dy&&(o[0]-=e.dx,o[1]-=e.dy,t.setCenter(Di(t,o))),null!=r){if(n){var s=n.min||0,l=n.max||1/0;r=Math.max(Math.min(i*r,l),s)/i}t.scaleX*=r,t.scaleY*=r;var c=(e.originX-t.x)*(r-1),u=(e.originY-t.y)*(r-1);t.x-=c,t.y-=u,t.updateTransform(),t.setCenter(Di(t,o)),t.setZoom(r*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var Li=n("b12f"),Pi=n("fadd"),ki=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,i){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Kn(n));var a=this._mapDraw;a.draw(t,e,n,this,i),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;Object(Pi["a"])(t.target,(function(t){return null!=(e=Object(oe["a"])(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=Object(oe["a"])(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Li["a"]),Ni=ki;function Ri(t,e,n){Tn.registerMap(t,e,n)}function Ei(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var i={},a=[];return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var r=n.coordinateSystem;Object(b["each"])(r.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}));var o=[];Object(b["each"])(i,(function(t,e){i[e]&&o.push(e)})),a.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:a,name:t.name}}))}t.registerCoordinateSystem("geo",ji),t.registerComponentModel(Ai),t.registerComponentView(Ni),t.registerImpl("registerMap",Ri),t.registerImpl("getMap",(function(t){return Tn.getMapForUser(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var i=e.coordinateSystem;if("geo"===i.type){var a=Ti(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===n&&Object(b["each"])(e.seriesGroup,(function(t){t.setCenter(a.center),t.setZoom(a.zoom)}))}}))}))}function zi(t){Object(i["a"])(Ei),t.registerChartView(Qn),t.registerSeriesModel(ai),t.registerLayout(si),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,oi),Object(li["a"])("map",t.registerAction)}var Vi=n("ac0f"),Bi=n("1418");function Gi(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var n,i,a=[e];while(n=a.pop())if(i=n.children,n.isExpand&&i.length)for(var r=i.length,o=r-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},a.push(s)}}function Fi(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,a=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){Ui(t);var r=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;a?(t.hierNode.prelim=a.hierNode.prelim+e(t,a),t.hierNode.modifier=t.hierNode.prelim-r):t.hierNode.prelim=r}else a&&(t.hierNode.prelim=a.hierNode.prelim+e(t,a));t.parentNode.hierNode.defaultAncestor=Zi(t,a,t.parentNode.hierNode.defaultAncestor||i[0],e)}function Wi(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Hi(t){return arguments.length?t:Qi}function Yi(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function Xi(t,e){return _i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ui(t){var e=t.children,n=e.length,i=0,a=0;while(--n>=0){var r=e[n];r.hierNode.prelim+=i,r.hierNode.modifier+=i,a+=r.hierNode.change,i+=r.hierNode.shift+a}}function Zi(t,e,n,i){if(e){var a=t,r=t,o=r.parentNode.children[0],s=e,l=a.hierNode.modifier,c=r.hierNode.modifier,u=o.hierNode.modifier,h=s.hierNode.modifier;while(s=qi(s),r=Ji(r),s&&r){a=qi(a),o=Ji(o),a.hierNode.ancestor=t;var d=s.hierNode.prelim+h-r.hierNode.prelim-c+i(s,r);d>0&&($i(Ki(s,t,n),t,d),c+=d,l+=d),h+=s.hierNode.modifier,c+=r.hierNode.modifier,l+=a.hierNode.modifier,u+=o.hierNode.modifier}s&&!qi(a)&&(a.hierNode.thread=s,a.hierNode.modifier+=h-l),r&&!Ji(o)&&(o.hierNode.thread=r,o.hierNode.modifier+=c-u,n=t)}return n}function qi(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Ji(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Ki(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function $i(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function Qi(t,e){return t.parentNode===e.parentNode?1:2}var ta=n("e263"),ea=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),na=function(t){function e(e){return t.call(this,e)||this}return Object(Kt["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ea},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,a=e.parentPoint,r=n[0],o=n[i-1];if(1===i)return t.moveTo(a[0],a[1]),void t.lineTo(r[0],r[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,c=1-l,u=Object(Si["p"])(e.forkPosition,1),h=[];h[l]=a[l],h[c]=a[c]+(o[c]-a[c])*u,t.moveTo(a[0],a[1]),t.lineTo(h[0],h[1]),t.moveTo(r[0],r[1]),h[l]=r[l],t.lineTo(h[0],h[1]),h[l]=o[l],t.lineTo(h[0],h[1]),t.lineTo(o[0],o[1]);for(var d=1;d<i-1;d++){var p=n[d];t.moveTo(p[0],p[1]),h[l]=p[l],t.lineTo(h[0],h[1])}},e}(s["b"]),ia=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new ae["a"],n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){this._controller=new xe["a"](e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),a=t.layoutInfo,r=this._mainGroup,o=t.get("layout");"radial"===o?(r.x=a.x+a.width/2,r.y=a.y+a.height/2):(r.x=a.x,r.y=a.y),this._updateViewCoordSys(t),this._updateController(t,e,n);var s=this._data;i.diff(s).add((function(e){aa(i,e)&&ra(i,e,null,r,t)})).update((function(e,n){var a=s.getItemGraphicEl(n);aa(i,e)?ra(i,e,a,r,t):a&&ca(s,n,a,r,t)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&ca(s,e,n,r,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),n=[];e.each((function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])}));var i=[],a=[];ta["d"](n,i,a);var r=this._min,o=this._max;a[0]-i[0]===0&&(i[0]=r?r[0]:i[0]-1,a[0]=o?o[0]:a[0]+1),a[1]-i[1]===0&&(i[1]=r?r[1]:i[1]-1,a[1]=o?o[1]:a[1]+1);var s=t.coordinateSystem=new gi;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=i,this._max=a},e.prototype._updateController=function(t,e,n){var i=this,a=this._controller,r=this._controllerHost,o=this.group;a.setPointerChecker((function(e,i,a){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(i,a)&&!Object(Oe["a"])(e,n,t)})),a.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",(function(e){_e(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Se(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1,a=e.getZoom(),r=(a-1)*n+1;return r/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(pe["a"]);function aa(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function ra(t,e,n,i,a){var r=!n,o=t.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,c=!1===o.isExpand&&0!==o.children.length?l:"#fff",u=t.tree.root,h=o.parentNode===u?o:o.parentNode||o,d=t.getItemGraphicEl(h.dataIndex),p=h.getLayout(),f=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:p,g=o.getLayout();r?(n=new Bi["a"](t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.x=f.x,n.y=f.y):n.updateData(t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Me["h"](n,{x:g.x,y:g.y},a);var y=n.getSymbolPath();if("radial"===a.get("layout")){var m=u.children[0],v=m.getLayout(),b=m.children.length,x=void 0,_=void 0;if(g.x===v.x&&!0===o.isExpand){var S={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};x=Math.atan2(S.y-v.y,S.x-v.x),x<0&&(x=2*Math.PI+x),_=S.x<v.x,_&&(x-=Math.PI)}else x=Math.atan2(g.y-v.y,g.x-v.x),x<0&&(x=2*Math.PI+x),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(_=g.x<v.x,_&&(x-=Math.PI)):(_=g.x>v.x,_||(x-=Math.PI));var w=_?"left":"right",O=s.getModel("label"),M=O.get("rotate"),I=M*(Math.PI/180),j=y.getTextContent();j&&(y.setTextConfig({position:O.get("position")||w,rotation:null==M?-x:I,origin:"center"}),j.setStyle("verticalAlign","middle"))}var C=s.get(["emphasis","focus"]),A="ancestor"===C?o.getAncestorsIndices():"descendant"===C?o.getDescendantIndices():null;A&&(Object(oe["a"])(n).focus=A),oa(a,o,u,n,f,p,g,i),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var i=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);i&&i.hoverState===Ae["d"]||Object(Ae["H"])(n.__edge,e)}})}function oa(t,e,n,i,a,r,o,s){var l=e.getModel(),c=t.get("edgeShape"),u=t.get("layout"),h=t.getOrient(),d=t.get(["lineStyle","curveness"]),p=t.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===c)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new Vi["a"]({shape:ua(u,h,d,a,a)})),Me["h"](g,{shape:ua(u,h,d,r,o)},t));else if("polyline"===c)if("orthogonal"===u){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,m=[],v=0;v<y.length;v++){var x=y[v].getLayout();m.push([x.x,x.y])}g||(g=i.__edge=new na({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:p}})),Me["h"](g,{shape:{parentPoint:[o.x,o.y],childPoints:m}},t)}}else 0;g&&(g.useStyle(b["defaults"]({strokeNoScale:!0,fill:null},f)),Object(Ae["I"])(g,l,"lineStyle"),Object(Ae["G"])(g),s.add(g))}function sa(t,e,n,i,a){var r=e.tree.root,o=la(r,t),s=o.source,l=o.sourceLayout,c=e.getItemGraphicEl(t.dataIndex);if(c){var u=e.getItemGraphicEl(s.dataIndex),h=u.__edge,d=c.__edge||(!1===s.isExpand||1===s.children.length?h:void 0),p=i.get("edgeShape"),f=i.get("layout"),g=i.get("orient"),y=i.get(["lineStyle","curveness"]);d&&("curve"===p?Me["e"](d,{shape:ua(f,g,y,l,l),style:{opacity:0}},i,{cb:function(){n.remove(d)},removeOpt:a}):"polyline"===p&&"orthogonal"===i.get("layout")&&Me["e"](d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){n.remove(d)},removeOpt:a}))}}function la(t,e){var n,i=e.parentNode===t?e:e.parentNode||e;while(n=i.getLayout(),null==n)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:n}}function ca(t,e,n,i,a){var r=t.tree.getNodeByDataIndex(e),o=t.tree.root,s=la(o,r).sourceLayout,l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Me["e"](n,{x:s.x+1,y:s.y+1},a,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:l}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),r.children.forEach((function(e){sa(e,t,i,a,l)})),sa(r,t,i,a,l)}function ua(t,e,n,i,a){var r,o,s,l,c,u,h,d;if("radial"===t){c=i.rawX,h=i.rawY,u=a.rawX,d=a.rawY;var p=Yi(c,h),f=Yi(c,h+(d-h)*n),g=Yi(u,d+(h-d)*n),y=Yi(u,d);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return c=i.x,h=i.y,u=a.x,d=a.y,"LR"!==e&&"RL"!==e||(r=c+(u-c)*n,o=h,s=u+(c-u)*n,l=d),"TB"!==e&&"BT"!==e||(r=c,o=h+(d-h)*n,s=u,l=d+(h-d)*n),{x1:c,y1:h,x2:u,y2:d,cpx1:r,cpy1:o,cpx2:s,cpy2:l}}var ha=ia,da=n("06c7"),pa=n("55ac"),fa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new ui["a"](n,this,this.ecModel),a=da["a"].createTree(e,this,r);function r(t){t.wrapMethod("getItemModel",(function(t,e){var n=a.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=i),t}))}var o=0;a.eachNode("preorder",(function(t){t.depth>o&&(o=t.depth)}));var s=t.expandAndCollapse,l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return a.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=l})),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().tree,a=i.root.children[0],r=i.getNodeByDataIndex(t),o=r.getValue(),s=r.name;while(r&&r!==a)s=r.parentNode.name+"."+s,r=r.parentNode;return Object(ni["c"])("nameValue",{name:s,value:o,noValue:isNaN(o)||null==o})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Object(pa["d"])(i,this),n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Qt["b"]),ga=fa;function ya(t,e,n){var i,a=[t],r=[];while(i=a.pop())if(r.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)a.push(o[s])}while(i=r.pop())e(i,n)}function ma(t,e){var n,i=[t];while(n=i.pop())if(e(n),n.isExpand){var a=n.children;if(a.length)for(var r=a.length-1;r>=0;r--)i.push(a[r])}}function va(t,e){t.eachSeriesByType("tree",(function(t){ba(t,e)}))}function ba(t,e){var n=Xi(t,e);t.layoutInfo=n;var i=t.get("layout"),a=0,r=0,o=null;"radial"===i?(a=2*Math.PI,r=Math.min(n.height,n.width)/2,o=Hi((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(a=n.width,r=n.height,o=Hi());var s=t.getData().tree.root,l=s.children[0];if(l){Gi(s),ya(l,Fi,o),s.hierNode.modifier=-l.hierNode.prelim,ma(l,Wi);var c=l,u=l,h=l;ma(l,(function(t){var e=t.getLayout().x;e<c.getLayout().x&&(c=t),e>u.getLayout().x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:o(c,u)/2,p=d-c.getLayout().x,f=0,g=0,y=0,m=0;if("radial"===i)f=a/(u.getLayout().x+d+p),g=r/(h.depth-1||1),ma(l,(function(t){y=(t.getLayout().x+p)*f,m=(t.depth-1)*g;var e=Yi(y,m);t.setLayout({x:e.x,y:e.y,rawX:y,rawY:m},!0)}));else{var v=t.getOrient();"RL"===v||"LR"===v?(g=r/(u.getLayout().x+d+p),f=a/(h.depth-1||1),ma(l,(function(t){m=(t.getLayout().x+p)*g,y="LR"===v?(t.depth-1)*f:a-(t.depth-1)*f,t.setLayout({x:y,y:m},!0)}))):"TB"!==v&&"BT"!==v||(f=a/(u.getLayout().x+d+p),g=r/(h.depth-1||1),ma(l,(function(t){y=(t.getLayout().x+p)*f,m="TB"===v?(t.depth-1)*g:r-(t.depth-1)*g,t.setLayout({x:y,y:m},!0)})))}}}function xa(t){t.eachSeriesByType("tree",(function(t){var e=t.getData(),n=e.tree;n.eachNode((function(t){var n=t.getModel(),i=n.getModel("itemStyle").getItemStyle(),a=e.ensureUniqueItemVisual(t.dataIndex,"style");Object(b["extend"])(a,i)}))}))}function _a(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree,a=i.getNodeByDataIndex(n);a.isExpand=!a.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=e.coordinateSystem,i=Ti(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))}function Sa(t){t.registerChartView(ha),t.registerSeriesModel(ga),t.registerLayout(va),t.registerVisual(xa),_a(t)}var wa=n("128d");function Oa(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph(),a=i.data,r=n.mapArray(n.getName);a.filterSelf((function(t){var n=a.getItemModel(t),i=n.getShallow("category");if(null!=i){Object(b["isNumber"])(i)&&(i=r[i]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(i))return!1}return!0}))}))}function Ma(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),a={};n.each((function(i){var r=n.getName(i);a["ec-"+r]=i;var o=n.getItemModel(i),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(r,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var u=o.getShallow(l[c],!0);null!=u&&n.setItemVisual(i,l[c],u)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t),r=e.getShallow("category");if(null!=r){Object(b["isString"])(r)&&(r=a["ec-"+r]);var o=n.getItemVisual(r,"style"),s=i.ensureUniqueItemVisual(t,"style");Object(b["extend"])(s,o);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++)i.setItemVisual(t,l[c],n.getItemVisual(r,l[c]))}}))}))}function Ia(t){return t instanceof Array||(t=[t,t]),t}function ja(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=Ia(t.get("edgeSymbol")),a=Ia(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),a=e.getEdgeByIndex(t),r=Ia(i.getShallow("symbol",!0)),o=Ia(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(Object(b["extend"])(l,s),l.stroke){case"source":var c=a.node1.getVisual("style");l.stroke=c&&c.fill;break;case"target":c=a.node2.getVisual("style");l.stroke=c&&c.fill;break}r[0]&&a.setVisual("fromSymbol",r[0]),r[1]&&a.setVisual("toSymbol",r[1]),o[0]&&a.setVisual("fromSymbolSize",o[0]),o[1]&&a.setVisual("toSymbolSize",o[1])}))}))}var Ca="--\x3e",Aa=function(t){return t.get("autoCurveness")||null},Da=function(t,e){var n=Aa(t),i=20,a=[];if(b["isNumber"](n))i=n;else if(b["isArray"](n))return void(t.__curvenessList=n);e>i&&(i=e);var r=i%2?i+2:i+3;a=[];for(var o=0;o<r;o++)a.push((o%2?o+1:o)/10*(o%2?-1:1));t.__curvenessList=a},Ta=function(t,e,n){var i=[t.id,t.dataIndex].join("."),a=[e.id,e.dataIndex].join(".");return[n.uid,i,a].join(Ca)},La=function(t){var e=t.split(Ca);return[e[0],e[2],e[1]].join(Ca)},Pa=function(t,e){var n=Ta(t.node1,t.node2,e);return e.__edgeMap[n]},ka=function(t,e){var n=Na(Ta(t.node1,t.node2,e),e),i=Na(Ta(t.node2,t.node1,e),e);return n+i},Na=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function Ra(t){Aa(t)&&(t.__curvenessList=[],t.__edgeMap={},Da(t))}function Ea(t,e,n,i){if(Aa(n)){var a=Ta(t,e,n),r=n.__edgeMap,o=r[La(a)];r[a]&&!o?r[a].isForward=!0:o&&r[a]&&(o.isForward=!0,r[a].isForward=!1),r[a]=r[a]||[],r[a].push(i)}}function za(t,e,n,i){var a=Aa(e),r=b["isArray"](a);if(!a)return null;var o=Pa(t,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===n){s=l;break}var c=ka(t,e);Da(e,c),t.lineStyle=t.lineStyle||{};var u=Ta(t.node1,t.node2,e),h=e.__curvenessList,d=r||c%2?0:1;if(o.isForward)return h[d+s];var p=La(u),f=Na(p,e),g=h[s+f+d];return i?r?a&&0===a[0]?(f+d)%2?g:-g:((f%2?0:1)+d)%2?g:-g:(f+d)%2?g:-g:h[s+f+d]}function Va(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),Ba(n,t)}}function Ba(t,e){t.eachEdge((function(t,n){var i=b["retrieve3"](t.getModel().get(["lineStyle","curveness"]),-za(t,e,n,!0),0),a=hi["clone"](t.node1.getLayout()),r=hi["clone"](t.node2.getLayout()),o=[a,r];+i&&o.push([(a[0]+r[0])/2-(a[1]-r[1])*i,(a[1]+r[1])/2-(r[0]-a[0])*i]),t.setLayout(o)}))}function Ga(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),a=[];Object(b["each"])(n.dimensions,(function(t){a=a.concat(i.mapDimensionsAll(t))}));for(var r=0;r<i.count();r++){for(var o=[],s=!1,l=0;l<a.length;l++){var c=i.get(a[l],r);isNaN(c)||(s=!0),o.push(c)}s?i.setItemLayout(r,n.dataToPoint(o)):i.setItemLayout(r,[NaN,NaN])}Ba(i.graph,t)}else e&&"none"!==e||Va(t)}))}function Fa(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX,a=e.getZoom(),r=(a-1)*n+1;return r/i}function Wa(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Ha=Math.PI,Ya=[];function Xa(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),a=t.getData(),r=a.graph,o=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,c=a.count();a.setLayout({cx:o,cy:s}),c&&(Ua[e](t,r,a,l,o,s,c),r.eachEdge((function(e,n){var i,a=b["retrieve3"](e.getModel().get(["lineStyle","curveness"]),za(e,t,n),0),r=hi["clone"](e.node1.getLayout()),l=hi["clone"](e.node2.getLayout()),c=(r[0]+l[0])/2,u=(r[1]+l[1])/2;+a&&(a*=3,i=[o*a+c*(1-a),s*a+u*(1-a)]),e.setLayout([r,l,i])})))}}var Ua={value:function(t,e,n,i,a,r,o){var s=0,l=n.getSum("value"),c=2*Math.PI/(l||o);e.eachNode((function(t){var e=t.getValue("value"),n=c*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+a,i*Math.sin(s)+r]),s+=n}))},symbolSize:function(t,e,n,i,a,r,o){var s=0;Ya.length=o;var l=Fa(t);e.eachNode((function(t){var e=Wa(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=Ha/2),Ya[t.dataIndex]=n,s+=2*n}));var c=(2*Ha-s)/o/2,u=0;e.eachNode((function(t){var e=c+Ya[t.dataIndex];u+=e,t.setLayout([i*Math.cos(u)+a,i*Math.sin(u)+r]),u+=e}))}};function Za(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&Xa(t,"symbolSize")}))}var qa=hi["scaleAndAdd"];function Ja(t,e,n){for(var i=t,a=e,r=n.rect,o=r.width,s=r.height,l=[r.x+o/2,r.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var h=i[u];h.p||(h.p=hi["create"](o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=hi["clone"](h.p),h.edges=null}var d,p,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){p=t},step:function(t){d&&d(i,a);for(var e=[],n=i.length,r=0;r<a.length;r++){var o=a[r];if(!o.ignoreForceLayout){var s=o.n1,u=o.n2;hi["sub"](e,u.p,s.p);var h=hi["len"](e)-o.d,f=u.w/(s.w+u.w);isNaN(f)&&(f=0),hi["normalize"](e,e),!s.fixed&&qa(s.p,s.p,e,f*h*g),!u.fixed&&qa(u.p,u.p,e,-(1-f)*h*g)}}for(r=0;r<n;r++){var y=i[r];y.fixed||(hi["sub"](e,l,y.p),qa(y.p,y.p,e,c*g))}for(r=0;r<n;r++){s=i[r];for(var m=r+1;m<n;m++){u=i[m];hi["sub"](e,u.p,s.p);h=hi["len"](e);0===h&&(hi["set"](e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+u.rep)/h/h;!s.fixed&&qa(s.pp,s.pp,e,v),!u.fixed&&qa(u.pp,u.pp,e,-v)}}var b=[];for(r=0;r<n;r++){y=i[r];y.fixed||(hi["sub"](b,y.p,y.pp),qa(y.p,y.p,b,g),hi["copy"](y.pp,y.p))}g*=.992;var x=g<.01;p&&p(i,a,x),t&&t(x)}}}function Ka(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,r=i.edgeData,o=t.getModel("force"),s=o.get("initLayout");t.preservedPoints?a.each((function(t){var e=a.getId(t);a.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&Xa(t,"value"):Va(t);var l=a.getDataExtent("value"),c=r.getDataExtent("value"),u=o.get("repulsion"),h=o.get("edgeLength"),d=b["isArray"](u)?u:[u,u],p=b["isArray"](h)?h:[h,h];p=[p[1],p[0]];var f=a.mapArray("value",(function(t,e){var n=a.getItemLayout(e),i=Object(Si["l"])(t,l,d);return isNaN(i)&&(i=(d[0]+d[1])/2),{w:i,rep:i,fixed:a.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=r.mapArray("value",(function(e,n){var a=i.getEdgeByIndex(n),r=Object(Si["l"])(e,c,p);isNaN(r)&&(r=(p[0]+p[1])/2);var o=a.getModel(),s=b["retrieve3"](a.getModel().get(["lineStyle","curveness"]),-za(a,t,n,!0),0);return{n1:f[a.node1.dataIndex],n2:f[a.node2.dataIndex],d:r,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}})),y=e.getBoundingRect(),m=Ja(f,g,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});m.beforeStep((function(t,e){for(var n=0,a=t.length;n<a;n++)t[n].fixed&&hi["copy"](t[n].p,i.getNodeByIndex(n).getLayout())})),m.afterStep((function(t,e,r){for(var o=0,s=t.length;o<s;o++)t[o].fixed||i.getNodeByIndex(o).setLayout(t[o].p),n[a.getId(o)]=t[o].p;for(o=0,s=e.length;o<s;o++){var l=e[o],c=i.getEdgeByIndex(o),u=l.n1.p,h=l.n2.p,d=c.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],hi["copy"](d[0],u),hi["copy"](d[1],h),+l.curveness&&(d[2]=[(u[0]+h[0])/2-(u[1]-h[1])*l.curveness,(u[1]+h[1])/2-(h[0]-u[0])*l.curveness]),c.setLayout(d)}})),t.forceLayout=m,t.preservedPoints=n,m.step()}else t.forceLayout=null}))}function $a(t,e,n){var i=Object(b["extend"])(t.getBoxLayoutParams(),{aspect:n});return Object(_i["g"])(i,{width:e.getWidth(),height:e.getHeight()})}function Qa(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var a=t.getData(),r=a.mapArray((function(t){var e=a.getItemModel(t);return[+e.get("x"),+e.get("y")]})),o=[],s=[];ta["d"](r,o,s),s[0]-o[0]===0&&(s[0]+=1,o[0]-=1),s[1]-o[1]===0&&(s[1]+=1,o[1]-=1);var l=(s[0]-o[0])/(s[1]-o[1]),c=$a(t,e,l);isNaN(l)&&(o=[c.x,c.y],s=[c.x+c.width,c.y+c.height]);var u=s[0]-o[0],h=s[1]-o[1],d=c.width,p=c.height,f=t.coordinateSystem=new gi;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],u,h),f.setViewRect(c.x,c.y,d,p),f.setCenter(t.get("center")),f.setZoom(t.get("zoom")),n.push(f)}})),n}var tr=Le["a"].prototype,er=Vi["a"].prototype,nr=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(Kt["a"])(e,t)})(nr);function ir(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var ar=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Object(Kt["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new nr},e.prototype.buildPath=function(t,e){ir(e)?tr.buildPath.call(this,t,e):er.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return ir(this.shape)?tr.pointAt.call(this,t):er.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=ir(e)?[e.x2-e.x1,e.y2-e.y1]:er.tangentAt.call(this,t);return hi["normalize"](n,n)},e}(s["b"]),rr=ar,or=["fromSymbol","toSymbol"];function sr(t){return"_"+t+"Type"}function lr(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var a=e.getItemVisual(n,t+"Size"),r=e.getItemVisual(n,t+"Rotate"),o=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=re["c"](a),c=re["b"](o||0,l),u=re["a"](i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==r||isNaN(r)?void 0:+r*Math.PI/180||0,u.name=t,u}}function cr(t){var e=new rr({name:"line",subPixelOptimize:!0});return ur(e.shape,t),e}function ur(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var hr=function(t){function e(e,n,i){var a=t.call(this)||this;return a._createLine(e,n,i),a}return Object(Kt["a"])(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,a=t.getItemLayout(e),r=cr(a);r.shape.percent=0,Me["c"](r,{shape:{percent:1}},i,e),this.add(r),Object(b["each"])(or,(function(n){var i=lr(n,t,e);this.add(i),this[sr(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,a=this.childOfName("line"),r=t.getItemLayout(e),o={shape:{}};ur(o.shape,r),Me["h"](a,o,i,e),Object(b["each"])(or,(function(n){var i=t.getItemVisual(e,n),a=sr(n);if(this[a]!==i){this.remove(this.childOfName(n));var r=lr(n,t,e);this.add(r)}this[a]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,a=this.childOfName("line"),r=n&&n.emphasisLineStyle,o=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,c=n&&n.emphasisDisabled,u=n&&n.focus,h=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),p=d.getModel("emphasis");r=p.getModel("lineStyle").getLineStyle(),o=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),c=p.get("disabled"),u=p.get("focus"),h=p.get("blurScope"),l=Object(Pn["e"])(d)}var f=t.getItemVisual(e,"style"),g=f.stroke;a.useStyle(f),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=r,a.ensureState("blur").style=o,a.ensureState("select").style=s,Object(b["each"])(or,(function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=f.opacity;for(var n=0;n<Ae["g"].length;n++){var i=Ae["g"][n],r=a.getState(i);if(r){var o=r.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=o.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(l.opacity=o.opacity)}}e.markRedraw()}}),this);var y=i.getRawValue(e);Object(Pn["g"])(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||"#000",defaultOpacity:f.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?Object(Si["v"])(y):y)+""});var m=this.getTextContent();if(m){var v=l.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=v.get("position")||"middle";var x=v.get("distance");Object(b["isArray"])(x)||(x=[x,x]),m.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),Object(Ae["J"])(this,u,h,c)},e.prototype.highlight=function(){Object(Ae["r"])(this)},e.prototype.downplay=function(){Object(Ae["C"])(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");ur(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.getTextContent();if(e||n||i&&!i.ignore){var a=1,r=this.parent;while(r)r.scaleX&&(a/=r.scaleX),r=r.parent;var o=t.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,l=o.pointAt(0),c=o.pointAt(s),u=hi["sub"]([],c,l);if(hi["normalize"](u,u),e&&(e.setPosition(l),w(e,0),e.scaleX=e.scaleY=a*s,e.markRedraw()),n&&(n.setPosition(c),w(n,1),n.scaleX=n.scaleY=a*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var h=void 0,d=void 0,p=i.__labelDistance,f=p[0]*a,g=p[1]*a,y=s/2,m=o.tangentAt(y),v=[m[1],-m[0]],b=o.pointAt(y);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var x=m[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var _=-Math.atan2(m[1],m[0]);c[0]<l[0]&&(_=Math.PI+_),i.rotation=_}var S=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=g,d="top";break;default:S=0,d="middle"}switch(i.__position){case"end":i.x=u[0]*f+c[0],i.y=u[1]*g+c[1],h=u[0]>.8?"left":u[0]<-.8?"right":"center",d=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*f+l[0],i.y=-u[1]*g+l[1],h=u[0]>.8?"right":u[0]<-.8?"left":"center",d=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*x+l[0],i.y=l[1]+S,h=m[0]<0?"right":"left",i.originX=-f*x,i.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=b[0],i.y=b[1]+S,h="center",i.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*x+c[0],i.y=c[1]+S,h=m[0]>=0?"right":"left",i.originX=f*x,i.originY=-S;break}i.scaleX=i.scaleY=a,i.setStyle({verticalAlign:i.__verticalAlign||d,align:i.__align||h})}}}function w(t,e){var n=t.__specifiedRotation;if(null==n){var i=o.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(ae["a"]),dr=hr,pr=function(){function t(t){this.group=new ae["a"],this._LineCtor=t||dr}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var r=gr(t);t.diff(a).add((function(n){e._doAdd(t,n,r)})).update((function(n,i){e._doUpdate(a,t,i,n,r)})).remove((function(t){i.remove(a.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=gr(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||fr(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(mr(a)){var r=new this._LineCtor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Ce["traverseElements"](this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(mr(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},t.prototype._doUpdate=function(t,e,n,i,a){var r=t.getItemGraphicEl(n);mr(e.getItemLayout(i))?(r?r.updateData(e,i,a):r=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,r),this.group.add(r)):this.group.remove(r)},t}();function fr(t){return t.animators&&t.animators.length>0}function gr(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Object(Pn["e"])(e)}}function yr(t){return isNaN(t[0])||isNaN(t[1])}function mr(t){return t&&!yr(t[0])&&!yr(t[1])}var vr=pr,br=n("4a3f"),xr=[],_r=[],Sr=[],wr=br["h"],Or=hi["distSquare"],Mr=Math.abs;function Ir(t,e,n){for(var i,a=t[0],r=t[1],o=t[2],s=1/0,l=n*n,c=.1,u=.1;u<=.9;u+=.1){xr[0]=wr(a[0],r[0],o[0],u),xr[1]=wr(a[1],r[1],o[1],u);var h=Mr(Or(xr,e)-l);h<s&&(s=h,i=u)}for(var d=0;d<32;d++){var p=i+c;_r[0]=wr(a[0],r[0],o[0],i),_r[1]=wr(a[1],r[1],o[1],i),Sr[0]=wr(a[0],r[0],o[0],p),Sr[1]=wr(a[1],r[1],o[1],p);h=Or(_r,e)-l;if(Mr(h)<.01)break;var f=Or(Sr,e)-l;c/=2,h<0?f>=0?i+=c:i-=c:f>=0?i-=c:i+=c}return i}function jr(t,e){var n=[],i=br["n"],a=[[],[],[]],r=[[],[]],o=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),c=t.getVisual("fromSymbol"),u=t.getVisual("toSymbol");l.__original||(l.__original=[hi["clone"](l[0]),hi["clone"](l[1])],l[2]&&l.__original.push(hi["clone"](l[2])));var h=l.__original;if(null!=l[2]){if(hi["copy"](a[0],h[0]),hi["copy"](a[1],h[2]),hi["copy"](a[2],h[1]),c&&"none"!==c){var d=Wa(t.node1),p=Ir(a,h[0],d*e);i(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],i(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(u&&"none"!==u){d=Wa(t.node2),p=Ir(a,h[1],d*e);i(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],i(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}hi["copy"](l[0],a[0]),hi["copy"](l[1],a[2]),hi["copy"](l[2],a[1])}else{if(hi["copy"](r[0],h[0]),hi["copy"](r[1],h[1]),hi["sub"](o,r[1],r[0]),hi["normalize"](o,o),c&&"none"!==c){d=Wa(t.node1);hi["scaleAndAdd"](r[0],r[0],o,d*e)}if(u&&"none"!==u){d=Wa(t.node2);hi["scaleAndAdd"](r[1],r[1],o,-d*e)}hi["copy"](l[0],r[0]),hi["copy"](l[1],r[1])}}))}function Cr(t){return"view"===t.type}var Ar=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){var n=new ne["a"],i=new vr,a=this.group;this._controller=new xe["a"](e.getZr()),this._controllerHost={target:a},a.add(n.group),a.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,a=t.coordinateSystem;this._model=t;var r=this._symbolDraw,o=this._lineDraw,s=this.group;if(Cr(a)){var l={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?s.attr(l):Me["h"](s,l,t)}jr(t.getGraph(),Fa(t));var c=t.getData();r.updateData(c);var u=t.getEdgeData();o.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d),c.graph.eachNode((function(t){var e=t.dataIndex,n=t.getGraphicEl(),a=t.getModel();if(n){n.off("drag").off("dragend");var r=a.get("draggable");r&&n.on("drag",(function(){h&&(h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,d),h.setFixed(e),c.setItemLayout(e,[n.x,n.y]))})).on("dragend",(function(){h&&h.setUnfixed(e)})),n.setDraggable(r&&!!h);var o=a.get(["emphasis","focus"]);"adjacency"===o&&(Object(oe["a"])(n).focus=t.getAdjacentDataIndices())}})),c.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(Object(oe["a"])(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var p="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),f=c.getLayout("cx"),g=c.getLayout("cy");c.eachItemGraphicEl((function(t,e){var n=c.getItemModel(e),i=n.get(["label","rotate"])||0,a=t.getSymbolPath();if(p){var r=c.getItemLayout(e),o=Math.atan2(r[1]-g,r[0]-f);o<0&&(o=2*Math.PI+o);var s=r[0]<f;s&&(o-=Math.PI);var l=s?"left":"right";a.setTextConfig({rotation:-o,position:l,origin:"center"});var u=a.ensureState("emphasis");b["extend"](u.textConfig||(u.textConfig={}),{position:l})}else a.setTextConfig({rotation:i*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;(function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))})()},e.prototype._updateController=function(t,e,n){var i=this,a=this._controller,r=this._controllerHost,o=this.group;a.setPointerChecker((function(e,i,a){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(i,a)&&!Object(Oe["a"])(e,n,t)})),Cr(t.coordinateSystem)?(a.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",(function(e){_e(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Se(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),jr(t.getGraph(),Fa(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):a.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=Fa(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){jr(t.getGraph(),Fa(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(pe["a"]),Dr=Ar,Tr=n("b682");function Lr(t){return"_EC_"+t}var Pr=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[Lr(t)]){var i=new kr(t,e);return i.hostGraph=this,this.nodes.push(i),n[Lr(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[Lr(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(b["isNumber"](t)&&(t=this.nodes[t]),b["isNumber"](e)&&(e=this.nodes[e]),t instanceof kr||(t=i[Lr(t)]),e instanceof kr||(e=i[Lr(e)]),t&&e){var r=t.id+"-"+e.id,o=new Nr(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),a[r]=o,o}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof kr&&(t=t.id),e instanceof kr&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof kr||(e=this._nodesMap[Lr(e)]),e){for(var a="out"===n?"outEdges":"in"===n?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(i,e,null)){var o=[e];while(o.length){var s=o.shift(),l=s[a];for(r=0;r<l.length;r++){var c=l[r],u=c.node1===s?c.node2:c.node1;if(!u.__visited){if(t.call(i,u,s))return;o.push(u),u.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,r=n.length;a<r;a++)n[a].dataIndex=-1;for(a=0,r=t.count();a<r;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(a=0,r=i.length;a<r;a++)i[a].dataIndex=-1;for(a=0,r=e.count();a<r;a++)i[e.getRawIndex(a)].dataIndex=a},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,a=0;a<n.length;a++)e.addNode(n[a].id,n[a].dataIndex);for(a=0;a<i.length;a++){var r=i[a];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},t}(),kr=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),Nr=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function Rr(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}b["mixin"](kr,Rr("hostGraph","data")),b["mixin"](Nr,Rr("hostGraph","edgeData"));var Er=Pr,zr=n("6a2f"),Vr=n("b1d4"),Br=n("1f39");function Gr(t,e,n,i,a){for(var r=new Er(i),o=0;o<t.length;o++)r.addNode(b["retrieve"](t[o].id,t[o].name,o),o);var s=[],l=[],c=0;for(o=0;o<e.length;o++){var u=e[o],h=u.source,d=u.target;r.addEdge(h,d,c)&&(l.push(u),s.push(b["retrieve"](Object(Rn["e"])(u.id,null),h+" > "+d)),c++)}var p,f=n.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)p=Object($t["a"])(t,n);else{var g=Br["a"].get(f),y=g&&g.dimensions||[];b["indexOf"](y,"value")<0&&y.concat(["value"]);var m=Object(Vr["b"])(t,{coordDimensions:y,encodeDefine:n.getEncode()}).dimensions;p=new Tr["a"](m,n),p.initData(t)}var v=new Tr["a"](["value"],n);return v.initData(l,s),a&&a(p,v),Object(zr["a"])({mainData:p,struct:r,structAttr:"graph",datas:{node:p,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),r.update(),r}var Fr=n("c4a3"),Wr=n("f6d8"),Hr=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(Kt["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Fr["a"](i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(Rn["f"])(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n=t.edges||t.links||[],i=t.data||t.nodes||[],a=this;if(i&&n){Ra(this);var r=Gr(i,n,this,!0,o);return b["each"](r.edges,(function(t){Ea(t.node1,t.node2,this,t.dataIndex)}),this),r.data}function o(t,e){t.wrapMethod("getItemModel",(function(t){var e=a._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t}));var n=ui["a"].prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=r,i}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=r,t.getModel=i,t}))}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),a=this.getDataParams(t,n),r=i.graph.getEdgeByIndex(t),o=i.getName(r.node1.dataIndex),s=i.getName(r.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),Object(ni["c"])("nameValue",{name:l.join(" > "),value:a.value,noValue:null==a.value})}var c=Object(Wr["a"])({series:this,dataIndex:t,multipleSeries:e});return c},e.prototype._updateCategoriesData=function(){var t=b["map"](this.option.categories||[],(function(t){return null!=t.value?t:b["extend"]({value:0},t)})),e=new Tr["a"](["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Qt["b"]),Yr=Hr,Xr={type:"graphRoam",event:"graphRoam",update:"none"};function Ur(t){t.registerChartView(Dr),t.registerSeriesModel(Yr),t.registerProcessor(Oa),t.registerVisual(Ma),t.registerVisual(ja),t.registerLayout(Ga),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,Za),t.registerLayout(Ka),t.registerCoordinateSystem("graphView",{dimensions:gi.dimensions,create:Qa}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},b["noop"]),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},b["noop"]),t.registerAction(Xr,(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,i=Ti(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))}var Zr=n("9be8"),qr=n("dce8"),Jr=n("89b6"),Kr=["itemStyle","opacity"],$r=function(t){function e(e,n){var i=t.call(this)||this,a=i,r=new je["a"],o=new Q["a"];return a.setTextContent(o),i.setTextGuideLine(r),i.updateData(e,n,!0),i}return Object(Kt["a"])(e,t),e.prototype.updateData=function(t,e,n){var i=this,a=t.hostModel,r=t.getItemModel(e),o=t.getItemLayout(e),s=r.getModel("emphasis"),l=r.get(Kr);l=null==l?1:l,n||Object(Me["g"])(i),i.useStyle(t.getItemVisual(e,"style")),i.style.lineJoin="round",n?(i.setShape({points:o.points}),i.style.opacity=0,Me["c"](i,{style:{opacity:l}},a,e)):Me["h"](i,{style:{opacity:l},shape:{points:o.points}},a,e),Object(Ae["I"])(i,r),this._updateLabel(t,e),Object(Ae["J"])(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this,i=this.getTextGuideLine(),a=n.getTextContent(),r=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e),l=s.label,c=t.getItemVisual(e,"style"),u=c.fill;Object(Pn["g"])(a,Object(Pn["e"])(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:c.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),n.setTextConfig({local:!0,inside:!!l.inside,insideStroke:u,outsideFill:u});var h=l.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new qr["a"](h[0][0],h[0][1]):null},Me["h"](a,{style:{x:l.x,y:l.y}},r,e),a.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Object(Jr["d"])(n,Object(Jr["a"])(o),{stroke:u})},e}(Ie["a"]),Qr=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),a=this._data,r=this.group;i.diff(a).add((function(t){var e=new $r(i,t);i.setItemGraphicEl(t,e),r.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(i,t),r.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){var n=a.getItemGraphicEl(e);Me["f"](n,t,e)})).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(pe["a"]),to=Qr,eo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Fr["a"](b["bind"](this.getData,this),b["bind"](this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return Object(ti["a"])(this,{coordDimensions:["value"],encodeDefaulter:b["curry"](ei["d"],this)})},e.prototype._defaultLabelLine=function(t){Object(Rn["f"])(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),r=n.getSum(a);return i.percent=r?+(n.get(a,e)/r*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Qt["b"]),no=eo;function io(t,e){return _i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ao(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),a=[],r="ascending"===e,o=0,s=t.count();o<s;o++)a[o]=o;return Object(b["isFunction"])(e)?a.sort(e):"none"!==e&&a.sort((function(t,e){return r?i[t]-i[e]:i[e]-i[t]})),a}function ro(t){var e=t.hostModel,n=e.get("orient");t.each((function(e){var i,a,r,o,s=t.getItemModel(e),l=s.getModel("label"),c=l.get("position"),u=s.getModel("labelLine"),h=t.getItemLayout(e),d=h.points,p="inner"===c||"inside"===c||"center"===c||"insideLeft"===c||"insideRight"===c;if(p)"insideLeft"===c?(a=(d[0][0]+d[3][0])/2+5,r=(d[0][1]+d[3][1])/2,i="left"):"insideRight"===c?(a=(d[1][0]+d[2][0])/2-5,r=(d[1][1]+d[2][1])/2,i="right"):(a=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,r=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,i="center"),o=[[a,r],[a,r]];else{var f=void 0,g=void 0,y=void 0,m=void 0,v=u.get("length");0,"left"===c?(f=(d[3][0]+d[0][0])/2,g=(d[3][1]+d[0][1])/2,y=f-v,a=y-5,i="right"):"right"===c?(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,y=f+v,a=y+5,i="left"):"top"===c?(f=(d[3][0]+d[0][0])/2,g=(d[3][1]+d[0][1])/2,m=g-v,r=m-5,i="center"):"bottom"===c?(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,m=g+v,r=m+5,i="center"):"rightTop"===c?(f="horizontal"===n?d[3][0]:d[1][0],g="horizontal"===n?d[3][1]:d[1][1],"horizontal"===n?(m=g-v,r=m-5,i="center"):(y=f+v,a=y+5,i="top")):"rightBottom"===c?(f=d[2][0],g=d[2][1],"horizontal"===n?(m=g+v,r=m+5,i="center"):(y=f+v,a=y+5,i="bottom")):"leftTop"===c?(f=d[0][0],g="horizontal"===n?d[0][1]:d[1][1],"horizontal"===n?(m=g-v,r=m-5,i="center"):(y=f-v,a=y-5,i="right")):"leftBottom"===c?(f="horizontal"===n?d[1][0]:d[3][0],g="horizontal"===n?d[1][1]:d[2][1],"horizontal"===n?(m=g+v,r=m+5,i="center"):(y=f-v,a=y-5,i="right")):(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,"horizontal"===n?(m=g+v,r=m+5,i="center"):(y=f+v,a=y+5,i="left")),"horizontal"===n?(y=f,a=y):(m=g,r=m),o=[[f,g],[y,m]]}h.label={linePoints:o,x:a,y:r,verticalAlign:"middle",textAlign:i,inside:p}}))}function oo(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),i=n.mapDimension("value"),a=t.get("sort"),r=io(t,e),o=t.get("orient"),s=r.width,l=r.height,c=ao(n,a),u=r.x,h=r.y,d="horizontal"===o?[Object(Si["p"])(t.get("minSize"),l),Object(Si["p"])(t.get("maxSize"),l)]:[Object(Si["p"])(t.get("minSize"),s),Object(Si["p"])(t.get("maxSize"),s)],p=n.getDataExtent(i),f=t.get("min"),g=t.get("max");null==f&&(f=Math.min(p[0],0)),null==g&&(g=p[1]);var y=t.get("funnelAlign"),m=t.get("gap"),v="horizontal"===o?s:l,b=(v-m*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===o){var a=n.get(i,t)||0,r=Object(Si["l"])(a,[f,g],d,!0),c=void 0;switch(y){case"top":c=h;break;case"center":c=h+(l-r)/2;break;case"bottom":c=h+(l-r);break}return[[e,c],[e,c+r]]}var p,m=n.get(i,t)||0,v=Object(Si["l"])(m,[f,g],d,!0);switch(y){case"left":p=u;break;case"center":p=u+(s-v)/2;break;case"right":p=u+s-v;break}return[[p,e],[p+v,e]]};"ascending"===a&&(b=-b,m=-m,"horizontal"===o?u+=s:h+=l,c=c.reverse());for(var _=0;_<c.length;_++){var S=c[_],w=c[_+1],O=n.getItemModel(S);if("horizontal"===o){var M=O.get(["itemStyle","width"]);null==M?M=b:(M=Object(Si["p"])(M,s),"ascending"===a&&(M=-M));var I=x(S,u),j=x(w,u+M);u+=M+m,n.setItemLayout(S,{points:I.concat(j.slice().reverse())})}else{var C=O.get(["itemStyle","height"]);null==C?C=b:(C=Object(Si["p"])(C,l),"ascending"===a&&(C=-C));I=x(S,h),j=x(w,h+C);h+=C+m,n.setItemLayout(S,{points:I.concat(j.slice().reverse())})}}ro(n)}))}var so=n("d3f4");function lo(t){t.registerChartView(to),t.registerSeriesModel(no),t.registerLayout(oo),t.registerProcessor(Object(so["a"])("funnel"))}var co=.3,uo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new ae["a"],n._initialized=!1,n}return Object(Kt["a"])(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var a=this._dataGroup,r=t.getData(),o=this._data,s=t.coordinateSystem,l=s.dimensions,c=go(t);function u(t){var e=fo(r,a,t,l,s);yo(e,r,t,c)}function h(e,n){var i=o.getItemGraphicEl(n),a=po(r,e,l,s);r.setItemGraphicEl(e,i),Me["h"](i,{shape:{points:a}},t,e),Object(Me["g"])(i),yo(i,r,e,c)}function d(t){var e=o.getItemGraphicEl(t);a.remove(e)}if(r.diff(o).add(u).update(h).remove(d).execute(),!this._initialized){this._initialized=!0;var p=ho(s,t,(function(){setTimeout((function(){a.removeClipPath()}))}));a.setClipPath(p)}this._data=r},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),a=e.coordinateSystem,r=a.dimensions,o=go(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var c=fo(i,this._dataGroup,l,r,a);c.incremental=!0,yo(c,i,l,o),s.push(c)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(pe["a"]);function ho(t,e,n){var i=t.model,a=t.getRect(),r=new De["a"]({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),o="horizontal"===i.get("layout")?"width":"height";return r.setShape(o,0),Me["c"](r,{shape:{width:a.width,height:a.height}},e,n),r}function po(t,e,n,i){for(var a=[],r=0;r<n.length;r++){var o=n[r],s=t.get(t.mapDimension(o),e);mo(s,i.getAxis(o).type)||a.push(i.dataToPoint(s,o))}return a}function fo(t,e,n,i,a){var r=po(t,n,i,a),o=new je["a"]({shape:{points:r},z2:10});return e.add(o),t.setItemGraphicEl(n,o),o}function go(t){var e=t.get("smooth",!0);return!0===e&&(e=co),e=Object(Si["n"])(e),Object(b["eqNaN"])(e)&&(e=0),{smooth:e}}function yo(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var a=e.getItemModel(n),r=a.getModel("emphasis");Object(Ae["I"])(t,a,"lineStyle"),Object(Ae["J"])(t,r.get("focus"),r.get("blurScope"),r.get("disabled"))}function mo(t,e){return"category"===e?null==t:null==t||isNaN(t)}var vo=uo,bo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object($t["a"])(null,this,{useEncodeDefaulter:Object(b["bind"])(xo,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,a){t===e&&i.push(n.getRawIndex(a))})),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Qt["b"]);function xo(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return Object(b["each"])(e.dimensions,(function(t){var e=_o(t);n[t]=e})),n}}function _o(t){return+t.replace("dim","")}var So=bo,wo=["lineStyle","opacity"],Oo={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var a=i[t];if("normal"===t&&e.hasItemOption){var r=e.getItemModel(n).get(wo,!0);null!=r&&(a=r)}var o=e.ensureUniqueItemVisual(n,"style");o.opacity=a}),t.start,t.end)}}}},Mo=Oo;function Io(t){jo(t),Co(t)}function jo(t){if(!t.parallel){var e=!1;b["each"](t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}}function Co(t){var e=Rn["r"](t.parallelAxis);b["each"](e,(function(e){if(b["isObject"](e)){var n=e.parallelIndex||0,i=Rn["r"](t.parallel)[n];i&&i.parallelAxisDefault&&b["merge"](e,i.parallelAxisDefault,!1)}}))}var Ao=n("88b3"),Do=5,To=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},Object(b["each"])(Lo,(function(t,e){n.getZr().on(e,this._handlers[e]=Object(b["bind"])(t,this))}),this)),Object(Ao["b"])(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){Object(Ao["a"])(this,"_throttledDispatchExpand"),Object(b["each"])(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Object(b["extend"])({type:"parallelAxisExpand"},t))},e.type="parallel",e}(Li["a"]),Lo={mousedown:function(t){Po(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Po(this,"click")&&e){var n=[t.offsetX,t.offsetY],i=Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2);if(i>Do)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Po(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Po(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var ko=To,No=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&b["merge"](e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){b["each"](["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=b["filter"](this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);b["each"](n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(ci["a"]),Ro=No,Eo=n("697e"),zo=n("84ce"),Vo=function(t){function e(e,n,i,a,r){var o=t.call(this,e,n,i)||this;return o.type=a||"value",o.axisIndex=r,o}return Object(Kt["a"])(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(zo["a"]),Bo=Vo,Go=n("ef6a"),Fo=b["each"],Wo=Math.min,Ho=Math.max,Yo=Math.floor,Xo=Math.ceil,Uo=Si["v"],Zo=Math.PI,qo=function(){function t(t,e,n){this.type="parallel",this._axesMap=b["createHashMap"](),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;Fo(i,(function(t,n){var i=a[n],r=e.getComponent("parallelAxis",i),o=this._axesMap.set(t,new Bo(t,Eo["a"](r),[0,0],r.get("type"),i)),s="category"===o.type;o.onBand=s&&r.get("boundaryGap"),o.inverse=r.get("inverse"),r.axis=o,o.model=r,o.coordinateSystem=r.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,r=t[1-a],o=t[a];return r>=n&&r<=n+e.axisLength&&o>=i&&o<=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();Fo(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),Eo["i"](e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=_i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=["x","y"],a=["width","height"],r=e.get("layout"),o="horizontal"===r?0:1,s=n[a[o]],l=[0,s],c=this.dimensions.length,u=Jo(e.get("axisExpandWidth"),l),h=Jo(e.get("axisExpandCount")||0,[0,c]),d=e.get("axisExpandable")&&c>3&&c>h&&h>1&&u>0&&s>0,p=e.get("axisExpandWindow");if(p)t=Jo(p[1]-p[0],l),p[1]=p[0]+t;else{t=Jo(u*(h-1),l);var f=e.get("axisExpandCenter")||Yo(c/2);p=[u*f-t/2],p[1]=p[0]+t}var g=(s-t)/(c-h);g<3&&(g=0);var y=[Yo(Uo(p[0]/u,1))+1,Xo(Uo(p[1]/u,1))-1],m=g/u*p[0];return{layout:r,pixelDimIndex:o,layoutBase:n[i[o]],layoutLength:s,axisBase:n[i[1-o]],axisLength:n[a[1-o]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:g,axisExpandWindow:p,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:m}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),Fo(n,(function(e,n){var r=(i.axisExpandable?$o:Ko)(n,i),o={horizontal:{x:r.position,y:i.axisLength},vertical:{x:0,y:r.position}},s={horizontal:Zo/2,vertical:0},l=[o[a].x+t.x,o[a].y+t.y],c=s[a],u=Pe["create"]();Pe["rotate"](u,u,c),Pe["translate"](u,u,l),this._axesLayout[e]={position:l,rotation:c,transform:u,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var a=this._axesMap,r=this.dimensions,o=[],s=[];b["each"](r,(function(e){o.push(t.mapDimension(e)),s.push(a.get(e).model)}));for(var l=this.hasAxisBrushed(),c=n;c<i;c++){var u=void 0;if(l){u="active";for(var h=t.getValues(o,c),d=0,p=r.length;d<p;d++){var f=s[d].getActiveState(h[d]);if("inactive"===f){u="inactive";break}}}else u="normal";e(u,c)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Ce["applyTransform"]([t,0],n.transform)},t.prototype.getAxisLayout=function(t){return b["clone"](this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",c=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),h=null!=u[0];if(c)h&&c&&s<a*u[0]?(l="jump",o=s-a*u[2]):h&&c&&s>a*(1-u[0])?(l="jump",o=s-a*(1-u[2])):(o=s-a*u[1])>=0&&(o=s-a*(1-u[1]))<=0&&(o=0),o*=e.axisExpandWidth/c,o?Object(Go["a"])(o,i,r,"all"):l="none";else{var d=i[1]-i[0],p=r[1]*s/d;i=[Ho(0,p-d/2)],i[1]=Wo(r[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:l}},t}();function Jo(t,e){return Wo(Ho(t,e[0]),e[1])}function Ko(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function $o(t,e){var n,i,a=e.layoutLength,r=e.axisExpandWidth,o=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,c=s,u=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],c=r,u=!0):(n=a-(o-1-t)*s,i=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:u,nameTruncateMaxWidth:i}}var Qo=qo;function ts(t,e){var n=[];return t.eachComponent("parallel",(function(i,a){var r=new Qo(i,t,e);r.name="parallel_"+a,r.resize(i,e),i.coordinateSystem=r,r.model=i,n.push(r)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",Rn["b"]).models[0];t.coordinateSystem=e.coordinateSystem}})),n}var es={create:ts},ns=es,is=n("9e47"),as=n("282b"),rs=n("2023"),os=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return Object(Kt["a"])(e,t),e.prototype.getAreaSelectStyle=function(){return Object(as["a"])([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=b["clone"](t);if(e)for(var n=e.length-1;n>=0;n--)Si["c"](e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,a=e.length;i<a;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},e}(ci["a"]);b["mixin"](os,rs["a"]);var ss=os,ls=n("fab2"),cs=n("fc82"),us=n("f4a2"),hs=["axisLine","axisTickLabel","axisName"],ds=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new cs["a"](n.getZr())).on("brush",b["bind"](this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!ps(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new ae["a"],this.group.add(this._axisGroup),t.get("show")){var r=gs(t,e),o=r.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,c=t.axis.dim,u=o.getAxisLayout(c),h=b["extend"]({strokeContainThreshold:l},u),d=new ls["a"](t,h);b["each"](hs,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,t,r,l,n),Ce["groupTransition"](a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,a,r){var o=n.axis.getExtent(),s=o[1]-o[0],l=Math.min(30,.1*Math.abs(s)),c=ie["a"].create({x:o[0],y:-a/2,width:s,height:a});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:us["c"](c),isTargetByCursor:us["b"](c,r,i),getLinearBrushOtherExtent:us["a"](c,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(fs(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,a=b["map"](e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Li["a"]);function ps(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function fs(t){var e=t.axis;return b["map"](t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}function gs(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var ys=ds,ms={type:"axisAreaSelect",event:"axisAreaSelected"};function vs(t){t.registerAction(ms,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var bs={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function xs(t){t.registerComponentView(ko),t.registerComponentModel(Ro),t.registerCoordinateSystem("parallel",ns),t.registerPreprocessor(Io),t.registerComponentModel(ss),t.registerComponentView(ys),Object(is["a"])(t,"parallel",ss,bs),vs(t)}function _s(t){Object(i["a"])(xs),t.registerChartView(vo),t.registerSeriesModel(So),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,Mo)}var Ss=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),ws=function(t){function e(e){return t.call(this,e)||this}return Object(Kt["a"])(e,t),e.prototype.getDefaultShape=function(){return new Ss},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){Object(Ae["r"])(this)},e.prototype.downplay=function(){Object(Ae["C"])(this)},e}(s["b"]),Os=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=this,a=t.getGraph(),r=this.group,o=t.layoutInfo,s=o.width,l=o.height,c=t.getData(),u=t.getData("edge"),h=t.get("orient");this._model=t,r.removeAll(),r.x=o.x,r.y=o.y,a.eachEdge((function(e){var n=new ws,i=Object(oe["a"])(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var a,o,c,d,p,f,g,y,m=e.getModel(),v=m.getModel("lineStyle"),x=v.get("curveness"),_=e.node1.getLayout(),S=e.node1.getModel(),w=S.get("localX"),O=S.get("localY"),M=e.node2.getLayout(),I=e.node2.getModel(),j=I.get("localX"),C=I.get("localY"),A=e.getLayout();switch(n.shape.extent=Math.max(1,A.dy),n.shape.orient=h,"vertical"===h?(a=(null!=w?w*s:_.x)+A.sy,o=(null!=O?O*l:_.y)+_.dy,c=(null!=j?j*s:M.x)+A.ty,d=null!=C?C*l:M.y,p=a,f=o*(1-x)+d*x,g=c,y=o*x+d*(1-x)):(a=(null!=w?w*s:_.x)+_.dx,o=(null!=O?O*l:_.y)+A.sy,c=null!=j?j*s:M.x,d=(null!=C?C*l:M.y)+A.ty,p=a*(1-x)+c*x,f=o,g=a*x+c*(1-x),y=d),n.setShape({x1:a,y1:o,x2:c,y2:d,cpx1:p,cpy1:f,cpx2:g,cpy2:y}),n.useStyle(v.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var D=e.node1.getVisual("color"),T=e.node2.getVisual("color");Object(b["isString"])(D)&&Object(b["isString"])(T)&&(n.style.fill=new Ne["a"](0,0,+("horizontal"===h),+("vertical"===h),[{color:D,offset:0},{color:T,offset:1}]))}var L=m.getModel("emphasis");Object(Ae["I"])(n,m,"lineStyle",(function(t){return t.getItemStyle()})),r.add(n),u.setItemGraphicEl(e.dataIndex,n);var P=L.get("focus");Object(Ae["J"])(n,"adjacency"===P?e.getAdjacentDataIndices():P,L.get("blurScope"),L.get("disabled")),Object(oe["a"])(n).dataType="edge"})),a.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),a=i.get("localX"),o=i.get("localY"),u=i.getModel("emphasis"),h=new De["a"]({shape:{x:null!=a?a*s:n.x,y:null!=o?o*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});Object(Pn["g"])(h,Object(Pn["e"])(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),h.disableLabelAnimation=!0,h.setStyle("fill",e.getVisual("color")),h.setStyle("decal",e.getVisual("style").decal),Object(Ae["I"])(h,i),r.add(h),c.setItemGraphicEl(e.dataIndex,h),Object(oe["a"])(h).dataType="node";var d=u.get("focus");Object(Ae["J"])(h,"adjacency"===d?e.getAdjacentDataIndices():d,u.get("blurScope"),u.get("disabled"))})),c.eachItemGraphicEl((function(e,a){var r=c.getItemModel(a);r.get("draggable")&&(e.drift=function(e,r){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=r,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:c.getRawIndex(a),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&r.setClipPath(Ms(r.getBoundingRect(),t,(function(){r.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(pe["a"]);function Ms(t,e,n){var i=new De["a"]({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Me["c"](i,{shape:{width:t.width+20}},e,n),i}var Is=Os,js=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var r=this.levelModels,o=0;o<a.length;o++)null!=a[o].depth&&a[o].depth>=0&&(r[a[o].depth]=new ui["a"](a[o],this,e));if(i&&n){var s=Gr(i,n,this,!0,l);return s.data}function l(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var a=i.depth,r=n.levelModels[a];r&&(t.parentModel=r)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e),a=i.node1.getLayout();if(a){var r=a.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t}))}},e.prototype.setNodePosition=function(t,e){var n=this.option.data||this.option.nodes,i=n[t];i.localX=e[0],i.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if("edge"===n){var a=this.getDataParams(t,n),r=a.data,o=a.value,s=r.source+" -- "+r.target;return Object(ni["c"])("nameValue",{name:s,value:o,noValue:i(o)})}var l=this.getGraph().getNodeByIndex(t),c=l.getLayout().value,u=this.getDataParams(t,n).data.name;return Object(ni["c"])("nameValue",{name:null!=u?u+"":null,value:c,noValue:i(c)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&"node"===n){var a=this.getGraph().getNodeByIndex(e),r=a.getLayout().value;i.value=r}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Qt["b"]),Cs=js;function As(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),a=Ds(t,e);t.layoutInfo=a;var r=a.width,o=a.height,s=t.getGraph(),l=s.nodes,c=s.edges;Ls(l);var u=b["filter"](l,(function(t){return 0===t.getLayout().value})),h=0!==u.length?0:t.get("layoutIterations"),d=t.get("orient"),p=t.get("nodeAlign");Ts(l,c,n,i,r,o,h,d,p)}))}function Ds(t,e){return _i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ts(t,e,n,i,a,r,o,s,l){Ps(t,e,n,a,r,s,l),zs(t,e,r,a,i,o,s),Ks(t,s)}function Ls(t){b["each"](t,(function(t){var e=qs(t.outEdges,Zs),n=qs(t.inEdges,Zs),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)}))}function Ps(t,e,n,i,a,r,o){for(var s=[],l=[],c=[],u=[],h=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&c.push(t[d]);var p=-1;while(c.length){for(var f=0;f<c.length;f++){var g=c[f],y=g.hostGraph.data.getRawDataItem(g.dataIndex),m=null!=y.depth&&y.depth>=0;m&&y.depth>p&&(p=y.depth),g.setLayout({depth:m?y.depth:h},!0),"vertical"===r?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var v=0;v<g.outEdges.length;v++){var b=g.outEdges[v],x=e.indexOf(b);s[x]=0;var _=b.node2,S=t.indexOf(_);0===--l[S]&&u.indexOf(_)<0&&u.push(_)}}++h,c=u,u=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var w=p>h-1?p:h-1;o&&"left"!==o&&Ns(t,o,r,w);var O="vertical"===r?(a-n)/w:(i-n)/w;Es(t,O,r)}function ks(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function Ns(t,e,n,i){if("right"===e){var a=[],r=t,o=0;while(r.length){for(var s=0;s<r.length;s++){var l=r[s];l.setLayout({skNodeHeight:o},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];a.indexOf(u.node1)<0&&a.push(u.node1)}}r=a,a=[],++o}b["each"](t,(function(t){ks(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&Rs(t,i)}function Rs(t,e){b["each"](t,(function(t){ks(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}function Es(t,e,n){b["each"](t,(function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}function zs(t,e,n,i,a,r,o){var s=Vs(t,o);Bs(s,e,n,i,a,o),Gs(s,a,n,i,o);for(var l=1;r>0;r--)l*=.99,Fs(s,l,o),Gs(s,a,n,i,o),Js(s,l,o),Gs(s,a,n,i,o)}function Vs(t,e){var n=[],i="vertical"===e?"y":"x",a=Object(Rn["j"])(t,(function(t){return t.getLayout()[i]}));return a.keys.sort((function(t,e){return t-e})),b["each"](a.keys,(function(t){n.push(a.buckets.get(t))})),n}function Bs(t,e,n,i,a,r){var o=1/0;b["each"](t,(function(t){var e=t.length,s=0;b["each"](t,(function(t){s+=t.getLayout().value}));var l="vertical"===r?(i-(e-1)*a)/s:(n-(e-1)*a)/s;l<o&&(o=l)})),b["each"](t,(function(t){b["each"](t,(function(t,e){var n=t.getLayout().value*o;"vertical"===r?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),b["each"](e,(function(t){var e=+t.getValue()*o;t.setLayout({dy:e},!0)}))}function Gs(t,e,n,i,a){var r="vertical"===a?"x":"y";b["each"](t,(function(t){var o,s,l;t.sort((function(t,e){return t.getLayout()[r]-e.getLayout()[r]}));for(var c=0,u=t.length,h="vertical"===a?"dx":"dy",d=0;d<u;d++)s=t[d],l=c-s.getLayout()[r],l>0&&(o=s.getLayout()[r]+l,"vertical"===a?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[r]+s.getLayout()[h]+e;var p="vertical"===a?i:n;if(l=c-e-p,l>0){o=s.getLayout()[r]-l,"vertical"===a?s.setLayout({x:o},!0):s.setLayout({y:o},!0),c=o;for(d=u-2;d>=0;--d)s=t[d],l=s.getLayout()[r]+s.getLayout()[h]+e-c,l>0&&(o=s.getLayout()[r]-l,"vertical"===a?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[r]}}))}function Fs(t,e,n){b["each"](t.slice().reverse(),(function(t){b["each"](t,(function(t){if(t.outEdges.length){var i=qs(t.outEdges,Ws,n)/qs(t.outEdges,Zs);if(isNaN(i)){var a=t.outEdges.length;i=a?qs(t.outEdges,Hs,n)/a:0}if("vertical"===n){var r=t.getLayout().x+(i-Us(t,n))*e;t.setLayout({x:r},!0)}else{var o=t.getLayout().y+(i-Us(t,n))*e;t.setLayout({y:o},!0)}}}))}))}function Ws(t,e){return Us(t.node2,e)*t.getValue()}function Hs(t,e){return Us(t.node2,e)}function Ys(t,e){return Us(t.node1,e)*t.getValue()}function Xs(t,e){return Us(t.node1,e)}function Us(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Zs(t){return t.getValue()}function qs(t,e,n){var i=0,a=t.length,r=-1;while(++r<a){var o=+e(t[r],n);isNaN(o)||(i+=o)}return i}function Js(t,e,n){b["each"](t,(function(t){b["each"](t,(function(t){if(t.inEdges.length){var i=qs(t.inEdges,Ys,n)/qs(t.inEdges,Zs);if(isNaN(i)){var a=t.inEdges.length;i=a?qs(t.inEdges,Xs,n)/a:0}if("vertical"===n){var r=t.getLayout().x+(i-Us(t,n))*e;t.setLayout({x:r},!0)}else{var o=t.getLayout().y+(i-Us(t,n))*e;t.setLayout({y:o},!0)}}}))}))}function Ks(t,e){var n="vertical"===e?"x":"y";b["each"](t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),b["each"](t,(function(t){var e=0,n=0;b["each"](t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),b["each"](t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}var $s=n("5f14");function Qs(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),n=e.nodes;if(n.length){var i=1/0,a=-1/0;b["each"](n,(function(t){var e=t.getLayout().value;e<i&&(i=e),e>a&&(a=e)})),b["each"](n,(function(e){var n=new $s["a"]({type:"color",mappingMethod:"linear",dataExtent:[i,a],visual:t.get("color")}),r=n.mapValueToVisual(e.getLayout().value),o=e.getModel().get(["itemStyle","color"]);null!=o?(e.setVisual("color",o),e.setVisual("style",{fill:o})):(e.setVisual("color",r),e.setVisual("style",{fill:r}))}))}}))}function tl(t){t.registerChartView(Is),t.registerSeriesModel(Cs),t.registerLayout(As),t.registerVisual(Qs),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))}var el=n("2f45"),nl=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,a=e.getComponent("xAxis",this.get("xAxisIndex")),r=e.getComponent("yAxis",this.get("yAxisIndex")),o=a.get("type"),s=r.get("type");"category"===o?(t.layout="horizontal",n=a.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=r.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],c="horizontal"===t.layout?0:1,u=this._baseAxisDim=l[c],h=l[1-c],d=[a,r],p=d[c].get("type"),f=d[1-c].get("type"),g=t.data;if(g&&i){var y=[];b["each"](g,(function(t,e){var n;b["isArray"](t)?(n=t.slice(),t.unshift(e)):b["isArray"](t.value)?(n=b["extend"]({},t),n.value=n.value.slice(),t.value.unshift(e)):n=t,y.push(n)})),t.data=y}var m=this.defaultValueDimensions,v=[{name:u,type:Object(el["a"])(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Object(el["a"])(f),dimsDef:m.slice()}];return Object(ti["a"])(this,{coordDimensions:v,dimensionsCount:m.length+1,encodeDefaulter:b["curry"](ei["c"],v,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),il=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return Object(Kt["a"])(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Qt["b"]);Object(b["mixin"])(il,nl,!0);var al=il,rl=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),a=this.group,r=this._data;this._data||a.removeAll();var o="horizontal"===t.get("layout")?1:0;i.diff(r).add((function(t){if(i.hasValue(t)){var e=i.getItemLayout(t),n=ll(e,i,t,o,!0);i.setItemGraphicEl(t,n),a.add(n)}})).update((function(t,e){var n=r.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?(Object(Me["g"])(n),cl(s,n,i,t)):n=ll(s,i,t,o),a.add(n),i.setItemGraphicEl(t,n)}else a.remove(n)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&a.remove(e)})).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(pe["a"]),ol=function(){function t(){}return t}(),sl=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return Object(Kt["a"])(e,t),e.prototype.getDefaultShape=function(){return new ol},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(s["b"]);function ll(t,e,n,i,a){var r=t.ends,o=new sl({shape:{points:a?ul(r,i,t):r}});return cl(t,o,e,n,a),o}function cl(t,e,n,i,a){var r=n.hostModel,o=Ce[a?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},r,i),e.useStyle(n.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(i),l=s.getModel("emphasis");Object(Ae["I"])(e,s),Object(Ae["J"])(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function ul(t,e,n){return b["map"](t,(function(t){return t=t.slice(),t[e]=n.initBaseline,t}))}var hl=rl;function dl(t,e){}var pl=b["each"];function fl(t){var e=gl(t);pl(e,(function(t){var e=t.seriesModels;e.length&&(yl(t),pl(e,(function(e,n){ml(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}function gl(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis(),a=b["indexOf"](n,i);a<0&&(a=n.length,n[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(t)})),e}function yl(t){var e,n=t.axis,i=t.seriesModels,a=i.length,r=t.boxWidthList=[],o=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var l=0;pl(i,(function(t){l=Math.max(l,t.getData().count())}));var c=n.getExtent();e=Math.abs(c[1]-c[0])/l}pl(i,(function(t){var n=t.get("boxWidth");b["isArray"](n)||(n=[n,n]),s.push([Object(Si["p"])(n[0],e)||0,Object(Si["p"])(n[1],e)||0])}));var u=.8*e-2,h=u/a*.3,d=(u-h*(a-1))/a,p=d/2-u/2;pl(i,(function(t,e){o.push(p),p+=h+d,r.push(Math.min(Math.max(d,s[e][0]),s[e][1]))}))}function ml(t,e,n){var i=t.coordinateSystem,a=t.getData(),r=n/2,o="horizontal"===t.get("layout")?0:1,s=1-o,l=["x","y"],c=a.mapDimension(l[o]),u=a.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var h=0;h<a.count();h++){var d=a.get(c,h),p=b(d,u[2],h),f=b(d,u[0],h),g=b(d,u[1],h),y=b(d,u[3],h),m=b(d,u[4],h),v=[];x(v,g,!1),x(v,y,!0),v.push(f,g,m,y),_(v,f),_(v,m),_(v,p),a.setItemLayout(h,{initBaseline:p[s],ends:v})}function b(t,n,r){var l,c=a.get(n,r),u=[];return u[o]=t,u[s]=c,isNaN(t)||isNaN(c)?l=[NaN,NaN]:(l=i.dataToPoint(u),l[o]+=e),l}function x(t,e,n){var i=e.slice(),a=e.slice();i[o]+=r,a[o]-=r,n?t.push(i,a):t.push(a,i)}function _(t,e){var n=e.slice(),i=e.slice();n[o]-=r,i[o]+=r,t.push(n,i)}}function vl(t,e){e=e||{};for(var n=[],i=[],a=e.boundIQR,r="none"===a||0===a,o=0;o<t.length;o++){var s=Object(Si["c"])(t[o].slice()),l=Object(Si["q"])(s,.25),c=Object(Si["q"])(s,.5),u=Object(Si["q"])(s,.75),h=s[0],d=s[s.length-1],p=(null==a?1.5:a)*(u-l),f=r?h:Math.max(h,l-p),g=r?d:Math.min(d,u+p),y=e.itemNameFormatter,m=Object(b["isFunction"])(y)?y({value:o}):Object(b["isString"])(y)?y.replace("{value}",o+""):o+"";n.push([m,f,l,c,u,g]);for(var v=0;v<s.length;v++){var x=s[v];if(x<f||x>g){var _=[m,x];i.push(_)}}}return{boxData:n,outliers:i}}var bl=n("edae"),xl=n("07fd"),_l={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==xl["c"]){var n="";0,Object(bl["c"])(n)}var i=vl(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Sl(t){t.registerSeriesModel(al),t.registerChartView(hl),t.registerVisual(dl),t.registerLayout(fl),t.registerTransform(_l)}var wl=n("b0af"),Ol=["color","borderColor"],Ml=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Ce["traverseElements"](this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,a=e.getLayout("isSimpleBox"),r=t.get("clip",!0),o=t.coordinateSystem,s=o.getArea&&o.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var o=e.getItemLayout(n);if(r&&Al(s,o))return;var l=Cl(o,n,!0);Me["c"](l,{shape:{points:o.ends}},t,n),Dl(l,e,n,a),i.add(l),e.setItemGraphicEl(n,l)}})).update((function(o,l){var c=n.getItemGraphicEl(l);if(e.hasValue(o)){var u=e.getItemLayout(o);r&&Al(s,u)?i.remove(c):(c?(Me["h"](c,{shape:{points:u.ends}},t,o),Object(Me["g"])(c)):c=Cl(u,o),Dl(c,e,o,a),i.add(c),e.setItemGraphicEl(o,c))}else i.remove(c)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),kl(t,this.group);var e=t.get("clip",!0)?Object(wl["a"])(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){var n,i=e.getData(),a=i.getLayout("isSimpleBox");while(null!=(n=t.next())){var r=i.getItemLayout(n),o=Cl(r,n);Dl(o,i,n,a),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){kl(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(pe["a"]),Il=function(){function t(){}return t}(),jl=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return Object(Kt["a"])(e,t),e.prototype.getDefaultShape=function(){return new Il},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(s["b"]);function Cl(t,e,n){var i=t.ends;return new jl({shape:{points:n?Tl(i,t):i},z2:100})}function Al(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function Dl(t,e,n,i){var a=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,Object(Ae["I"])(t,a)}function Tl(t,e){return b["map"](t,(function(t){return t=t.slice(),t[1]=e.initBaseline,t}))}var Ll=function(){function t(){}return t}(),Pl=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return Object(Kt["a"])(e,t),e.prototype.getDefaultShape=function(){return new Ll},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var a=n[i++];t.moveTo(a,n[i++]),t.lineTo(a,n[i++])}else i+=3},e}(s["b"]);function kl(t,e,n,i){var a=t.getData(),r=a.getLayout("largePoints"),o=new Pl({shape:{points:r},__sign:1});e.add(o);var s=new Pl({shape:{points:r},__sign:-1});e.add(s),Nl(1,o,t,a),Nl(-1,s,t,a),i&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function Nl(t,e,n,i){var a=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]),r=n.getModel("itemStyle").getItemStyle(Ol);e.useStyle(r),e.style.fill=null,e.style.stroke=a}var Rl=Ml,El=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return Object(Kt["a"])(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Qt["b"]);Object(b["mixin"])(El,nl,!0);var zl=El;function Vl(t){t&&b["isArray"](t.series)&&b["each"](t.series,(function(t){b["isObject"](t)&&"k"===t.type&&(t.type="candlestick")}))}var Bl=n("cccd"),Gl=["itemStyle","borderColor"],Fl=["itemStyle","borderColor0"],Wl=["itemStyle","color"],Hl=["itemStyle","color0"],Yl={seriesType:"candlestick",plan:Object(Bl["a"])(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?Wl:Hl)}function i(t,e){return e.get(t>0?Gl:Fl)}if(!e.isSeriesFiltered(t)){var a=t.pipelineContext.large;return!a&&{progress:function(t,e){var a;while(null!=(a=t.next())){var r=e.getItemModel(a),o=e.getItemLayout(a).sign,s=r.getItemStyle();s.fill=n(o,r),s.stroke=i(o,r)||s.fill;var l=e.ensureUniqueItemVisual(a,"style");Object(b["extend"])(l,s)}}}}}},Xl=Yl,Ul=n("f658"),Zl={seriesType:"candlestick",plan:Object(Bl["a"])(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=Jl(t,n),a=0,r=1,o=["x","y"],s=n.getDimensionIndex(n.mapDimension(o[a])),l=Object(b["map"])(n.mapDimensionsAll(o[r]),n.getDimensionIndex,n),c=l[0],u=l[1],h=l[2],d=l[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||l.length<4))return{progress:t.pipelineContext.large?f:p};function p(t,n){var o,l=n.getStore();while(null!=(o=t.next())){var p=l.get(s,o),f=l.get(c,o),g=l.get(u,o),y=l.get(h,o),m=l.get(d,o),v=Math.min(f,g),b=Math.max(f,g),x=M(v,p),_=M(b,p),S=M(y,p),w=M(m,p),O=[];I(O,_,0),I(O,x,1),O.push(C(w),C(_),C(S),C(x)),n.setItemLayout(o,{sign:ql(l,o,f,g,u),initBaseline:f>g?_[r]:x[r],ends:O,brushRect:j(y,m,p)})}function M(t,n){var i=[];return i[a]=n,i[r]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function I(t,e,n){var r=e.slice(),o=e.slice();r[a]=Object(Ce["subPixelOptimize"])(r[a]+i/2,1,!1),o[a]=Object(Ce["subPixelOptimize"])(o[a]-i/2,1,!0),n?t.push(r,o):t.push(o,r)}function j(t,e,n){var o=M(t,n),s=M(e,n);return o[a]-=i/2,s[a]-=i/2,{x:o[0],y:o[1],width:r?i:s[0]-o[0],height:r?s[1]-o[1]:i}}function C(t){return t[a]=Object(Ce["subPixelOptimize"])(t[a],1),t}}function f(t,n){var i,o,l=Object(Ul["a"])(4*t.count),p=0,f=[],g=[],y=n.getStore();while(null!=(o=t.next())){var m=y.get(s,o),v=y.get(c,o),b=y.get(u,o),x=y.get(h,o),_=y.get(d,o);isNaN(m)||isNaN(x)||isNaN(_)?(l[p++]=NaN,p+=3):(l[p++]=ql(y,o,v,b,u),f[a]=m,f[r]=x,i=e.dataToPoint(f,null,g),l[p++]=i?i[0]:NaN,l[p++]=i?i[1]:NaN,f[r]=_,i=e.dataToPoint(f,null,g),l[p++]=i?i[1]:NaN)}n.setLayout("largePoints",l)}}};function ql(t,e,n,i,a){var r;return r=n>i?-1:n<i?1:e>0?t.get(a,e-1)<=i?1:-1:1,r}function Jl(t,e){var n,i=t.getBaseAxis(),a="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),r=Object(Si["p"])(Object(b["retrieve2"])(t.get("barMaxWidth"),a),a),o=Object(Si["p"])(Object(b["retrieve2"])(t.get("barMinWidth"),1),a),s=t.get("barWidth");return null!=s?Object(Si["p"])(s,a):Math.max(Math.min(a/2,r),o)}var Kl=Zl;function $l(t){t.registerChartView(Rl),t.registerSeriesModel(zl),t.registerPreprocessor(Vl),t.registerVisual(Xl),t.registerLayout(Kl)}function Ql(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var tc=function(t){function e(e,n){var i=t.call(this)||this,a=new Bi["a"](e,n),r=new ae["a"];return i.add(a),i.add(r),i.updateData(e,n),i}return Object(Kt["a"])(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,a=this.childAt(1),r=0;r<i;r++){var o=Object(re["a"])(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-r/i*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),a.add(o)}Ql(a,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],a=0;a<i.length;a++){var r=i[a];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Ql(n,t)},e.prototype.highlight=function(){Object(Ae["r"])(this)},e.prototype.downplay=function(){Object(Ae["C"])(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1),r=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),s=Object(re["c"])(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),c=l&&l.fill,u=r.getModel("emphasis");a.setScale(s),a.traverse((function(t){t.setStyle("fill",c)}));var h=Object(re["b"])(t.getItemVisual(e,"symbolOffset"),s);h&&(a.x=h[0],a.y=h[1]);var d=t.getItemVisual(e,"symbolRotate");a.rotation=(d||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=r.get(["rippleEffect","scale"]),p.brushType=r.get(["rippleEffect","brushType"]),p.period=1e3*r.get(["rippleEffect","period"]),p.effectOffset=e/t.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=o,p.color=c,p.rippleEffectColor=r.get(["rippleEffect","color"]),p.rippleNumber=r.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===t&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,Object(Ae["J"])(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(ae["a"]),ec=tc,nc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(){this._symbolDraw=new ne["a"](ec)},e.prototype.render=function(t,e,n){var i=t.getData(),a=this._symbolDraw;a.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var a=Object(de["a"])("").reset(t,e,n);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=Pe["clone"](e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(pe["a"]),ic=nc,ac=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object($t["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Qt["b"]),rc=ac;function oc(t){t.registerChartView(ic),t.registerSeriesModel(rc),t.registerLayout(Object(de["a"])("effectScatter"))}var sc=function(t){function e(e,n,i){var a=t.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return Object(Kt["a"])(e,t),e.prototype.createLine=function(t,e,n){return new dr(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),i=n.getModel("effect"),a=i.get("symbolSize"),r=i.get("symbol");b["isArray"](a)||(a=[a,a]);var o=t.getItemVisual(e,"style"),s=i.get("color")||o&&o.stroke,l=this.childAt(1);this._symbolType!==r&&(this.remove(l),l=Object(re["a"])(r,-.5,-.5,1,1,s),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.scaleX=a[0],l.scaleY=a[1],l.setColor(s),this._symbolType=r,this._symbolScale=a,this._updateEffectAnimation(t,i,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var a=t.getItemLayout(n),r=1e3*e.get("period"),o=e.get("loop"),s=e.get("constantSpeed"),l=b["retrieve"](e.get("delay"),(function(e){return e/t.count()*r/3}));if(i.ignore=!0,this._updateAnimationPoints(i,a),s>0&&(r=this._getLineLength(i)/s*1e3),r!==this._period||o!==this._loop){i.stopAnimation();var c=void 0;c=b["isFunction"](l)?l(n):l,i.__t>0&&(c=-r*i.__t),this._animateSymbol(i,r,c,o)}this._period=r,this._loop=o}},e.prototype._animateSymbol=function(t,e,n,i){if(e>0){t.__t=0;var a=this,r=t.animate("",i).when(e,{__t:1}).delay(n).during((function(){a._updateSymbolPosition(t)}));i||r.done((function(){a.remove(t)})),r.start()}},e.prototype._getLineLength=function(t){return hi["dist"](t.__p1,t.__cp1)+hi["dist"](t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,a=t.__t,r=[t.x,t.y],o=r.slice(),s=br["h"],l=br["i"];r[0]=s(e[0],i[0],n[0],a),r[1]=s(e[1],i[1],n[1],a);var c=l(e[0],i[0],n[0],a),u=l(e[1],i[1],n[1],a);t.rotation=-Math.atan2(u,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*hi["dist"](o,r),1===a&&(r[0]=o[0]+(r[0]-o[0])/2,r[1]=o[1]+(r[1]-o[1])/2)):1===t.__lastT?t.scaleY=2*hi["dist"](e,r):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=r[0],t.y=r[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(ae["a"]),lc=sc,cc=function(t){function e(e,n,i){var a=t.call(this)||this;return a._createPolyline(e,n,i),a}return Object(Kt["a"])(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),a=new je["a"]({shape:{points:i}});this.add(a),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,a=this.childAt(0),r={shape:{points:t.getItemLayout(e)}};Me["h"](a,r,i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),a=t.getItemModel(e),r=n&&n.emphasisLineStyle,o=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var c=a.getModel("emphasis");r=c.getModel("lineStyle").getLineStyle(),l=c.get("disabled"),o=c.get("focus"),s=c.get("blurScope")}i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var u=i.ensureState("emphasis");u.style=r,Object(Ae["J"])(this,o,s,l)},e.prototype.updateLayout=function(t,e){var n=this.childAt(0);n.setShape("points",t.getItemLayout(e))},e}(ae["a"]),uc=cc,hc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Object(Kt["a"])(e,t),e.prototype.createLine=function(t,e,n){return new uc(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,a=1;a<e.length;a++){var r=e[a-1],o=e[a];i+=hi["dist"](r,o),n.push(i)}if(0!==i){for(a=0;a<n.length;a++)n[a]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,a=n.length;if(i){var r,o=this._lastFrame;if(e<this._lastFramePercent){var s=Math.min(o+1,a-1);for(r=s;r>=0;r--)if(i[r]<=e)break;r=Math.min(r,a-2)}else{for(r=o;r<a;r++)if(i[r]>e)break;r=Math.min(r-1,a-2)}var l=(e-i[r])/(i[r+1]-i[r]),c=n[r],u=n[r+1];t.x=c[0]*(1-l)+l*u[0],t.y=c[1]*(1-l)+l*u[1];var h=u[0]-c[0],d=u[1]-c[1];t.rotation=-Math.atan2(d,h)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},e}(lc),dc=hc,pc=n("9680"),fc=n("68ab"),gc=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),yc=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(Kt["a"])(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gc},e.prototype.buildPath=function(t,e){var n,i=e.segs,a=e.curveness;if(e.polyline)for(n=this._off;n<i.length;){var r=i[n++];if(r>0){t.moveTo(i[n++],i[n++]);for(var o=1;o<r;o++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],c=i[n++],u=i[n++];if(t.moveTo(s,l),a>0){var h=(s+c)/2-(l-u)*a,d=(l+u)/2-(c-s)*a;t.quadraticCurveTo(h,d,c,u)}else t.lineTo(c,u)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,a=n.curveness,r=this.style.lineWidth;if(n.polyline)for(var o=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var c=i[s++],u=i[s++],h=1;h<l;h++){var d=i[s++],p=i[s++];if(pc["a"](c,u,d,p,r,t,e))return o}o++}else for(o=0,s=0;s<i.length;){c=i[s++],u=i[s++],d=i[s++],p=i[s++];if(a>0){var f=(c+d)/2-(u-p)*a,g=(u+p)/2-(d-c)*a;if(fc["a"](c,u,f,g,d,p,r,t,e))return o}else if(pc["a"](c,u,d,p,r,t,e))return o;o++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();if(t=n[0],e=n[1],i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.segs,i=1/0,a=1/0,r=-1/0,o=-1/0,s=0;s<n.length;){var l=n[s++],c=n[s++];i=Math.min(l,i),r=Math.max(l,r),a=Math.min(c,a),o=Math.max(c,o)}t=this._rect=new ie["a"](i,a,r,o)}return t},e}(s["b"]),mc=function(){function t(){this.group=new ae["a"]}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var r=a.length,o=new Float32Array(r+i.length);o.set(a),o.set(i,r),n.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new yc({cursor:"default"});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var r=Object(oe["a"])(t);r.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){r.dataIndex=null;var n=t.hoverDataIdx;n>0&&(r.dataIndex=n+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),vc=mc,bc={seriesType:"lines",plan:Object(Bl["a"])(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(a,r){var o=[];if(i){var s=void 0,l=a.end-a.start;if(n){for(var c=0,u=a.start;u<a.end;u++)c+=t.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var h=0,d=[];for(u=a.start;u<a.end;u++){var p=t.getLineCoords(u,o);n&&(s[h++]=p);for(var f=0;f<p;f++)d=e.dataToPoint(o[f],!1,d),s[h++]=d[0],s[h++]=d[1]}r.setLayout("linesPoints",s)}else for(u=a.start;u<a.end;u++){var g=r.getItemModel(u),y=(p=t.getLineCoords(u,o),[]);if(n)for(var m=0;m<p;m++)y.push(e.dataToPoint(o[m]));else{y[0]=e.dataToPoint(o[0]),y[1]=e.dataToPoint(o[1]);var v=g.get(["lineStyle","curveness"]);+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}r.setItemLayout(u,y)}}}}}},xc=bc,_c=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),a=this._updateLineDraw(i,t),r=t.get("zlevel"),o=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o>0&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),a.updateData(i);var c=t.get("clip",!0)&&Object(wl["a"])(t.coordinateSystem,!1,t);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData(),a=this._updateLineDraw(i,t);a.incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var r=xc.reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),a=!!e.get("polyline"),r=e.pipelineContext,o=r.large;return n&&i===this._hasEffet&&a===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vc:new vr(a?i?dc:uc:i?lc:dr),this._hasEffet=i,this._isPolyline=a,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr(),n="svg"===e.painter.getType();n||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(pe["a"]),Sc=_c,wc="undefined"===typeof Uint32Array?Array:Uint32Array,Oc="undefined"===typeof Float64Array?Array:Float64Array;function Mc(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Object(b["map"])(e,(function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),Object(b["mergeAll"])([n,t[0],t[1]])})))}var Ic=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(Kt["a"])(e,t),e.prototype.init=function(e){e.data=e.data||[],Mc(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(Mc(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(b["concatArray"])(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(b["concatArray"])(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],a=0;a<i;a++)e[a]=e[a]||[],e[a][0]=this._flatCoords[n+2*a],e[a][1]=this._flatCoords[n+2*a+1];return i}var r=this._getCoordsFromItemModel(t);for(a=0;a<r.length;a++)e[a]=e[a]||[],e[a][0]=r[a][0],e[a][1]=r[a][1];return r.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),Object(b["isNumber"])(t[0])){for(var n=t.length,i=new wc(n),a=new Oc(n),r=0,o=0,s=0,l=0;l<n;){s++;var c=t[l++];i[o++]=r+e,i[o++]=c;for(var u=0;u<c;u++){var h=t[l++],d=t[l++];a[r++]=h,a[r++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new Tr["a"](["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,a){if(t instanceof Array)return NaN;n.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[a]:r:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),a=i.getItemModel(t),r=a.get("name");if(r)return r;var o=a.get("fromName"),s=a.get("toName"),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),Object(ni["c"])("nameValue",{name:l.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Qt["b"]),jc=Ic;function Cc(t){return t instanceof Array||(t=[t,t]),t}var Ac={seriesType:"lines",reset:function(t){var e=Cc(t.get("symbol")),n=Cc(t.get("symbolSize")),i=t.getData();function a(t,e){var n=t.getItemModel(e),i=Cc(n.getShallow("symbol",!0)),a=Cc(n.getShallow("symbolSize",!0));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]),a[1]&&t.setItemVisual(e,"toSymbolSize",a[1])}return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?a:null}}},Dc=Ac;function Tc(t){t.registerChartView(Sc),t.registerSeriesModel(jc),t.registerLayout(xc),t.registerVisual(Dc)}var Lc=256,Pc=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=tt["d"].createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,a,r){var o=this._getBrush(),s=this._getGradient(a,"inRange"),l=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),d=t.length;u.width=e,u.height=n;for(var p=0;p<d;++p){var f=t[p],g=f[0],y=f[1],m=f[2],v=i(m);h.globalAlpha=v,h.drawImage(o,g-c,y-c)}if(!u.width||!u.height)return u;var b=h.getImageData(0,0,u.width,u.height),x=b.data,_=0,S=x.length,w=this.minOpacity,O=this.maxOpacity,M=O-w;while(_<S){v=x[_+3]/256;var I=4*Math.floor(v*(Lc-1));if(v>0){var j=r(v)?s:l;v>0&&(v=v*M+w),x[_++]=j[I],x[_++]=j[I+1],x[_++]=j[I+2],x[_++]=j[I+3]*v*256}else _+=4}return h.putImageData(b,0,0),u},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=tt["d"].createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,o=0;o<256;o++)t[e](o/255,!0,a),i[r++]=a[0],i[r++]=a[1],i[r++]=a[2],i[r++]=a[3];return i},t}(),kc=Pc,Nc=n("5426");function Rc(t,e,n){var i=t[1]-t[0];e=b["map"](e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}));var a=e.length,r=0;return function(t){var i;for(i=r;i<a;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){r=i;break}}if(i===a)for(i=r-1;i>=0;i--){o=e[i].interval;if(o[0]<=t&&t<=o[1]){r=i;break}}return i>=0&&i<a&&n[i]}}function Ec(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function zc(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var Vc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):zc(a)&&this._renderOnGeo(a,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var a=e.coordinateSystem;a&&(zc(a)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Ce["traverseElements"](this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,a){var r,o,s,l,c=t.coordinateSystem;if(Object(Nc["a"])(c,"cartesian2d")){var u=c.getAxis("x"),h=c.getAxis("y");0,r=u.getBandWidth(),o=h.getBandWidth(),s=u.scale.getExtent(),l=h.scale.getExtent()}for(var d=this.group,p=t.getData(),f=t.getModel(["emphasis","itemStyle"]).getItemStyle(),g=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),m=t.get(["itemStyle","borderRadius"]),v=Object(Pn["e"])(t),b=t.getModel("emphasis"),x=b.get("focus"),_=b.get("blurScope"),S=b.get("disabled"),w=Object(Nc["a"])(c,"cartesian2d")?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],O=n;O<i;O++){var M=void 0,I=p.getItemVisual(O,"style");if(Object(Nc["a"])(c,"cartesian2d")){var j=p.get(w[0],O),C=p.get(w[1],O);if(isNaN(p.get(w[2],O))||j<s[0]||j>s[1]||C<l[0]||C>l[1])continue;var A=c.dataToPoint([j,C]);M=new De["a"]({shape:{x:Math.floor(Math.round(A[0])-r/2),y:Math.floor(Math.round(A[1])-o/2),width:Math.ceil(r),height:Math.ceil(o)},style:I})}else{if(isNaN(p.get(w[1],O)))continue;M=new De["a"]({z2:1,shape:c.dataToRect([p.get(w[0],O)]).contentShape,style:I})}if(p.hasItemOption){var D=p.getItemModel(O),T=D.getModel("emphasis");f=T.getModel("itemStyle").getItemStyle(),g=D.getModel(["blur","itemStyle"]).getItemStyle(),y=D.getModel(["select","itemStyle"]).getItemStyle(),m=D.get(["itemStyle","borderRadius"]),x=T.get("focus"),_=T.get("blurScope"),S=T.get("disabled"),v=Object(Pn["e"])(D)}M.shape.r=m;var L=t.getRawValue(O),P="-";L&&null!=L[2]&&(P=L[2]+""),Object(Pn["g"])(M,v,{labelFetcher:t,labelDataIndex:O,defaultOpacity:I.opacity,defaultText:P}),M.ensureState("emphasis").style=f,M.ensureState("blur").style=g,M.ensureState("select").style=y,Object(Ae["J"])(M,x,_,S),M.incremental=a,a&&(M.states.emphasis.hoverLayer=!0),d.add(M),p.setItemGraphicEl(O,M),this._progressiveEls&&this._progressiveEls.push(M)}},e.prototype._renderOnGeo=function(t,e,n,i){var a=n.targetVisuals.inRange,r=n.targetVisuals.outOfRange,o=e.getData(),s=this._hmLayer||this._hmLayer||new kc;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var c=t.getViewRect().clone(),u=t.getRoamTransform();c.applyTransform(u);var h=Math.max(c.x,0),d=Math.max(c.y,0),p=Math.min(c.width+c.x,i.getWidth()),f=Math.min(c.height+c.y,i.getHeight()),g=p-h,y=f-d,m=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],v=o.mapArray(m,(function(e,n,i){var a=t.dataToPoint([e,n]);return a[0]-=h,a[1]-=d,a.push(i),a})),b=n.getExtent(),x="visualMap.continuous"===n.type?Ec(b,n.option.range):Rc(b,n.getPieceList(),n.option.selected);s.update(v,g,y,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:r.color.getColorMapper()},x);var _=new l["a"]({style:{width:g,height:y,x:h,y:d,image:s.canvas},silent:!0});this.group.add(_)},e.type="heatmap",e}(pe["a"]),Bc=Vc,Gc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object($t["a"])(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Br["a"].get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Qt["b"]),Fc=Gc;function Wc(t){t.registerChartView(Bc),t.registerSeriesModel(Fc)}var Hc=n("c775"),Yc=["itemStyle","borderWidth"],Xc=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Uc=new be["a"],Zc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=this.group,a=t.getData(),r=this._data,o=t.coordinateSystem,s=o.getBaseAxis(),l=s.isHorizontal(),c=o.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:l,valueDim:Xc[+l],categoryDim:Xc[1-+l]};return a.diff(r).add((function(t){if(a.hasValue(t)){var e=ou(a,t),n=qc(a,t,e,u),r=cu(a,u,n);a.setItemGraphicEl(t,r),i.add(r),gu(r,u,n)}})).update((function(t,e){var n=r.getItemGraphicEl(e);if(a.hasValue(t)){var o=ou(a,t),s=qc(a,t,o,u),l=du(a,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),a.setItemGraphicEl(t,null),n=null),n?uu(n,u,s):n=cu(a,u,s,!0),a.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),gu(n,u,s)}else i.remove(n)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&hu(r,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=a,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){hu(i,Object(oe["a"])(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(pe["a"]);function qc(t,e,n,i){var a=t.getItemLayout(e),r=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),c=(l||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),d={dataIndex:e,layout:a,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:r,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};Jc(n,r,a,i,d),$c(t,e,a,r,o,d.boundingLength,d.pxSign,u,i,d),Qc(n,d.symbolScale,c,i,d);var p=d.symbolSize,f=Object(re["b"])(n.get("symbolOffset"),p);return tu(n,p,a,r,o,f,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,i,d),d}function Jc(t,e,n,i,a){var r,o=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),c=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(n[o.wh]<=0);if(b["isArray"](s)){var h=[Kc(l,s[0])-c,Kc(l,s[1])-c];h[1]<h[0]&&h.reverse(),r=h[u]}else r=null!=s?Kc(l,s)-c:e?i.coordSysExtent[o.index][u]-c:n[o.wh];a.boundingLength=r,e&&(a.repeatCutLength=n[o.wh]),a.pxSign=r>0?1:-1}function Kc(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function $c(t,e,n,i,a,r,o,s,l,c){var u,h=l.valueDim,d=l.categoryDim,p=Math.abs(n[d.wh]),f=t.getItemVisual(e,"symbolSize");u=b["isArray"](f)?f.slice():null==f?["100%","100%"]:[f,f],u[d.index]=Object(Si["p"])(u[d.index],p),u[h.index]=Object(Si["p"])(u[h.index],i?p:Math.abs(r)),c.symbolSize=u;var g=c.symbolScale=[u[0]/s,u[1]/s];g[h.index]*=(l.isHorizontal?-1:1)*o}function Qc(t,e,n,i,a){var r=t.get(Yc)||0;r&&(Uc.attr({scaleX:e[0],scaleY:e[1],rotation:n}),Uc.updateTransform(),r/=Uc.getLineScale(),r*=e[i.valueDim.index]),a.valueLineWidth=r||0}function tu(t,e,n,i,a,r,o,s,l,c,u,h){var d=u.categoryDim,p=u.valueDim,f=h.pxSign,g=Math.max(e[p.index]+s,0),y=g;if(i){var m=Math.abs(l),v=b["retrieve"](t.get("symbolMargin"),"15%")+"",x=!1;v.lastIndexOf("!")===v.length-1&&(x=!0,v=v.slice(0,v.length-1));var _=Object(Si["p"])(v,e[p.index]),S=Math.max(g+2*_,0),w=x?0:2*_,O=Object(Si["j"])(i),M=O?i:yu((m+w)/S),I=m-M*g;_=I/2/(x?M:Math.max(M-1,1)),S=g+2*_,w=x?0:2*_,O||"fixed"===i||(M=c?yu((Math.abs(c)+w)/S):0),y=M*S-w,h.repeatTimes=M,h.symbolMargin=_}var j=f*(y/2),C=h.pathPosition=[];C[d.index]=n[d.wh]/2,C[p.index]="start"===o?j:"end"===o?l-j:l/2,r&&(C[0]+=r[0],C[1]+=r[1]);var A=h.bundlePosition=[];A[d.index]=n[d.xy],A[p.index]=n[p.xy];var D=h.barRectShape=b["extend"]({},n);D[p.wh]=f*Math.max(Math.abs(n[p.wh]),Math.abs(C[p.index]+j)),D[d.wh]=n[d.wh];var T=h.clipShape={};T[d.xy]=-n[d.xy],T[d.wh]=u.ecSize[d.wh],T[p.xy]=0,T[p.wh]=n[p.wh]}function eu(t){var e=t.symbolPatternSize,n=Object(re["a"])(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function nu(t,e,n,i){var a=t.__pictorialBundle,r=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,c=n.repeatTimes||0,u=0,h=r[e.valueDim.index]+o+2*n.symbolMargin;for(pu(t,(function(t){t.__pictorialAnimationIndex=u,t.__pictorialRepeatTimes=c,u<c?fu(t,null,f(u),n,i):fu(t,null,{scaleX:0,scaleY:0},n,i,(function(){a.remove(t)})),u++}));u<c;u++){var d=eu(n);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=c,a.add(d);var p=f(u);fu(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function f(t){var e=s.slice(),i=n.pxSign,a=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(a=c-1-t),e[l.index]=h*(a-c/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function iu(t,e,n,i){var a=t.__pictorialBundle,r=t.__pictorialMainPath;r?fu(r,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(r=t.__pictorialMainPath=eu(n),a.add(r),fu(r,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function au(t,e,n){var i=b["extend"]({},e.barRectShape),a=t.__pictorialBarRect;a?fu(a,null,{shape:i},e,n):(a=t.__pictorialBarRect=new De["a"]({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.disableMorphing=!0,t.add(a))}function ru(t,e,n,i){if(n.symbolClip){var a=t.__pictorialClipPath,r=b["extend"]({},n.clipShape),o=e.valueDim,s=n.animationModel,l=n.dataIndex;if(a)Me["h"](a,{shape:r},s,l);else{r[o.wh]=0,a=new De["a"]({shape:r}),t.__pictorialBundle.setClipPath(a),t.__pictorialClipPath=a;var c={};c[o.wh]=n.clipShape[o.wh],Ce[i?"updateProps":"initProps"](a,{shape:c},s,l)}}}function ou(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=su,n.isAnimationEnabled=lu,n}function su(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function lu(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function cu(t,e,n,i){var a=new ae["a"],r=new ae["a"];return a.add(r),a.__pictorialBundle=r,r.x=n.bundlePosition[0],r.y=n.bundlePosition[1],n.symbolRepeat?nu(a,e,n):iu(a,e,n),au(a,n,i),ru(a,e,n,i),a.__pictorialShapeStr=du(t,n),a.__pictorialSymbolMeta=n,a}function uu(t,e,n){var i=n.animationModel,a=n.dataIndex,r=t.__pictorialBundle;Me["h"](r,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,a),n.symbolRepeat?nu(t,e,n,!0):iu(t,e,n,!0),au(t,n,!0),ru(t,e,n,!0)}function hu(t,e,n,i){var a=i.__pictorialBarRect;a&&a.removeTextContent();var r=[];pu(i,(function(t){r.push(t)})),i.__pictorialMainPath&&r.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),b["each"](r,(function(t){Me["e"](t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function du(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function pu(t,e,n){b["each"](t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function fu(t,e,n,i,a,r){e&&t.attr(e),i.symbolClip&&!a?n&&t.attr(n):n&&Ce[a?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,r)}function gu(t,e,n){var i=n.dataIndex,a=n.itemModel,r=a.getModel("emphasis"),o=r.getModel("itemStyle").getItemStyle(),s=a.getModel(["blur","itemStyle"]).getItemStyle(),c=a.getModel(["select","itemStyle"]).getItemStyle(),u=a.getShallow("cursor"),h=r.get("focus"),d=r.get("blurScope"),p=r.get("scale");pu(t,(function(t){if(t instanceof l["a"]){var e=t.style;t.useStyle(b["extend"]({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState("emphasis");i.style=o,p&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=c,u&&(t.cursor=u),t.z2=n.z2}));var f=e.valueDim.posDesc[+(n.boundingLength>0)],g=t.__pictorialBarRect;Object(Pn["g"])(g,Object(Pn["e"])(a),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Object(Hc["b"])(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:f}),Object(Ae["J"])(t,h,d,r.get("disabled"))}function yu(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var mu=Zc,vu=n("3014"),bu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Object(Ln["d"])(vu["a"].defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(vu["a"]),xu=bu,_u=n("9d57");function Su(t){t.registerChartView(mu),t.registerSeriesModel(xu),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Object(b["curry"])(_u["c"],"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(_u["a"])("pictorialBar"))}var wu=n("d4d1"),Ou=n("80f0"),Mu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),a=this,r=this.group,o=t.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,c=s.boundaryGap;function u(t){return t.name}r.x=0,r.y=l.y+c[0];var h=new Ou["a"](this._layersSeries||[],o,u,u),d=[];function p(e,n,s){var l=a._layers;if("remove"!==e){for(var c,u,h=[],p=[],f=o[n].indices,g=0;g<f.length;g++){var y=i.getItemLayout(f[g]),m=y.x,v=y.y0,b=y.y;h.push(m,v),p.push(m,v+b),c=i.getItemVisual(f[g],"style")}var x=i.getItemLayout(f[0]),_=t.getModel("label"),S=_.get("margin"),w=t.getModel("emphasis");if("add"===e){var O=d[n]=new ae["a"];u=new wu["a"]({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),O.add(u),r.add(O),t.isAnimationEnabled()&&u.setClipPath(Iu(u.getBoundingRect(),t,(function(){u.removeClipPath()})))}else{O=l[s];u=O.childAt(0),r.add(O),d[n]=O,Me["h"](u,{shape:{points:h,stackedOnPoints:p}},t),Object(Me["g"])(u)}Object(Pn["g"])(u,Object(Pn["e"])(t),{labelDataIndex:f[g-1],defaultText:i.getName(f[g-1]),inheritColor:c.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var M=u.getTextContent();M&&(M.x=x.x-S,M.y=x.y0+x.y/2),u.useStyle(c),i.setItemGraphicEl(n,u),Object(Ae["I"])(u,t),Object(Ae["J"])(u,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else r.remove(l[n])}h.add(Object(b["bind"])(p,this,"add")).update(Object(b["bind"])(p,this,"update")).remove(Object(b["bind"])(p,this,"remove")).execute(),this._layersSeries=o,this._layers=d},e.type="themeRiver",e}(pe["a"]);function Iu(t,e,n){var i=new De["a"]({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Me["c"](i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}var ju=Mu,Cu=2,Au=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Fr["a"](b["bind"](this.getData,this),b["bind"](this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=Object(Rn["j"])(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),a=[];i.buckets.each((function(t,e){a.push({name:e,dataList:t})}));for(var r=a.length,o=0;o<r;++o){for(var s=a[o].name,l=0;l<a[o].dataList.length;++l){var c=a[o].dataList[l][0]+"";n[c]=o}for(var c in n)n.hasOwnProperty(c)&&n[c]!==o&&(n[c]=o,t[e]=[c,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",Rn["b"]).models[0],i=n.get("type"),a=b["filter"](t.data,(function(t){return void 0!==t[2]})),r=this.fixData(a||[]),o=[],s=this.nameMap=b["createHashMap"](),l=0,c=0;c<r.length;++c)o.push(r[c][Cu]),s.get(r[c][Cu])||(s.set(r[c][Cu],l),l++);var u=Object(Vr["b"])(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Object(el["a"])(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Tr["a"](u,this);return h.initData(r),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var a=t.mapDimension("single"),r=Object(Rn["j"])(n,(function(e){return t.get("name",e)})),o=[];return r.buckets.each((function(e,n){e.sort((function(e,n){return t.get(a,e)-t.get(a,n)})),o.push({name:n,indices:e})})),o},e.prototype.getAxisTooltipData=function(t,e,n){b["isArray"](t)||(t=t?[t]:[]);for(var i,a=this.getData(),r=this.getLayerSeries(),o=[],s=r.length,l=0;l<s;++l){for(var c=Number.MAX_VALUE,u=-1,h=r[l].indices.length,d=0;d<h;++d){var p=a.get(t[0],r[l].indices[d]),f=Math.abs(p-e);f<=c&&(i=p,c=f,u=r[l].indices[d])}o.push(u)}return{dataIndices:o,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),a=i.getName(t),r=i.get(i.mapDimension("value"),t);return Object(ni["c"])("nameValue",{name:a,value:r})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Qt["b"]),Du=Au;function Tu(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},a=n.getRect();i.rect=a;var r=t.get("boundaryGap"),o=n.getAxis();if(i.boundaryGap=r,"horizontal"===o.orient){r[0]=Si["p"](r[0],a.height),r[1]=Si["p"](r[1],a.height);var s=a.height-r[0]-r[1];Lu(e,t,s)}else{r[0]=Si["p"](r[0],a.width),r[1]=Si["p"](r[1],a.width);var l=a.width-r[0]-r[1];Lu(e,t,l)}e.setLayout("layoutInfo",i)}))}function Lu(t,e,n){if(t.count())for(var i,a=e.coordinateSystem,r=e.getLayerSeries(),o=t.mapDimension("single"),s=t.mapDimension("value"),l=b["map"](r,(function(e){return b["map"](e.indices,(function(e){var n=a.dataToPoint(t.get(o,e));return n[1]=t.get(s,e),n}))})),c=Pu(l),u=c.y0,h=n/c.max,d=r.length,p=r[0].indices.length,f=0;f<p;++f){i=u[f]*h,t.setItemLayout(r[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*h});for(var g=1;g<d;++g)i+=l[g-1][f][1]*h,t.setItemLayout(r[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i,y:l[g][f][1]*h})}}function Pu(t){for(var e=t.length,n=t[0].length,i=[],a=[],r=0,o=0;o<n;++o){for(var s=0,l=0;l<e;++l)s+=t[l][o][1];s>r&&(r=s),i.push(s)}for(var c=0;c<n;++c)a[c]=(r-i[c])/2;r=0;for(var u=0;u<n;++u){var h=i[u]+a[u];h>r&&(r=h)}return{y0:a,max:r}}function ku(t){t.registerChartView(ju),t.registerSeriesModel(Du),t.registerLayout(Tu),t.registerProcessor(Object(so["a"])("themeRiver"))}var Nu=n("4aa2"),Ru=n("d32f"),Eu=2,zu=4,Vu=function(t){function e(e,n,i,a){var r=t.call(this)||this;r.z2=Eu,r.textConfig={inside:!0},Object(oe["a"])(r).seriesIndex=n.seriesIndex;var o=new Q["a"]({z2:zu,silent:e.getModel().get(["label","silent"])});return r.setTextContent(o),r.updateData(!0,e,n,i,a),r}return Object(Kt["a"])(e,t),e.prototype.updateData=function(t,e,n,i,a){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var r=this;Object(oe["a"])(r).dataIndex=e.dataIndex;var o=e.getModel(),s=o.getModel("emphasis"),l=e.getLayout(),c=b["extend"]({},l);c.label=null;var u=e.getVisual("style");u.lineJoin="bevel";var h=e.getVisual("decal");h&&(u.decal=Object(kn["a"])(h,a));var d=Object(Ru["a"])(o.getModel("itemStyle"),c,!0);b["extend"](c,d),b["each"](Ae["g"],(function(t){var e=r.ensureState(t),n=o.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var i=Object(Ru["a"])(n,c);i&&(e.shape=i)})),t?(r.setShape(c),r.shape.r=l.r0,Me["h"](r,{shape:{r:l.r}},n,e.dataIndex)):(Me["h"](r,{shape:c},n),Object(Me["g"])(r)),r.useStyle(u),this._updateLabel(n);var p=o.getShallow("cursor");p&&r.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get("focus"),g="ancestor"===f?e.getAncestorsIndices():"descendant"===f?e.getDescendantIndices():f;Object(Ae["J"])(this,g,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),a=this.node.getLayout(),r=a.endAngle-a.startAngle,o=(a.startAngle+a.endAngle)/2,s=Math.cos(o),l=Math.sin(o),c=this,u=c.getTextContent(),h=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(null!=d&&Math.abs(r)<d);function f(t,e){var n=t.get(e);return null==n?i.get(e):n}u.ignore=!p,b["each"](Ae["a"],(function(i){var d="normal"===i?n.getModel("label"):n.getModel([i,"label"]),p="normal"===i,g=p?u:u.ensureState(i),y=t.getFormattedLabel(h,i);p&&(y=y||e.node.name),g.style=Object(Pn["c"])(d,{},null,"normal"!==i,!0),y&&(g.style.text=y);var m=d.get("show");null==m||p||(g.ignore=!m);var v,x=f(d,"position"),_=p?c:c.states[i],S=_.style.fill;_.textConfig={outsideFill:"inherit"===d.get("color")?S:null,inside:"outside"!==x};var w=f(d,"distance")||0,O=f(d,"align");"outside"===x?(v=a.r+w,O=o>Math.PI/2?"right":"left"):O&&"center"!==O?"left"===O?(v=a.r0+w,o>Math.PI/2&&(O="right")):"right"===O&&(v=a.r-w,o>Math.PI/2&&(O="left")):(v=r===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,O="center"),g.style.align=O,g.style.verticalAlign=f(d,"verticalAlign")||"middle",g.x=v*s+a.cx,g.y=v*l+a.cy;var M=f(d,"rotate"),I=0;"radial"===M?(I=-o,I<-Math.PI/2&&(I+=Math.PI)):"tangential"===M?(I=Math.PI/2-o,I>Math.PI/2?I-=Math.PI:I<-Math.PI/2&&(I+=Math.PI)):b["isNumber"](M)&&(I=M*Math.PI/180),g.rotation=I})),u.dirtyStyle()},e}(Nu["a"]),Bu=Vu,Gu="sunburstRootToNode",Fu="sunburstHighlight",Wu="sunburstUnhighlight";function Hu(t){t.registerAction({type:Gu,update:"updateView"},(function(t,e){function n(e,n){var i=Object(pa["c"])(t,[Gu],e);if(i){var a=e.getViewRoot();a&&(t.direction=Object(pa["a"])(a,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)})),t.registerAction({type:Fu,update:"none"},(function(t,e,n){function i(e){var n=Object(pa["c"])(t,[Fu],e);n&&(t.dataIndex=n.node.dataIndex)}t=Object(b["extend"])({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i),n.dispatchAction(Object(b["extend"])(t,{type:"highlight"}))})),t.registerAction({type:Wu,update:"updateView"},(function(t,e,n){t=Object(b["extend"])({},t),n.dispatchAction(Object(b["extend"])(t,{type:"downplay"}))}))}var Yu=n("eda2"),Xu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n,i){var a=this;this.seriesModel=t,this.api=n,this.ecModel=e;var r=t.getData(),o=r.tree.root,s=t.getViewRoot(),l=this.group,c=t.get("renderLabelForZeroData"),u=[];s.eachNode((function(t){u.push(t)}));var h=this._oldChildren||[];function d(t,e){function n(t){return t.getId()}function i(n,i){var a=null==n?null:t[n],r=null==i?null:e[i];p(a,r)}0===t.length&&0===e.length||new Ou["a"](e,t,n,n).add(i).update(i).remove(b["curry"](i,null)).execute()}function p(i,a){if(c||!i||i.getValue()||(i=null),i!==o&&a!==o)if(a&&a.piece)i?(a.piece.updateData(!1,i,t,e,n),r.setItemGraphicEl(i.dataIndex,a.piece)):f(a);else if(i){var s=new Bu(i,t,e,n);l.add(s),r.setItemGraphicEl(i.dataIndex,s)}}function f(t){t&&t.piece&&(l.remove(t.piece),t.piece=null)}function g(i,r){r.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,i,t,e,n):(a.virtualPiece=new Bu(i,t,e,n),l.add(a.virtualPiece)),r.piece.off("click"),a.virtualPiece.on("click",(function(t){a._rootToNode(r.parentNode)}))):a.virtualPiece&&(l.remove(a.virtualPiece),a.virtualPiece=null)}d(u,h),g(o,s),this._initEvents(),this._oldChildren=u},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1,i=t.seriesModel.getViewRoot();i.eachNode((function(i){if(!n&&i.piece&&i.piece===e.target){var a=i.getModel().get("nodeClick");if("rootToNode"===a)t._rootToNode(i);else if("link"===a){var r=i.getModel(),o=r.get("link");if(o){var s=r.get("target",!0)||"_blank";Object(Yu["l"])(o,s)}}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Gu,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var a=t[0]-i.cx,r=t[1]-i.cy,o=Math.sqrt(a*a+r*r);return o<=i.r&&o>=i.r0}},e.type="sunburst",e}(pe["a"]),Uu=Xu,Zu=n("933c"),qu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return Object(Kt["a"])(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};Ju(n);var i=this._levelModels=b["map"](t.levels||[],(function(t){return new ui["a"](t,this,e)}),this),a=da["a"].createTree(n,this,r);function r(t){t.wrapMethod("getItemModel",(function(t,e){var n=a.getNodeByDataIndex(e),r=i[n.depth];return r&&(t.parentModel=r),t}))}return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=Object(pa["d"])(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){Object(Zu["a"])(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Qt["b"]);function Ju(t){var e=0;b["each"](t.children,(function(t){Ju(t);var n=t.value;b["isArray"](n)&&(n=n[0]),e+=n}));var n=t.value;b["isArray"](n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),b["isArray"](t.value)?t.value[0]=n:t.value=n}var Ku=qu,$u=Math.PI/180;function Qu(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),i=t.get("radius");b["isArray"](i)||(i=[0,i]),b["isArray"](e)||(e=[e,e]);var a=n.getWidth(),r=n.getHeight(),o=Math.min(a,r),s=Object(Si["p"])(e[0],a),l=Object(Si["p"])(e[1],r),c=Object(Si["p"])(i[0],o/2),u=Object(Si["p"])(i[1],o/2),h=-t.get("startAngle")*$u,d=t.get("minAngle")*$u,p=t.getData().tree.root,f=t.getViewRoot(),g=f.depth,y=t.get("sort");null!=y&&th(f,y);var m=0;b["each"](f.children,(function(t){!isNaN(t.getValue())&&m++}));var v=f.getValue(),x=Math.PI/(v||m)*2,_=f.depth>0,S=f.height-(_?-1:1),w=(u-c)/(S||1),O=t.get("clockwise"),M=t.get("stillShowZeroSum"),I=O?1:-1,j=function(e,n){if(e){var i=n;if(e!==p){var a=e.getValue(),r=0===v&&M?x:a*x;r<d&&(r=d),i=n+I*r;var u=e.depth-g-(_?-1:1),h=c+w*u,f=c+w*(u+1),y=t.getLevelModel(e);if(y){var m=y.get("r0",!0),S=y.get("r",!0),C=y.get("radius",!0);null!=C&&(m=C[0],S=C[1]),null!=m&&(h=Object(Si["p"])(m,o/2)),null!=S&&(f=Object(Si["p"])(S,o/2))}e.setLayout({angle:r,startAngle:n,endAngle:i,clockwise:O,cx:s,cy:l,r0:h,r:f})}if(e.children&&e.children.length){var A=0;b["each"](e.children,(function(t){A+=j(t,n+A)}))}return i-n}};if(_){var C=c,A=c+w,D=2*Math.PI;p.setLayout({angle:D,startAngle:h,endAngle:h+D,clockwise:O,cx:s,cy:l,r0:C,r:A})}j(f,h)}))}function th(t,e){var n=t.children||[];t.children=eh(n,e),n.length&&b["each"](t.children,(function(t){th(t,e)}))}function eh(t,e){if(b["isFunction"](e)){var n=b["map"](t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),b["map"](n,(function(e){return t[e.index]}))}var i="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}var nh=n("41ef");function ih(t){var e={};function n(t,n,i){var a=t;while(a&&a.depth>1)a=a.parentNode;var r=n.getColorFromPalette(a.name||a.dataIndex+"",e);return t.depth>1&&Object(b["isString"])(r)&&(r=Object(nh["lift"])(r,(t.depth-1)/(i-1)*.5)),r}t.eachSeriesByType("sunburst",(function(t){var e=t.getData(),i=e.tree;i.eachNode((function(a){var r=a.getModel(),o=r.getModel("itemStyle").getItemStyle();o.fill||(o.fill=n(a,t,i.root.height));var s=e.ensureUniqueItemVisual(a.dataIndex,"style");Object(b["extend"])(s,o)}))}))}function ah(t){t.registerChartView(Uu),t.registerSeriesModel(Ku),t.registerLayout(Object(b["curry"])(Qu,"sunburst")),t.registerProcessor(Object(b["curry"])(so["a"],"sunburst")),t.registerVisual(ih),Hu(t)}var rh={color:"fill",borderColor:"stroke"},oh={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},sh=Object(Rn["o"])(),lh=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Object($t["a"])(null,this)},e.prototype.getDataParams=function(e,n,i){var a=t.prototype.getDataParams.call(this,e,n);return i&&(a.info=sh(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Qt["b"]),ch=lh;function uh(t,e){return e=e||[0,0],b["map"](["x","y"],(function(n,i){var a=this.getAxis(n),r=e[i],o=t[i]/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(r-o)-a.dataToCoord(r+o))}),this)}function hh(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:b["bind"](uh,t)}}}function dh(t,e){return e=e||[0,0],b["map"]([0,1],(function(n){var i=e[n],a=t[n]/2,r=[],o=[];return r[n]=i-a,o[n]=i+a,r[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(r)[n]-this.dataToPoint(o)[n])}),this)}function ph(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:b["bind"](dh,t)}}}function fh(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,a=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-a)-n.dataToCoord(i+a))}function gh(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Object(b["bind"])(fh,t)}}}function yh(t,e){return e=e||[0,0],b["map"](["Radius","Angle"],(function(n,i){var a="get"+n+"Axis",r=this[a](),o=e[i],s=t[i]/2,l="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s));return"Angle"===n&&(l=l*Math.PI/180),l}),this)}function mh(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),r=n.dataToAngle(i[1]),o=t.coordToPoint([a,r]);return o.push(a,r*Math.PI/180),o},size:b["bind"](yh,t)}}}function vh(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}function bh(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||Object(b["hasOwn"])(t,"text")))}function xh(t,e,n){var i,a,r,o=t;if("text"===e)r=o;else{r={},Object(b["hasOwn"])(o,"text")&&(r.text=o.text),Object(b["hasOwn"])(o,"rich")&&(r.rich=o.rich),Object(b["hasOwn"])(o,"textFill")&&(r.fill=o.textFill),Object(b["hasOwn"])(o,"textStroke")&&(r.stroke=o.textStroke),Object(b["hasOwn"])(o,"fontFamily")&&(r.fontFamily=o.fontFamily),Object(b["hasOwn"])(o,"fontSize")&&(r.fontSize=o.fontSize),Object(b["hasOwn"])(o,"fontStyle")&&(r.fontStyle=o.fontStyle),Object(b["hasOwn"])(o,"fontWeight")&&(r.fontWeight=o.fontWeight),a={type:"text",style:r,silent:!0},i={};var s=Object(b["hasOwn"])(o,"textPosition");n?i.position=s?o.textPosition:"inside":s&&(i.position=o.textPosition),Object(b["hasOwn"])(o,"textPosition")&&(i.position=o.textPosition),Object(b["hasOwn"])(o,"textOffset")&&(i.offset=o.textOffset),Object(b["hasOwn"])(o,"textRotation")&&(i.rotation=o.textRotation),Object(b["hasOwn"])(o,"textDistance")&&(i.distance=o.textDistance)}return _h(r,t),Object(b["each"])(r.rich,(function(t){_h(t,t)})),{textConfig:i,textContent:a}}function _h(t,e){e&&(e.font=e.textFont||e.font,Object(b["hasOwn"])(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Object(b["hasOwn"])(e,"textAlign")&&(t.align=e.textAlign),Object(b["hasOwn"])(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Object(b["hasOwn"])(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Object(b["hasOwn"])(e,"textWidth")&&(t.width=e.textWidth),Object(b["hasOwn"])(e,"textHeight")&&(t.height=e.textHeight),Object(b["hasOwn"])(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Object(b["hasOwn"])(e,"textPadding")&&(t.padding=e.textPadding),Object(b["hasOwn"])(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Object(b["hasOwn"])(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Object(b["hasOwn"])(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Object(b["hasOwn"])(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Object(b["hasOwn"])(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Object(b["hasOwn"])(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Object(b["hasOwn"])(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Sh(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var a=i.textPosition.indexOf("inside")>=0,r=t.fill||"#000";wh(i,e);var o=null==i.textFill;return a?o&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=r),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(o&&(i.textFill=t.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,Object(b["each"])(e.rich,(function(t){wh(t,t)})),i}function wh(t,e){e&&(Object(b["hasOwn"])(e,"fill")&&(t.textFill=e.fill),Object(b["hasOwn"])(e,"stroke")&&(t.textStroke=e.fill),Object(b["hasOwn"])(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Object(b["hasOwn"])(e,"font")&&(t.font=e.font),Object(b["hasOwn"])(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Object(b["hasOwn"])(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Object(b["hasOwn"])(e,"fontSize")&&(t.fontSize=e.fontSize),Object(b["hasOwn"])(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Object(b["hasOwn"])(e,"align")&&(t.textAlign=e.align),Object(b["hasOwn"])(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Object(b["hasOwn"])(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Object(b["hasOwn"])(e,"width")&&(t.textWidth=e.width),Object(b["hasOwn"])(e,"height")&&(t.textHeight=e.height),Object(b["hasOwn"])(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Object(b["hasOwn"])(e,"padding")&&(t.textPadding=e.padding),Object(b["hasOwn"])(e,"borderColor")&&(t.textBorderColor=e.borderColor),Object(b["hasOwn"])(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Object(b["hasOwn"])(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Object(b["hasOwn"])(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Object(b["hasOwn"])(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Object(b["hasOwn"])(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Object(b["hasOwn"])(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Object(b["hasOwn"])(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Object(b["hasOwn"])(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Object(b["hasOwn"])(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Object(b["hasOwn"])(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var Oh=n("06ad"),Mh={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Ih=Object(b["keys"])(Mh),jh=(Object(b["reduce"])(B["a"],(function(t,e){return t[e]=1,t}),{}),B["a"].join(", "),["","style","shape","extra"]),Ch=Object(Rn["o"])();function Ah(t,e,n,i,a){var r=t+"Animation",o=Object(Me["a"])(t,i,a)||{},s=Ch(e).userDuring;return o.duration>0&&(o.during=s?Object(b["bind"])(Vh,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=t),Object(b["extend"])(o,n[r]),o}function Dh(t,e,n,i){i=i||{};var a=i.dataIndex,r=i.isInit,o=i.clearStyle,s=n.isAnimationEnabled(),l=Ch(t),c=e.style;l.userDuring=e.during;var u={},h={};if(Wh(t,e,h),Gh("shape",e,h),Gh("extra",e,h),!r&&s&&(Fh(t,e,u),Bh("shape",t,e,u),Bh("extra",t,e,u),Hh(t,e,c,u)),h.style=c,kh(t,h,o),Rh(t,e),s)if(r){var d={};Object(b["each"])(jh,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(d[t]=d[t]||{}),Object(b["extend"])(t?d[t]:d,n.enterFrom))}));var p=Ah("enter",t,e,n,a);p.duration>0&&t.animateFrom(d,p)}else Nh(t,e,a||0,n,u);Th(t,e),c?t.dirty():t.markRedraw()}function Th(t,e){for(var n=Ch(t).leaveToProps,i=0;i<jh.length;i++){var a=jh[i],r=a?e[a]:e;r&&r.leaveTo&&(n||(n=Ch(t).leaveToProps={}),a&&(n[a]=n[a]||{}),Object(b["extend"])(a?n[a]:n,r.leaveTo))}}function Lh(t,e,n,i){if(t){var a=t.parent,r=Ch(t).leaveToProps;if(r){var o=Ah("update",t,e,n,0);o.done=function(){a.remove(t),i&&i()},t.animateTo(r,o)}else a.remove(t),i&&i()}}function Ph(t){return"all"===t}function kh(t,e,n){var i=e.style;if(!t.isGroup&&i){if(n){t.useStyle({});for(var a=t.animators,r=0;r<a.length;r++){var o=a[r];"style"===o.targetName&&o.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}function Nh(t,e,n,i,a){if(a){var r=Ah("update",t,e,i,n);r.duration>0&&t.animateFrom(a,r)}}function Rh(t,e){Object(b["hasOwn"])(e,"silent")&&(t.silent=e.silent),Object(b["hasOwn"])(e,"ignore")&&(t.ignore=e.ignore),t instanceof Nn["c"]&&Object(b["hasOwn"])(e,"invisible")&&(t.invisible=e.invisible),t instanceof s["b"]&&Object(b["hasOwn"])(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var Eh={},zh={setTransform:function(t,e){return Eh.el[t]=e,this},getTransform:function(t){return Eh.el[t]},setShape:function(t,e){var n=Eh.el,i=n.shape||(n.shape={});return i[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=Eh.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=Eh.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=Eh.el.style;if(e)return e[t]},setExtra:function(t,e){var n=Eh.el.extra||(Eh.el.extra={});return n[t]=e,this},getExtra:function(t){var e=Eh.el.extra;if(e)return e[t]}};function Vh(){var t=this,e=t.el;if(e){var n=Ch(e).userDuring,i=t.userDuring;n===i?(Eh.el=e,i(zh)):t.el=t.userDuring=null}}function Bh(t,e,n,i){var a=n[t];if(a){var r,o=e[t];if(o){var s=n.transition,l=a.transition;if(l)if(!r&&(r=i[t]={}),Ph(l))Object(b["extend"])(r,o);else for(var c=Object(Rn["r"])(l),u=0;u<c.length;u++){var h=c[u],d=o[h];r[h]=d}else if(Ph(s)||Object(b["indexOf"])(s,t)>=0){!r&&(r=i[t]={});var p=Object(b["keys"])(o);for(u=0;u<p.length;u++){h=p[u],d=o[h];Yh(a[h],d)&&(r[h]=d)}}}}}function Gh(t,e,n){var i=e[t];if(i)for(var a=n[t]={},r=Object(b["keys"])(i),o=0;o<r.length;o++){var s=r[o];a[s]=Object(Oh["a"])(i[s])}}function Fh(t,e,n){for(var i=e.transition,a=Ph(i)?B["a"]:Object(Rn["r"])(i||[]),r=0;r<a.length;r++){var o=a[r];if("style"!==o&&"shape"!==o&&"extra"!==o){var s=t[o];0,n[o]=s}}}function Wh(t,e,n){for(var i=0;i<Ih.length;i++){var a=Ih[i],r=Mh[a],o=e[a];o&&(n[r[0]]=o[0],n[r[1]]=o[1])}for(i=0;i<B["a"].length;i++){var s=B["a"][i];null!=e[s]&&(n[s]=e[s])}}function Hh(t,e,n,i){if(n){var a,r=t.style;if(r){var o=n.transition,s=e.transition;if(o&&!Ph(o)){var l=Object(Rn["r"])(o);!a&&(a=i.style={});for(var c=0;c<l.length;c++){var u=l[c],h=r[u];a[u]=h}}else if(t.getAnimationStyleProps&&(Ph(s)||Ph(o)||Object(b["indexOf"])(s,"style")>=0)){var d=t.getAnimationStyleProps(),p=d?d.style:null;if(p){!a&&(a=i.style={});var f=Object(b["keys"])(n);for(c=0;c<f.length;c++){u=f[c];if(p[u]){h=r[u];a[u]=h}}}}}}}function Yh(t,e){return Object(b["isArrayLike"])(t)?t!==e:null!=t&&isFinite(t)}var Xh=Object(Rn["o"])(),Uh=["percent","easing","shape","style","extra"];function Zh(t){t.stopAnimation("keyframe"),t.attr(Xh(t))}function qh(t,e,n){if(n.isAnimationEnabled()&&e)if(Object(b["isArray"])(e))Object(b["each"])(e,(function(e){qh(t,e,n)}));else{var i=e.keyframes,a=e.duration;if(n&&null==a){var r=Object(Me["a"])("enter",n,0);a=r&&r.duration}if(i&&a){var o=Xh(t);Object(b["each"])(jh,(function(n){if(!n||t[n]){var r;i.sort((function(t,e){return t.percent-e.percent})),Object(b["each"])(i,(function(i){var s=t.animators,l=n?i[n]:i;if(l){var c=Object(b["keys"])(l);if(n||(c=Object(b["filter"])(c,(function(t){return Object(b["indexOf"])(Uh,t)<0}))),c.length){r||(r=t.animate(n,e.loop,!0),r.scope="keyframe");for(var u=0;u<s.length;u++)s[u]!==r&&s[u].targetName===r.targetName&&s[u].stopTracks(c);n&&(o[n]=o[n]||{});var h=n?o[n]:o;Object(b["each"])(c,(function(e){h[e]=((n?t[n]:t)||{})[e]})),r.whenWithKeys(a*i.percent,l,c,i.easing)}}})),r&&r.delay(e.delay||0).duration(a).start(e.easing)}}))}}}var Jh="emphasis",Kh="normal",$h="blur",Qh="select",td=[Kh,Jh,$h,Qh],ed={normal:["itemStyle"],emphasis:[Jh,"itemStyle"],blur:[$h,"itemStyle"],select:[Qh,"itemStyle"]},nd={normal:["label"],emphasis:[Jh,"label"],blur:[$h,"label"],select:[Qh,"label"]},id=["x","y"],ad="e\0\0",rd={normal:{},emphasis:{},blur:{},select:{}},od={cartesian2d:hh,geo:ph,singleAxis:gh,polar:mh,calendar:vh};function sd(t){return t instanceof s["b"]}function ld(t){return t instanceof Nn["c"]}function cd(t,e){e.copyTransform(t),ld(e)&&ld(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,sd(e)&&sd(t)&&e.setShape(t.shape))}var ud=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var a=this._data,r=t.getData(),o=this.group,s=md(t,r,e,n);a||o.removeAll(),r.diff(a).add((function(e){bd(n,null,e,s(e,i),t,o,r)})).remove((function(e){var n=a.getItemGraphicEl(e);Lh(n,sh(n).option,t)})).update((function(e,l){var c=a.getItemGraphicEl(l);bd(n,c,e,s(e,i),t,o,r)})).execute();var l=t.get("clip",!0)?Object(wl["a"])(t.coordinateSystem,!1,t):null;l?o.setClipPath(l):o.removeClipPath(),this._data=r},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,a){var r=e.getData(),o=md(e,r,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var c=t.start;c<t.end;c++){var u=bd(null,null,c,o(c,a),e,this.group,r);u&&(u.traverse(l),s.push(u))}},e.prototype.eachRendered=function(t){Ce["traverseElements"](this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,i){var a=e.element;if(null==a||n.name===a)return!0;while((n=n.__hostTarget||n.parent)&&n!==this.group)if(n.name===a)return!0;return!1},e.type="custom",e}(pe["a"]),hd=ud;function dd(t){var e,n=t.type;if("path"===n){var i=t.shape,a=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,r=Ld(i);e=Ce["makePath"](r,null,a,i.layout||"center"),sh(e).customPathData=r}else if("image"===n)e=new l["a"]({}),sh(e).customImagePath=t.style.image;else if("text"===n)e=new Q["a"]({});else if("group"===n)e=new ae["a"];else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var o=Ce["getShapeClass"](n);if(!o){var s="";0,Object(bl["c"])(s)}e=new o}return sh(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function pd(t,e,n,i,a,r,o){Zh(e);var s=a&&a.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=id);var l=i&&i.style;if(l){if("text"===e.type){var c=l;Object(b["hasOwn"])(c,"textFill")&&(c.fill=c.textFill),Object(b["hasOwn"])(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,h=sd(e)?l.decal:null;t&&h&&(h.dirty=!0,u=Object(kn["a"])(h,t)),l.__decalPattern=u}if(ld(e)&&l){u=l.__decalPattern;u&&(l.decal=u)}Dh(e,i,r,{dataIndex:n,isInit:o,clearStyle:!0}),qh(e,i.keyframeAnimation,r)}function fd(t,e,n,i,a){var r=e.isGroup?null:e,o=a&&a[t].cfg;if(r){var s=r.ensureState(t);if(!1===i){var l=r.getState(t);l&&(l.style=null)}else s.style=i||null;o&&(s.textConfig=o),Object(Ae["G"])(r)}}function gd(t,e,n){if(!t.isGroup){var i=t,a=n.currentZ,r=n.currentZLevel;i.z=a,i.zlevel=r;var o=e.z2;null!=o&&(i.z2=o||0);for(var s=0;s<td.length;s++)yd(i,e,td[s])}}function yd(t,e,n){var i,a=n===Kh,r=a?e:Md(e,n),o=r?r.z2:null;null!=o&&(i=a?t:t.ensureState(n),i.z2=o||0)}function md(t,e,n,i){var a=t.get("renderItem"),r=t.coordinateSystem,o={};r&&(o=r.prepareCustoms?r.prepareCustoms(r):od[r.type](r));for(var s,l,c=Object(b["defaults"])({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:_,style:w,ordinalRawValue:S,styleEmphasis:O,visual:j,barLayout:C,currentSeriesIndices:A,font:D},o.api||{}),u={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:vd(t.getData())},h={},d={},p={},f={},g=0;g<td.length;g++){var y=td[g];p[y]=t.getModel(ed[y]),f[y]=t.getModel(nd[y])}function m(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function v(t,n){return e.hasItemOption?t===s?h[n]||(h[n]=m(t).getModel(ed[n])):m(t).getModel(ed[n]):p[n]}function x(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=m(t).getModel(nd[n])):m(t).getModel(nd[n]):f[n]}return function(t,n){return s=t,l=null,h={},d={},a&&a(Object(b["defaults"])({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},u),c)};function _(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)}function S(t,n){null==n&&(n=s),t=t||0;var i=e.getDimensionInfo(t);if(!i){var a=e.getDimensionIndex(t);return a>=0?e.getStore().get(a,n):void 0}var r=e.get(i.name,n),o=i&&i.ordinalMeta;return o?o.categories[r]:r}function w(n,i){null==i&&(i=s);var a=e.getItemVisual(i,"style"),r=a&&a.fill,o=a&&a.opacity,l=v(i,Kh).getItemStyle();null!=r&&(l.fill=r),null!=o&&(l.opacity=o);var c={inheritColor:Object(b["isString"])(r)?r:"#000"},u=x(i,Kh),h=Pn["c"](u,null,c,!1,!0);h.text=u.getShallow("show")?Object(b["retrieve2"])(t.getFormattedLabel(i,Kh),Object(Hc["b"])(e,i)):null;var d=Pn["b"](u,c,!1);return I(n,l),l=Sh(l,h,d),n&&M(l,n),l.legacy=!0,l}function O(n,i){null==i&&(i=s);var a=v(i,Jh).getItemStyle(),r=x(i,Jh),o=Pn["c"](r,null,null,!0,!0);o.text=r.getShallow("show")?Object(b["retrieve3"])(t.getFormattedLabel(i,Jh),t.getFormattedLabel(i,Kh),Object(Hc["b"])(e,i)):null;var l=Pn["b"](r,null,!0);return I(n,a),a=Sh(a,o,l),n&&M(a,n),a.legacy=!0,a}function M(t,e){for(var n in e)Object(b["hasOwn"])(e,n)&&(t[n]=e[n])}function I(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}function j(t,n){if(null==n&&(n=s),Object(b["hasOwn"])(rh,t)){var i=e.getItemVisual(n,"style");return i?i[rh[t]]:null}if(Object(b["hasOwn"])(oh,t))return e.getItemVisual(n,t)}function C(t){if("cartesian2d"===r.type){var e=r.getBaseAxis();return Object(_u["b"])(Object(b["defaults"])({axis:e},t))}}function A(){return n.getCurrentSeriesIndices()}function D(t){return Pn["d"](t,n)}}function vd(t){var e={};return Object(b["each"])(t.dimensions,(function(n){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var a=i.coordDim,r=e[a]=e[a]||[];r[i.coordDimIndex]=t.getDimensionIndex(n)}})),e}function bd(t,e,n,i,a,r,o){if(i){var s=xd(t,e,n,i,a,r);return s&&o.setItemGraphicEl(n,s),s&&Object(Ae["J"])(s,i.focus,i.blurScope,i.emphasisDisabled),s}r.remove(e)}function xd(t,e,n,i,a,r){var o=-1,s=e;e&&_d(e,i,a)&&(o=Object(b["indexOf"])(r.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=dd(i),s&&cd(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),rd.normal.cfg=rd.normal.conOpt=rd.emphasis.cfg=rd.emphasis.conOpt=rd.blur.cfg=rd.blur.conOpt=rd.select.cfg=rd.select.conOpt=null,rd.isLegacy=!1,wd(c,n,i,a,l,rd),Sd(c,n,i,a,l),pd(t,c,n,i,rd,a,l),Object(b["hasOwn"])(i,"info")&&(sh(c).info=i.info);for(var u=0;u<td.length;u++){var h=td[u];if(h!==Kh){var d=Md(i,h),p=Id(i,d,h);fd(h,c,d,p,rd)}}return gd(c,i,a),"group"===i.type&&jd(t,c,n,i,a),o>=0?r.replaceAt(c,o):r.add(c),c}function _d(t,e,n){var i=sh(t),a=e.type,r=e.shape,o=e.style;return n.isUniversalTransitionEnabled()||null!=a&&a!==i.customGraphicType||"path"===a&&Pd(r)&&Ld(r)!==i.customPathData||"image"===a&&Object(b["hasOwn"])(o,"image")&&o.image!==i.customImagePath}function Sd(t,e,n,i,a){var r=n.clipPath;if(!1===r)t&&t.getClipPath()&&t.removeClipPath();else if(r){var o=t.getClipPath();o&&_d(o,r,i)&&(o=null),o||(o=dd(r),t.setClipPath(o)),pd(null,o,e,r,null,i,a)}}function wd(t,e,n,i,a,r){if(!t.isGroup){Od(n,null,r),Od(n,Jh,r);var o=r.normal.conOpt,s=r.emphasis.conOpt,l=r.blur.conOpt,c=r.select.conOpt;if(null!=o||null!=s||null!=c||null!=l){var u=t.getTextContent();if(!1===o)u&&t.removeTextContent();else{o=r.normal.conOpt=o||{type:"text"},u?u.clearStates():(u=dd(o),t.setTextContent(u)),pd(null,u,e,o,null,i,a);for(var h=o&&o.style,d=0;d<td.length;d++){var p=td[d];if(p!==Kh){var f=r[p].conOpt;fd(p,u,f,Id(o,f,p),null)}}h?u.dirty():u.markRedraw()}}}}function Od(t,e,n){var i=e?Md(t,e):t,a=e?Id(t,i,Jh):t.style,r=t.type,o=i?i.textConfig:null,s=t.textContent,l=s?e?Md(s,e):s:null;if(a&&(n.isLegacy||bh(a,r,!!o,!!l))){n.isLegacy=!0;var c=xh(a,r,!e);!o&&c.textConfig&&(o=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!e&&l){var u=l;!u.type&&(u.type="text")}var h=e?n[e]:n.normal;h.cfg=o,h.conOpt=l}function Md(t,e){return e?t?t[e]:null:t}function Id(t,e,n){var i=e&&e.style;return null==i&&n===Jh&&t&&(i=t.styleEmphasis),i}function jd(t,e,n,i,a){var r=i.children,o=r?r.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,c=!1===s;if(o||l||c)if(l)Cd({api:t,oldChildren:e.children()||[],newChildren:r||[],dataIndex:n,seriesModel:a,group:e});else{c&&e.removeAll();for(var u=0;u<o;u++)r[u]&&xd(t,e.childAt(u),n,r[u],a,e);for(var h=e.childCount()-1;h>=u;h--){var d=e.childAt(h);Lh(d,sh(e).option,a)}}}function Cd(t){new Ou["a"](t.oldChildren,t.newChildren,Ad,Ad,t).add(Dd).update(Dd).remove(Td).execute()}function Ad(t,e){var n=t&&t.name;return null!=n?n:ad+e}function Dd(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,a=null!=e?n.oldChildren[e]:null;xd(n.api,a,n.dataIndex,i,n.seriesModel,n.group)}function Td(t){var e=this.context,n=e.oldChildren[t];Lh(n,sh(n).option,e.seriesModel)}function Ld(t){return t&&(t.pathData||t.d)}function Pd(t){return t&&(Object(b["hasOwn"])(t,"pathData")||Object(b["hasOwn"])(t,"d"))}function kd(t){t.registerChartView(hd),t.registerSeriesModel(ch)}var Nd=n("4b2a"),Rd=n("6679"),Ed=n("dcb3"),zd=n("ff2e"),Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kt["a"])(e,t),e.prototype.makeElOption=function(t,e,n,i,a){var r=n.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var o=r.polar,s=o.getOtherAxis(r),l=s.getExtent(),c=r.dataToCoord(e),u=i.get("type");if(u&&"none"!==u){var h=zd["b"](i),d=Gd[u](r,o,c,l);d.style=h,t.graphicKey=d.type,t.pointer=d}var p=i.get(["label","margin"]),f=Bd(e,n,i,o,p);zd["c"](t,n,i,a,f)},e}(Ed["a"]);function Bd(t,e,n,i,a){var r=e.axis,o=r.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,c,u,h=i.getRadiusAxis().getExtent();if("radius"===r.dim){var d=Pe["create"]();Pe["rotate"](d,d,s),Pe["translate"](d,d,[i.cx,i.cy]),l=Ce["applyTransform"]([o,-a],d);var p=e.getModel("axisLabel").get("rotate")||0,f=ls["a"].innerTextLayout(s,p*Math.PI/180,-1);c=f.textAlign,u=f.textVerticalAlign}else{var g=h[1];l=i.coordToPoint([g+a,o]);var y=i.cx,m=i.cy;c=Math.abs(l[0]-y)/g<.3?"center":l[0]>y?"left":"right",u=Math.abs(l[1]-m)/g<.3?"middle":l[1]>m?"top":"bottom"}return{position:l,align:c,verticalAlign:u}}var Gd={line:function(t,e,n,i){return"angle"===t.dim?{type:"Line",shape:zd["f"](e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var a=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:zd["h"](e.cx,e.cy,i[0],i[1],(-n-a/2)*r,(a/2-n)*r)}:{type:"Sector",shape:zd["h"](e.cx,e.cy,n-a/2,n+a/2,0,2*Math.PI)}}},Fd=Vd,Wd=n("af5c"),Hd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.findAxisModel=function(t){var e,n=this.ecModel;return n.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(ci["a"]),Yd=Hd,Xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kt["a"])(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Rn["b"]).models[0]},e.type="polarAxis",e}(ci["a"]);b["mixin"](Xd,rs["a"]);var Ud=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="angleAxis",e}(Xd),Zd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="radiusAxis",e}(Xd),qd=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return Object(Kt["a"])(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(zo["a"]);qd.prototype.dataToRadius=zo["a"].prototype.dataToCoord,qd.prototype.radiusToData=zo["a"].prototype.coordToData;var Jd=qd,Kd=Object(Rn["o"])(),$d=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return Object(Kt["a"])(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),a=n.count();if(i[1]-i[0]<1)return 0;var r=i[0],o=t.dataToCoord(r+1)-t.dataToCoord(r),s=Math.abs(o),l=c["d"](null==r?"":r+"",e.getFont(),"center","top"),u=Math.max(l.height,7),h=u/s;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),p=Kd(t.model),f=p.lastAutoInterval,g=p.lastTickCount;return null!=f&&null!=g&&Math.abs(f-d)<=1&&Math.abs(g-a)<=1&&f>d?d=f:(p.lastTickCount=a,p.lastAutoInterval=d),d},e}(zo["a"]);$d.prototype.dataToAngle=zo["a"].prototype.dataToCoord,$d.prototype.angleToData=zo["a"].prototype.coordToData;var Qd=$d,tp=["radius","angle"],ep=function(){function t(t){this.dimensions=tp,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Jd,this._angleAxis=new Qd,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),r=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?r=o-360:o=r+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;var l=Math.atan2(-n,e)/Math.PI*180,c=l<r?1:-1;while(l<r||l>o)l+=360*c;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*e+this.cx,a=-Math.sin(n)*e+this.cy;return[i,a]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,a=n*n+i*i-1e-4,r=this.r,o=this.r0;return a<=r*r&&a>=o*o}}},t.prototype.convertToPixel=function(t,e,n){var i=np(e);return i===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=np(e);return i===this?this.pointToData(n):null},t}();function np(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var ip=ep;function ap(t,e,n){var i=e.get("center"),a=n.getWidth(),r=n.getHeight();t.cx=Object(Si["p"])(i[0],a),t.cy=Object(Si["p"])(i[1],r);var o=t.getRadiusAxis(),s=Math.min(a,r)/2,l=e.get("radius");null==l?l=[0,"100%"]:b["isArray"](l)||(l=[0,l]);var c=[Object(Si["p"])(l[0],s),Object(Si["p"])(l[1],s)];o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}function rp(t,e){var n=this,i=n.getAngleAxis(),a=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();b["each"](Object(Eo["d"])(e,"radius"),(function(t){a.scale.unionExtentFromData(e,t)})),b["each"](Object(Eo["d"])(e,"angle"),(function(t){i.scale.unionExtentFromData(e,t)}))}})),Object(Eo["i"])(i.scale,i.model),Object(Eo["i"])(a.scale,a.model),"category"===i.type&&!i.onBand){var r=i.getExtent(),o=360/i.scale.count();i.inverse?r[1]+=o:r[1]-=o,i.setExtent(r[0],r[1])}}function op(t){return"angleAxis"===t.mainType}function sp(t,e){if(t.type=e.get("type"),t.scale=Object(Eo["a"])(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),op(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var lp={dimensions:tp,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,i){var a=new ip(i+"");a.update=rp;var r=a.getRadiusAxis(),o=a.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");sp(r,s),sp(o,l),ap(a,t,e),n.push(a),t.coordinateSystem=a,a.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",Rn["b"]).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},cp=lp,up=n("4573"),hp=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function dp(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),a=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:a[0],y2:a[1]}}function pp(t){var e=t.getRadiusAxis();return e.inverse?0:1}function fp(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var gp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,a=i.getRadiusAxis().getExtent(),r=n.getTicksCoords(),o=n.getMinorTicksCoords(),s=b["map"](n.getViewLabels(),(function(t){t=b["clone"](t);var e=n.scale,i="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(i),t}));fp(s),fp(r),b["each"](hp,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||yp[e](this.group,t,i,r,o,a,s)}),this)}},e.type="angleAxis",e}(Rd["a"]),yp={axisLine:function(t,e,n,i,a,r){var o,s=e.getModel(["axisLine","lineStyle"]),l=pp(n),c=l?0:1;o=0===r[c]?new be["a"]({shape:{cx:n.cx,cy:n.cy,r:r[l]},style:s.getLineStyle(),z2:1,silent:!0}):new up["a"]({shape:{cx:n.cx,cy:n.cy,r:r[l],r0:r[c]},style:s.getLineStyle(),z2:1,silent:!0}),o.style.fill=null,t.add(o)},axisTick:function(t,e,n,i,a,r){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=r[pp(n)],c=b["map"](i,(function(t){return new Le["a"]({shape:dp(n,[l,l+s],t.coord)})}));t.add(Ce["mergePath"](c,{style:b["defaults"](o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,i,a,r){if(a.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),c=r[pp(n)],u=[],h=0;h<a.length;h++)for(var d=0;d<a[h].length;d++)u.push(new Le["a"]({shape:dp(n,[c,c+l],a[h][d].coord)}));t.add(Ce["mergePath"](u,{style:b["defaults"](s.getModel("lineStyle").getLineStyle(),b["defaults"](o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,i,a,r,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),c=l.get("margin"),u=e.get("triggerEvent");b["each"](o,(function(i,a){var o=l,h=i.tickValue,d=r[pp(n)],p=n.coordToPoint([d+c,i.coord]),f=n.cx,g=n.cy,y=Math.abs(p[0]-f)/d<.3?"center":p[0]>f?"left":"right",m=Math.abs(p[1]-g)/d<.3?"middle":p[1]>g?"top":"bottom";if(s&&s[h]){var v=s[h];b["isObject"](v)&&v.textStyle&&(o=new ui["a"](v.textStyle,l,l.ecModel))}var x=new Q["a"]({silent:ls["a"].isLabelSilent(e),style:Object(Pn["c"])(o,{x:p[0],y:p[1],fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:y,verticalAlign:m})});if(t.add(x),u){var _=ls["a"].makeAxisEventDataBase(e);_.targetType="axisLabel",_.value=i.rawLabel,Object(oe["a"])(x).eventData=_}}),this)},splitLine:function(t,e,n,i,a,r){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=0;h<i.length;h++){var d=c++%l.length;u[d]=u[d]||[],u[d].push(new Le["a"]({shape:dp(n,r,i[h].coord)}))}for(h=0;h<u.length;h++)t.add(Ce["mergePath"](u[h],{style:b["defaults"]({stroke:l[h%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,i,a,r){if(a.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],c=0;c<a.length;c++)for(var u=0;u<a[c].length;u++)l.push(new Le["a"]({shape:dp(n,r,a[c][u].coord)}));t.add(Ce["mergePath"](l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,i,a,r){if(i.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=Math.PI/180,d=-i[0].coord*h,p=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),g=e.get("clockwise"),y=1,m=i.length;y<=m;y++){var v=y===m?i[0].coord:i[y].coord,x=c++%l.length;u[x]=u[x]||[],u[x].push(new Nu["a"]({shape:{cx:n.cx,cy:n.cy,r0:p,r:f,startAngle:d,endAngle:-v*h,clockwise:g},silent:!0})),d=-v*h}for(y=0;y<u.length;y++)t.add(Ce["mergePath"](u[y],{style:b["defaults"]({fill:l[y%l.length]},s.getAreaStyle()),silent:!0}))}}},mp=gp,vp=["axisLine","axisTickLabel","axisName"],bp=["splitLine","splitArea","minorSplitLine"],xp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,i=this._axisGroup=new ae["a"];this.group.add(i);var a=t.axis,r=a.polar,o=r.getAngleAxis(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),c=o.getExtent()[0],u=a.getExtent(),h=Sp(r,t,c),d=new ls["a"](t,h);b["each"](vp,d.add,d),i.add(d.getGroup()),Ce["groupTransition"](n,i,t),b["each"](bp,(function(e){t.get([e,"show"])&&!a.scale.isBlank()&&_p[e](this.group,t,r,c,u,s,l)}),this)}},e.type="radiusAxis",e}(Rd["a"]),_p={splitLine:function(t,e,n,i,a,r){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=0;h<r.length;h++){var d=c++%l.length;u[d]=u[d]||[],u[d].push(new be["a"]({shape:{cx:n.cx,cy:n.cy,r:r[h].coord}}))}for(h=0;h<u.length;h++)t.add(Ce["mergePath"](u[h],{style:b["defaults"]({stroke:l[h%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,a,r,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),c=[],u=0;u<o.length;u++)for(var h=0;h<o[u].length;h++)c.push(new be["a"]({shape:{cx:n.cx,cy:n.cy,r:o[u][h].coord}}));t.add(Ce["mergePath"](c,{style:b["defaults"]({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,a,r){if(r.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=r[0].coord,d=1;d<r.length;d++){var p=c++%l.length;u[p]=u[p]||[],u[p].push(new Nu["a"]({shape:{cx:n.cx,cy:n.cy,r0:h,r:r[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=r[d].coord}for(d=0;d<u.length;d++)t.add(Ce["mergePath"](u[d],{style:b["defaults"]({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function Sp(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var wp=xp,Op=n("ee1a");function Mp(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Ip(t,e){return e.dim+t.model.componentIndex}function jp(t,e,n){var i={},a=Cp(b["filter"](e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),o=Ip(n,r),s=Mp(t),l=a[o][s],c=l.offset,u=l.width,h=n.getOtherAxis(r),d=t.coordinateSystem.cx,p=t.coordinateSystem.cy,f=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;i[s]=i[s]||[];for(var y=e.mapDimension(h.dim),m=e.mapDimension(r.dim),v=Object(Op["c"])(e,y),b="radius"!==r.dim||!t.get("roundCap",!0),x=h.dataToCoord(0),_=0,S=e.count();_<S;_++){var w=e.get(y,_),O=e.get(m,_),M=w>=0?"p":"n",I=x;v&&(i[s][O]||(i[s][O]={p:x,n:x}),I=i[s][O][M]);var j=void 0,C=void 0,A=void 0,D=void 0;if("radius"===h.dim){var T=h.dataToCoord(w)-x,L=r.dataToCoord(O);Math.abs(T)<f&&(T=(T<0?-1:1)*f),j=I,C=I+T,A=L-c,D=A-u,v&&(i[s][O][M]=C)}else{var P=h.dataToCoord(w,b)-x,k=r.dataToCoord(O);Math.abs(P)<g&&(P=(P<0?-1:1)*g),j=k+c,C=j+u,A=I,D=I+P,v&&(i[s][O][M]=D)}e.setItemLayout(_,{cx:d,cy:p,r0:j,r:C,startAngle:-A*Math.PI/180,endAngle:-D*Math.PI/180,clockwise:A>=D})}}}))}function Cp(t){var e={};b["each"](t,(function(t,n){var i=t.getData(),a=t.coordinateSystem,r=a.getBaseAxis(),o=Ip(a,r),s=r.getExtent(),l="category"===r.type?r.getBandWidth():Math.abs(s[1]-s[0])/i.count(),c=e[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=c.stacks;e[o]=c;var h=Mp(t);u[h]||c.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var d=Object(Si["p"])(t.get("barWidth"),l),p=Object(Si["p"])(t.get("barMaxWidth"),l),f=t.get("barGap"),g=t.get("barCategoryGap");d&&!u[h].width&&(d=Math.min(c.remainedWidth,d),u[h].width=d,c.remainedWidth-=d),p&&(u[h].maxWidth=p),null!=f&&(c.gap=f),null!=g&&(c.categoryGap=g)}));var n={};return b["each"](e,(function(t,e){n[e]={};var i=t.stacks,a=t.bandWidth,r=Object(Si["p"])(t.categoryGap,a),o=Object(Si["p"])(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,c=(s-r)/(l+(l-1)*o);c=Math.max(c,0),b["each"](i,(function(t,e){var n=t.maxWidth;n&&n<c&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)})),c=(s-r)/(l+(l-1)*o),c=Math.max(c,0);var u,h=0;b["each"](i,(function(t,e){t.width||(t.width=c),u=t,h+=t.width*(1+o)})),u&&(h-=u.width*o);var d=-h/2;b["each"](i,(function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+o)}))})),n}var Ap=jp,Dp={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Tp={splitNumber:5},Lp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="polar",e}(Li["a"]);function Pp(t){Object(i["a"])(Wd["a"]),Rd["a"].registerAxisPointerClass("PolarAxisPointer",Fd),t.registerCoordinateSystem("polar",cp),t.registerComponentModel(Yd),t.registerComponentView(Lp),Object(is["a"])(t,"angle",Ud,Dp),Object(is["a"])(t,"radius",Zd,Tp),t.registerComponentView(mp),t.registerComponentView(wp),t.registerLayout(Object(b["curry"])(Ap,"bar"))}function kp(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,a={},r=i.position,o=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=["vertical"===o?c.vertical[r]:l[0],"horizontal"===o?c.horizontal[r]:l[3]];var u={horizontal:0,vertical:1};a.rotation=Math.PI/2*u[o];var h={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=h[r],t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),b["retrieve"](e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var d=e.rotate;return null==d&&(d=t.get(["axisLabel","rotate"])),a.labelRotation="top"===r?-d:d,a.z2=1,a}var Np=n("58df"),Rp=["axisLine","axisTickLabel","axisName"],Ep=["splitArea","splitLine"],zp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return Object(Kt["a"])(e,t),e.prototype.render=function(e,n,i,a){var r=this.group;r.removeAll();var o=this._axisGroup;this._axisGroup=new ae["a"];var s=kp(e),l=new ls["a"](e,s);b["each"](Rp,l.add,l),r.add(this._axisGroup),r.add(l.getGroup()),b["each"](Ep,(function(t){e.get([t,"show"])&&Vp[t](this,this.group,this._axisGroup,e)}),this),Ce["groupTransition"](o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,a)},e.prototype.remove=function(){Object(Np["b"])(this)},e.type="singleAxis",e}(Rd["a"]),Vp={splitLine:function(t,e,n,i){var a=i.axis;if(!a.scale.isBlank()){var r=i.getModel("splitLine"),o=r.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),c=a.isHorizontal(),u=[],h=0,d=a.getTicksCoords({tickModel:r}),p=[],f=[],g=0;g<d.length;++g){var y=a.toGlobalCoord(d[g].coord);c?(p[0]=y,p[1]=l.y,f[0]=y,f[1]=l.y+l.height):(p[0]=l.x,p[1]=y,f[0]=l.x+l.width,f[1]=y);var m=h++%s.length;u[m]=u[m]||[],u[m].push(new Le["a"]({subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},silent:!0}))}var v=o.getLineStyle(["color"]);for(g=0;g<u.length;++g)e.add(Ce["mergePath"](u[g],{style:b["defaults"]({stroke:s[g%s.length]},v),silent:!0}))}},splitArea:function(t,e,n,i){Object(Np["a"])(t,n,i,i)}},Bp=zp,Gp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(ci["a"]);Object(b["mixin"])(Gp,rs["a"].prototype);var Fp=Gp,Wp=function(t){function e(e,n,i,a,r){var o=t.call(this,e,n,i)||this;return o.type=a||"value",o.position=r||"bottom",o}return Object(Kt["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(zo["a"]),Hp=Wp,Yp=["single"],Xp=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=Yp,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,a=new Hp(i,Eo["a"](t),[0,0],t.get("type"),t.get("position")),r="category"===a.type;a.onBand=r&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();Object(b["each"])(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),Eo["i"](this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=Object(_i["g"])({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.reverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=a?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return"horizontal"===i?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],a="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[a]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-a]=0===a?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){var i=Up(e);return i===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=Up(e);return i===this?this.pointToData(n):null},t}();function Up(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var Zp=Xp;function qp(t,e){var n=[];return t.eachComponent("singleAxis",(function(i,a){var r=new Zp(i,t,e);r.name="single_"+a,r.resize(i,e),i.coordinateSystem=r,n.push(r)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",Rn["b"]).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n}var Jp={create:qp,dimensions:Yp},Kp=Jp,$p=["x","y"],Qp=["width","height"],tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kt["a"])(e,t),e.prototype.makeElOption=function(t,e,n,i,a){var r=n.axis,o=r.coordinateSystem,s=af(o,1-nf(r)),l=o.dataToPoint(e)[0],c=i.get("type");if(c&&"none"!==c){var u=zd["b"](i),h=ef[c](r,l,s);h.style=u,t.graphicKey=h.type,t.pointer=h}var d=kp(n);zd["a"](e,t,d,n,i,a)},e.prototype.getHandleTransform=function(t,e,n){var i=kp(e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var a=zd["d"](e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var a=n.axis,r=a.coordinateSystem,o=nf(a),s=af(r,o),l=[t.x,t.y];l[o]+=e[o],l[o]=Math.min(s[1],l[o]),l[o]=Math.max(s[0],l[o]);var c=af(r,1-o),u=(c[1]+c[0])/2,h=[u,u];return h[o]=l[o],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(Ed["a"]),ef={line:function(t,e,n){var i=zd["f"]([e,n[0]],[e,n[1]],nf(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,n){var i=t.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:zd["g"]([e-i/2,n[0]],[i,a],nf(t))}}};function nf(t){return t.isHorizontal()?0:1}function af(t,e){var n=t.getRect();return[n[$p[e]],n[$p[e]]+n[Qp[e]]]}var rf=tf,of=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="single",e}(Li["a"]);function sf(t){Object(i["a"])(Wd["a"]),Rd["a"].registerAxisPointerClass("SingleAxisPointer",rf),t.registerComponentView(of),t.registerComponentView(Bp),t.registerComponentModel(Fp),Object(is["a"])(t,"single",Fp,Fp.defaultOption),t.registerCoordinateSystem("single",Kp)}var lf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(e,n,i){var a=Object(_i["f"])(e);t.prototype.init.apply(this,arguments),cf(e,a)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),cf(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(ci["a"]);function cf(t,e){var n,i=t.cellSize;n=b["isArray"](i)?i:t.cellSize=[i,i],1===n.length&&(n[1]=n[0]);var a=b["map"]([0,1],(function(t){return Object(_i["j"])(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));Object(_i["h"])(t,e,{type:"box",ignoreSize:a})}var uf=lf,hf=n("ef59"),df=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var a=t.coordinateSystem,r=a.getRangeInfo(),o=a.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,r,i),this._renderLines(t,r,o,i),this._renderYearText(t,r,o,i),this._renderMonthText(t,s,o,i),this._renderWeekText(t,s,r,o,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),r=i.getCellWidth(),o=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,c=new De["a"]({shape:{x:l[0],y:l[1],width:r,height:o},cursor:"default",style:a});n.add(c)}},e.prototype._renderLines=function(t,e,n,i){var a=this,r=t.coordinateSystem,o=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,u=0;c.time<=e.end.time;u++){d(c.formatedDate),0===u&&(c=r.getDateInfo(e.start.y+"-"+e.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=r.getDateInfo(h)}function d(e){a._firstDayOfMonth.push(r.getDateInfo(e)),a._firstDayPoints.push(r.dataToRect([e],!1).tl);var l=a._getLinePointsOfOneWeek(t,e,n);a._tlpoints.push(l[0]),a._blpoints.push(l[l.length-1]),s&&a._drawSplitline(l,o,i)}d(r.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,n),o,i),s&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,n),o,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],a="horizontal"===n?0:1;return i[0][a]=i[0][a]-e/2,i[1][a]=i[1][a]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new je["a"]({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,a=i.getDateInfo(e),r=[],o=0;o<7;o++){var s=i.getNextNDay(a.time,o),l=i.dataToRect([s.time],!1);r[2*s.day]=l.tl,r[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return r},e.prototype._formatterLabel=function(t,e){return Object(b["isString"])(t)&&t?Object(Yu["g"])(t,e):Object(b["isFunction"])(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,n,i,a){var r=e[0],o=e[1],s=["center","bottom"];"bottom"===i?(o+=a,s=["center","top"]):"left"===i?r-=a:"right"===i?(r+=a,s=["center","top"]):o-=a;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:r,y:o,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var a=t.getModel("yearLabel");if(a.get("show")){var r=a.get("margin"),o=a.get("position");o||(o="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u="horizontal"===n?0:1,h={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var p=a.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(p,f),y=new Q["a"]({z2:30,style:Object(Pn["c"])(a,{text:g})});y.attr(this._yearTextPositionControl(y,h[o],n,o,r)),i.add(y)}},e.prototype._monthTextPositionControl=function(t,e,n,i,a){var r="left",o="top",s=t[0],l=t[1];return"horizontal"===n?(l+=a,e&&(r="center"),"start"===i&&(o="bottom")):(s+=a,e&&(o="middle"),"start"===i&&(r="right")),{x:s,y:l,align:r,verticalAlign:o}},e.prototype._renderMonthText=function(t,e,n,i){var a=t.getModel("monthLabel");if(a.get("show")){var r=a.get("nameMap"),o=a.get("margin"),s=a.get("position"),l=a.get("align"),c=[this._tlpoints,this._blpoints];r&&!Object(b["isString"])(r)||(r&&(e=Object(hf["d"])(r)||e),r=e.get(["time","monthAbbr"])||[]);var u="start"===s?0:1,h="horizontal"===n?0:1;o="start"===s?-o:o;for(var d="center"===l,p=0;p<c[u].length-1;p++){var f=c[u][p].slice(),g=this._firstDayOfMonth[p];if(d){var y=this._firstDayPoints[p];f[h]=(y[h]+c[0][p+1][h])/2}var m=a.get("formatter"),v=r[+g.m-1],x={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:v},_=this._formatterLabel(m,x),S=new Q["a"]({z2:30,style:Object(b["extend"])(Object(Pn["c"])(a,{text:_}),this._monthTextPositionControl(f,d,n,s,o))});i.add(S)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,a){var r="center",o="middle",s=t[0],l=t[1],c="start"===n;return"horizontal"===e?(s=s+i+(c?1:-1)*a[0]/2,r=c?"right":"left"):(l=l+i+(c?1:-1)*a[1]/2,o=c?"bottom":"top"),{x:s,y:l,align:r,verticalAlign:o}},e.prototype._renderWeekText=function(t,e,n,i,a){var r=t.getModel("dayLabel");if(r.get("show")){var o=t.coordinateSystem,s=r.get("position"),l=r.get("nameMap"),c=r.get("margin"),u=o.getFirstDayOfWeek();if(!l||Object(b["isString"])(l)){l&&(e=Object(hf["d"])(l)||e);var h=e.get(["time","dayOfWeekShort"]);l=h||Object(b["map"])(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}))}var d=o.getNextNDay(n.end.time,7-n.lweek).time,p=[o.getCellWidth(),o.getCellHeight()];c=Object(Si["p"])(c,Math.min(p[1],p[0])),"start"===s&&(d=o.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var f=0;f<7;f++){var g=o.getNextNDay(d,f),y=o.dataToRect([g.time],!1).center,m=f;m=Math.abs((f+u)%7);var v=new Q["a"]({z2:30,style:Object(b["extend"])(Object(Pn["c"])(r,{text:l[m]}),this._weekTextPositionControl(y,i,s,c,p))});a.add(v)}}},e.type="calendar",e}(Li["a"]),pf=df,ff=864e5,gf=function(){function t(e,n,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=Si["o"](t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),r=a<10?"0"+a:""+a,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:r,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+r,date:t}},t.prototype.getNextNDay=function(t,e){return e=e||0,0===e||(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e)),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),o="horizontal"===this._orient?[n,7]:[7,n];b["each"]([0,1],(function(t){c(a,t)&&(r[i[t]]=a[t]*o[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=_i["g"](r,s);function c(t,e){return null!=t[e]&&"auto"!==t[e]}b["each"]([0,1],(function(t){c(a,t)||(a[t]=l[i[t]]/o[t])})),this._sw=a[0],this._sh=a[1]},t.prototype.dataToPoint=function(t,e){b["isArray"](t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,a=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+ff))return[NaN,NaN];var r=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=yf(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=yf(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(b["isArray"](e)&&1===e.length&&(e=e[0]),b["isArray"](e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var r=this.getNextNDay(a,-1);t=[i.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/ff)-Math.floor(n[0].time/ff)+1,a=new Date(n[0].time),r=a.getDate(),o=n[1].date.getDate();a.setDate(r+i-1);var s=a.getDate();if(s!==o){var l=a.getTime()-n[1].time>0?1:-1;while((s=a.getDate())!==o&&(a.getTime()-n[1].time)*l>0)i-=l,a.setDate(s-l)}var c=Math.floor((i+n[0].day+6)/7),u=e?1-c:c-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:c,nthWeek:u,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=7*(t-1)-i.fweek+e,r=new Date(i.start.time);return r.setDate(+i.start.d+a),this.getDateInfo(r)},t.create=function(e,n){var i=[];return e.eachComponent("calendar",(function(a){var r=new t(a,e,n);i.push(r),a.coordinateSystem=r})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])})),i},t.dimensions=["time","value"],t}();function yf(t){var e=t.calendarModel,n=t.seriesModel,i=e?e.coordinateSystem:n?n.coordinateSystem:null;return i}var mf=gf;function vf(t){t.registerComponentModel(uf),t.registerComponentView(pf),t.registerCoordinateSystem("calendar",mf)}function bf(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function xf(t,e){var n;return b["each"](e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}function _f(t,e,n){var i=b["extend"]({},n),a=t[e],r=n.$action||"merge";"merge"===r?a?(b["merge"](a,i,!0),Object(_i["h"])(a,i,{ignoreSize:!0}),Object(_i["c"])(n,a),Of(n,a),Of(n,a,"shape"),Of(n,a,"style"),Of(n,a,"extra"),n.clipPath=a.clipPath):t[e]=i:"replace"===r?t[e]=i:"remove"===r&&a&&(t[e]=null)}var Sf=["transition","enterFrom","leaveTo"],wf=Sf.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Of(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?Sf:wf,a=0;a<i.length;a++){var r=i[a];null==t[r]&&null!=e[r]&&(t[r]=e[r])}}function Mf(t,e){if(t&&(t.hv=e.hv=[xf(e,["left","right"]),xf(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}var If=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(Kt["a"])(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,a=n.elements=e?[]:n.elements,r=[];this._flatten(i,r,null);var o=Rn["q"](a,r,"normalMerge"),s=this._elOptionsToUpdate=[];b["each"](o,(function(t,e){var n=t.newOption;n&&(s.push(n),bf(t,n),_f(a,e,n),Mf(a[e],n))}),this),n.elements=b["filter"](a,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){b["each"](t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(ci["a"]),jf={path:null,compoundPath:null,group:ae["a"],image:l["a"],text:Q["a"]},Cf=Rn["o"](),Af=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(){this._elMap=b["createHashMap"]()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group,a=t.get("z"),r=t.get("zlevel");b["each"](e,(function(e){var o=Rn["e"](e.id,null),s=null!=o?n.get(o):null,l=Rn["e"](e.parentId,null),c=null!=l?n.get(l):i,u=e.type,h=e.style;"text"===u&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=e.textContent,p=e.textConfig;if(h&&bh(h,u,!!p,!!d)){var f=xh(h,u,!0);!p&&f.textConfig&&(p=e.textConfig=f.textConfig),!d&&f.textContent&&(d=f.textContent)}var g=kf(e);var y=e.$action||"merge",m="merge"===y,v="replace"===y;if(m){var b=!s,x=s;b?x=Tf(o,c,e.type,n):(x&&(Cf(x).isNew=!1),Zh(x)),x&&(Dh(x,g,t,{isInit:b}),Pf(x,e,a,r))}else if(v){Lf(s,e,n,t);var _=Tf(o,c,e.type,n);_&&(Dh(_,g,t,{isInit:!0}),Pf(_,e,a,r))}else"remove"===y&&(Th(s,e),Lf(s,e,n,t));var S=n.get(o);if(S&&d)if(m){var w=S.getTextContent();w?w.attr(d):S.setTextContent(new Q["a"](d))}else v&&S.setTextContent(new Q["a"](d));if(S){var O=e.clipPath;if(O){var M=O.type,I=void 0;b=!1;if(m){var j=S.getClipPath();b=!j||Cf(j).type!==M,I=b?Df(M):j}else v&&(b=!0,I=Df(M));S.setClipPath(I),Dh(I,O,t,{isInit:b}),qh(I,O.keyframeAnimation,t)}var C=Cf(S);S.setTextConfig(p),C.option=e,Nf(S,t,e),Ce["setTooltipConfig"]({el:S,componentModel:t,itemName:S.name,itemTooltipOption:e.tooltip}),qh(S,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,a=this._elMap,r=e.getWidth(),o=e.getHeight(),s=["x","y"],l=0;l<n.length;l++){var c=n[l],u=Rn["e"](c.id,null),h=null!=u?a.get(u):null;if(h&&h.isGroup){var d=h.parent,p=d===i,f=Cf(h),g=Cf(d);f.width=Object(Si["p"])(f.option.width,p?r:g.width)||0,f.height=Object(Si["p"])(f.option.height,p?o:g.height)||0}}for(l=n.length-1;l>=0;l--){c=n[l],u=Rn["e"](c.id,null),h=null!=u?a.get(u):null;if(h){d=h.parent,g=Cf(d);var y=d===i?{width:r,height:o}:{width:g.width,height:g.height},m={},v=_i["i"](h,c,y,null,{hv:c.hv,boundingMode:c.bounding},m);if(!Cf(h).isNew&&v){for(var x=c.transition,_={},S=0;S<s.length;S++){var w=s[S],O=m[w];x&&(Ph(x)||b["indexOf"](x,w)>=0)?_[w]=O:h[w]=O}Object(Me["h"])(h,_,t,0)}else h.attr(m)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){Lf(n,Cf(n).option,e,t._lastGraphicModel)})),this._elMap=b["createHashMap"]()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Li["a"]);function Df(t){var e=b["hasOwn"](jf,t)?jf[t]:Ce["getShapeClass"](t);var n=new e({});return Cf(n).type=t,n}function Tf(t,e,n,i){var a=Df(n);return e.add(a),i.set(t,a),Cf(a).id=t,Cf(a).isNew=!0,a}function Lf(t,e,n,i){var a=t&&t.parent;a&&("group"===t.type&&t.traverse((function(t){Lf(t,e,n,i)})),Lh(t,e,i),n.removeKey(Cf(t).id))}function Pf(t,e,n,i){if(!t.isGroup){var a=t;a.cursor=b["retrieve2"](e.cursor,Nn["c"].prototype.cursor),a.z=b["retrieve2"](e.z,n||0),a.zlevel=b["retrieve2"](e.zlevel,i||0);var r=e.z2;null!=r&&(a.z2=r||0)}b["each"](b["keys"](e),(function(n){var i=e[n];0===n.indexOf("on")&&b["isFunction"](i)&&(t[n]=i)})),t.draggable=e.draggable,null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}function kf(t){return t=b["extend"]({},t),b["each"](["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(_i["a"]),(function(e){delete t[e]})),t}function Nf(t,e,n){var i=Object(oe["a"])(t).eventData;t.silent||t.ignore||i||(i=Object(oe["a"])(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),i&&(i.info=n.info)}function Rf(t){t.registerComponentModel(If),t.registerComponentView(Af),t.registerPreprocessor((function(t){var e=t.graphic;Object(b["isArray"])(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))}var Ef=n("3094"),zf=n("2da7"),Vf=["rect","polygon","keep","clear"];function Bf(t,e){var n=Object(Rn["r"])(t?t.brush:[]);if(n.length){var i=[];b["each"](n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))}));var a=t&&t.toolbox;b["isArray"](a)&&(a=a[0]),a||(a={feature:{}},t.toolbox=[a]);var r=a.feature||(a.feature={}),o=r.brush||(r.brush={}),s=o.type||(o.type=[]);s.push.apply(s,i),Gf(s),e&&!s.length&&s.push.apply(s,Vf)}}function Gf(t){var e={};b["each"](t,(function(t){e[t]=1})),t.length=0,b["each"](e,(function(e,n){t.push(n)}))}var Ff=n("0924"),Wf=b["each"];function Hf(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Yf(t,e,n){var i={};return Wf(e,(function(e){var r=i[e]=a();Wf(t[e],(function(t,i){if($s["a"].isValidType(i)){var a={type:i,visual:t};n&&n(a,e),r[i]=new $s["a"](a),"opacity"===i&&(a=b["clone"](a),a.type="colorAlpha",r.__hidden.__alphaForOpacity=new $s["a"](a))}}))})),i;function a(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function Xf(t,e,n){var i;b["each"](n,(function(t){e.hasOwnProperty(t)&&Hf(e[t])&&(i=!0)})),i&&b["each"](n,(function(n){e.hasOwnProperty(n)&&Hf(e[n])?t[n]=b["clone"](e[n]):delete t[n]}))}function Uf(t,e,n,i,a,r){var o,s={};function l(t){return Object(Ff["a"])(n,o,t)}function c(t,e){Object(Ff["c"])(n,o,t,e)}function u(t,u){o=null==r?t:u;var h=n.getRawDataItem(o);if(!h||!1!==h.visualMap)for(var d=i.call(a,t),p=e[d],f=s[d],g=0,y=f.length;g<y;g++){var m=f[g];p[m]&&p[m].applyVisual(t,l,c)}}b["each"](t,(function(t){var n=$s["a"].prepareVisualTypes(e[t]);s[t]=n})),null==r?n.each(u):n.each([r],u)}function Zf(t,e,n,i){var a={};return b["each"](t,(function(t){var n=$s["a"].prepareVisualTypes(e[t]);a[t]=n})),{progress:function(t,r){var o,s;function l(t){return Object(Ff["a"])(r,s,t)}function c(t,e){Object(Ff["c"])(r,s,t,e)}null!=i&&(o=r.getDimensionIndex(i));var u=r.getStore();while(null!=(s=t.next())){var h=r.getRawDataItem(s);if(!h||!1!==h.visualMap)for(var d=null!=i?u.get(o,s):s,p=n(d),f=e[p],g=a[p],y=0,m=g.length;y<m;y++){var v=g[y];f[v]&&f[v].applyVisual(d,l,c)}}}}}var qf=n("0655");function Jf(t){var e=t.brushType,n={point:function(i){return Kf[e].point(i,n,t)},rect:function(i){return Kf[e].rect(i,n,t)}};return n}var Kf={lineX:$f(0),lineY:$f(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&qf["a"](n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var a=t.x,r=t.y,o=t.width,s=t.height,l=i[0];return!!(qf["a"](i,a,r)||qf["a"](i,a+o,r)||qf["a"](i,a,r+s)||qf["a"](i,a+o,r+s)||ie["a"].create(t).contain(l[0],l[1])||Object(Ce["linePolygonIntersect"])(a,r,a+o,r,i)||Object(Ce["linePolygonIntersect"])(a,r,a,r+s,i)||Object(Ce["linePolygonIntersect"])(a+o,r,a+o,r+s,i)||Object(Ce["linePolygonIntersect"])(a,r+s,a+o,r+s,i))||void 0}}};function $f(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var a=i.range,r=e[t];return Qf(r,a)}},rect:function(i,a,r){if(i){var o=r.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),Qf(s[0],o)||Qf(s[1],o)||Qf(o[0],s)||Qf(o[1],s)}}}}function Qf(t,e){return e[0]<=t&&t<=e[1]}var tg=n("bd9e"),eg=["inBrush","outOfBrush"],ng="__ecBrushSelect",ig="__ecInBrushSelectEvent";function ag(t){t.eachComponent({mainType:"brush"},(function(e){var n=e.brushTargetManager=new tg["a"](e.option,t);n.setInputRanges(e.areas,t)}))}function rg(t,e,n){var i,a,r=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),ag(t),t.eachComponent({mainType:"brush"},(function(e,n){var o={brushId:e.id,brushIndex:n,brushName:e.name,areas:b["clone"](e.areas),selected:[]};r.push(o);var s=e.option,l=s.brushLink,c=[],u=[],h=[],d=!1;n||(i=s.throttleType,a=s.throttleDelay);var p=b["map"](e.areas,(function(t){var e=ug[t.brushType],n=b["defaults"]({boundingRect:e?e(t):void 0},t);return n.selectors=Jf(n),n})),f=Yf(e.option,eg,(function(t){t.mappingMethod="fixed"}));function g(t){return"all"===l||!!c[t]}function y(t){return!!t.length}function m(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(u[e]=1)}))}function v(n,i,a){if(n.brushSelector&&!cg(e,i)&&(b["each"](p,(function(i){e.brushTargetManager.controlSeries(i,n,t)&&a.push(i),d=d||y(a)})),g(i)&&y(a))){var r=n.getData();r.each((function(t){lg(n,a,r,t)&&(u[t]=1)}))}}b["isArray"](l)&&b["each"](l,(function(t){c[t]=1})),t.eachSeries((function(t,e){var n=h[e]=[];"parallel"===t.subType?m(t,e):v(t,e,n)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(n);var i=h[e],a=t.getData(),r=g(e)?function(t){return u[t]?(n.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return lg(t,i,a,e)?(n.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?d:y(i))&&Uf(eg,f,a,r)}))})),og(e,i,a,r,n)}function og(t,e,n,i,a){if(a){var r=t.getZr();if(!r[ig]){r[ng]||(r[ng]=sg);var o=Ao["b"](r,ng,n,e);o(t,i)}}}function sg(t,e){if(!t.isDisposed()){var n=t.getZr();n[ig]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[ig]=!1}}function lg(t,e,n,i){for(var a=0,r=e.length;a<r;a++){var o=e[a];if(t.brushSelector(i,n,o.selectors,o))return!0}}function cg(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(b["isArray"](n)?b["indexOf"](n,e)<0:e!==n)}var ug={rect:function(t){return hg(t.range)},polygon:function(t){for(var e,n=t.range,i=0,a=n.length;i<a;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=n[i];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&hg(e)}};function hg(t){return new ie["a"](t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var dg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new cs["a"](e.getZr())).on("brush",b["bind"](this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){ag(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:b["clone"](n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:b["clone"](n),$from:e})},e.type="brush",e}(Li["a"]),pg=dg,fg="#ddd",gg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return Object(Kt["a"])(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&Xf(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:fg},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=b["map"](t,(function(t){return yg(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=yg(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(ci["a"]);function yg(t,e){return b["merge"]({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new ui["a"](t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var mg=gg,vg=n("2145"),bg=["rect","polygon","lineX","lineY","keep","clear"],xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kt["a"])(e,t),e.prototype.render=function(t,e,n){var i,a,r;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,a=t.brushOption.brushMode||"single",r=r||!!t.areas.length})),this._brushType=i,this._brushMode=a,b["each"](t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===a:"clear"===e?r:e===i)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return b["each"](t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,a=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===a?"single":"multiple":a}})},e.getDefaultOption=function(t){var e={show:!0,type:bg.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e},e}(vg["a"]),_g=xg;function Sg(t){t.registerComponentView(pg),t.registerComponentModel(mg),t.registerPreprocessor(Bf),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,rg),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},b["noop"]),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},b["noop"]),Object(vg["c"])("brush",_g)}var wg=n("9394"),Og=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,a=this._names=[];"category"===i?(t=[],Object(b["each"])(n,(function(e,n){var i,r=Object(Rn["e"])(Object(Rn["h"])(e),"");Object(b["isObject"])(e)?(i=Object(b["clone"])(e),i.value=n):i=n,t.push(i),a.push(r)}))):t=n;var r={category:"ordinal",time:"time",value:"number"}[i]||"number",o=this._data=new Tr["a"]([{name:"value",type:r}],this);o.initData(t,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(ci["a"]),Mg=Og,Ig=n("38a2"),jg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="timeline.slider",e.defaultOption=Object(Ln["d"])(Mg.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Mg);Object(b["mixin"])(jg,Ig["a"].prototype);var Cg=jg,Ag=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.type="timeline",e}(Li["a"]),Dg=Ag,Tg=function(t){function e(e,n,i,a){var r=t.call(this,e,n,i)||this;return r.type=a||"value",r}return Object(Kt["a"])(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(zo["a"]),Lg=Tg,Pg=n("18c0"),kg=n("216a"),Ng=n("89e3"),Rg=Math.PI,Eg=Object(Rn["o"])(),zg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),a=this._createGroup("_mainGroup"),r=this._createGroup("_labelGroup"),o=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){var e=o.scale.getLabel({value:t});return Object(ni["c"])("nameValue",{noName:!0,value:e})},Object(b["each"])(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,a,o,t)}),this),this._renderAxisLabel(i,r,o,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i=t.get(["label","position"]),a=t.get("orient"),r=Bg(t,e);n=null==i||"auto"===i?"horizontal"===a?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":Object(b["isString"])(i)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:i;var o,s,l,c={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},u={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Rg/2},d="vertical"===a?r.height:r.width,p=t.getModel("controlStyle"),f=p.get("show",!0),g=f?p.get("itemSize"):0,y=f?p.get("itemGap"):0,m=g+y,v=t.get(["label","rotate"])||0;v=v*Rg/180;var x=p.get("position",!0),_=f&&p.get("showPlayBtn",!0),S=f&&p.get("showPrevBtn",!0),w=f&&p.get("showNextBtn",!0),O=0,M=d;"left"===x||"bottom"===x?(_&&(o=[0,0],O+=m),S&&(s=[O,0],O+=m),w&&(l=[M-g,0],M-=m)):(_&&(o=[M-g,0],M-=m),S&&(s=[0,0],O+=m),w&&(l=[M-g,0],M-=m));var I=[O,M];return t.get("inverse")&&I.reverse(),{viewRect:r,mainLength:d,orient:a,rotation:h[a],labelRotation:v,labelPosOpt:n,labelAlign:t.get(["label","align"])||c[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:o,prevBtnPosition:s,nextBtnPosition:l,axisExtent:I,controlSize:g,controlGap:y}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var r=Pe["create"](),o=a.x,s=a.y+a.height;Pe["translate"](r,r,[-o,-s]),Pe["rotate"](r,r,-Rg/2),Pe["translate"](r,r,[o,s]),a=a.clone(),a.applyTransform(r)}var l=y(a),c=y(n.getBoundingRect()),u=y(i.getBoundingRect()),h=[n.x,n.y],d=[i.x,i.y];d[0]=h[0]=l[0][0];var p=t.labelPosOpt;if(null==p||Object(b["isString"])(p)){var f="+"===p?0:1;m(h,c,l,1,f),m(d,u,l,1,1-f)}else{f=p>=0?0:1;m(h,c,l,1,f),d[1]=h[1]+p}function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function m(t,e,n,i,a){t[i]+=n[i][a]-e[i][a]}n.setPosition(h),i.setPosition(d),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),a=Vg(e,i);a.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var r=n.getDataExtent("value");a.setExtent(r[0],r[1]),a.calcNiceTicks();var o=new Lg("value",a,t.axisExtent,i);return o.model=e,o},e.prototype._createGroup=function(t){var e=this[t]=new ae["a"];return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var a=n.getExtent();if(i.get(["lineStyle","show"])){var r=new Le["a"]({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:Object(b["extend"])({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(r);var o=this._progressLine=new Le["a"]({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Object(b["defaults"])({lineCap:"round",lineWidth:r.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(o)}},e.prototype._renderAxisTick=function(t,e,n,i){var a=this,r=i.getData(),o=n.scale.getTicks();this._tickSymbols=[],Object(b["each"])(o,(function(t){var o=n.dataToCoord(t.value),s=r.getItemModel(t.value),l=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),u=s.getModel(["progress","itemStyle"]),h={x:o,y:0,onclick:Object(b["bind"])(a._changeTimeline,a,t.value)},d=Fg(s,l,e,h);d.ensureState("emphasis").style=c.getItemStyle(),d.ensureState("progress").style=u.getItemStyle(),Object(Ae["o"])(d);var p=Object(oe["a"])(d);s.get("tooltip")?(p.dataIndex=t.value,p.dataModel=i):p.dataIndex=p.dataModel=null,a._tickSymbols.push(d)}))},e.prototype._renderAxisLabel=function(t,e,n,i){var a=this,r=n.getLabelModel();if(r.get("show")){var o=i.getData(),s=n.getViewLabels();this._tickLabels=[],Object(b["each"])(s,(function(i){var r=i.tickValue,s=o.getItemModel(r),l=s.getModel("label"),c=s.getModel(["emphasis","label"]),u=s.getModel(["progress","label"]),h=n.dataToCoord(i.tickValue),d=new Q["a"]({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Object(b["bind"])(a._changeTimeline,a,r),silent:!1,style:Object(Pn["c"])(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=Object(Pn["c"])(c),d.ensureState("progress").style=Object(Pn["c"])(u),e.add(d),Object(Ae["o"])(d),Eg(d).dataIndex=r,a._tickLabels.push(d)}))}},e.prototype._renderControl=function(t,e,n,i){var a=t.controlSize,r=t.rotation,o=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function h(t,n,l,u){if(t){var h=Object(c["g"])(Object(b["retrieve2"])(i.get(["controlStyle",n+"BtnSize"]),a),a),d=[0,-h/2,h,h],p=Gg(i,n+"Icon",d,{x:t[0],y:t[1],originX:a/2,originY:0,rotation:u?-r:0,rectHover:!0,style:o,onclick:l});p.ensureState("emphasis").style=s,e.add(p),Object(Ae["o"])(p)}}h(t.nextBtnPosition,"next",Object(b["bind"])(this._changeTimeline,this,u?"-":"+")),h(t.prevBtnPosition,"prev",Object(b["bind"])(this._changeTimeline,this,u?"+":"-")),h(t.playPosition,l?"stop":"play",Object(b["bind"])(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var a=i.getData(),r=i.getCurrentIndex(),o=a.getItemModel(r).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=Object(b["bind"])(s._handlePointerDrag,s),t.ondragend=Object(b["bind"])(s._handlePointerDragend,s),Wg(t,s._progressLine,r,n,i,!0)},onUpdate:function(t){Wg(t,s._progressLine,r,n,i)}};this._currentPointer=Fg(o,o,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,a=Si["c"](i.getExtent().slice());n>a[1]&&(n=a[1]),n<a[0]&&(n=a[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var r=this._findNearestTick(n),o=this.model;(e||r!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(r)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return Ce["applyTransform"](t,e,!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,a=this._axis;return n.each(["value"],(function(n,r){var o=a.dataToCoord(n),s=Math.abs(o-t);s<i&&(i=s,e=r)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",Eg(n[i]).dataIndex<=t)},e.type="timeline.slider",e}(Dg);function Vg(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Pg["a"]({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new kg["a"]({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Ng["a"]}}function Bg(t,e){return _i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function Gg(t,e,n,i){var a=i.style,r=Ce["createIcon"](t.get(["controlStyle",e]),i||{},new ie["a"](n[0],n[1],n[2],n[3]));return a&&r.setStyle(a),r}function Fg(t,e,n,i,a,r){var o=e.get("color");if(a)a.setColor(o),n.add(a),r&&r.onUpdate(a);else{var s=t.get("symbol");a=Object(re["a"])(s,-1,-1,2,2,o),a.setStyle("strokeNoScale",!0),n.add(a),r&&r.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),i=Object(b["merge"])({rectHover:!0,z2:100},i,!0);var c=Object(re["c"])(t.get("symbolSize"));i.scaleX=c[0]/2,i.scaleY=c[1]/2;var u=Object(re["b"])(t.get("symbolOffset"),c);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=t.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,a.attr(i),a.updateTransform(),a}function Wg(t,e,n,i,a,r){if(!t.dragging){var o=a.getModel("checkpointStyle"),s=i.dataToCoord(a.getData().get("value",n));if(r||!o.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var Hg=zg;function Yg(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,n){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Object(b["defaults"])({currentIndex:i.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}function Xg(t){var e=t&&t.timeline;b["isArray"](e)||(e=e?[e]:[]),b["each"](e,(function(t){t&&Ug(t)}))}function Ug(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),Zg(t),qg(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});qg(i,"position")||(i.position=t.controlPosition),"none"!==i.position||qg(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}b["each"](t.data||[],(function(t){b["isObject"](t)&&!b["isArray"](t)&&(!qg(t,"value")&&qg(t,"name")&&(t.value=t.name),Zg(t))}))}function Zg(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},a=i.normal||(i.normal={}),r={normal:1,emphasis:1};b["each"](i,(function(t,e){r[e]||qg(a,e)||(a[e]=t)})),n.label&&!qg(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function qg(t,e){return t.hasOwnProperty(e)}function Jg(t){t.registerComponentModel(Cg),t.registerComponentView(Hg),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),Yg(t),t.registerPreprocessor(Xg)}function Kg(t,e){if(!t)return!1;for(var n=Object(b["isArray"])(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return!0;return!1}var $g=n("22d1");function Qg(t){Object(Rn["f"])(t,"label",["show"])}var ty=Object(Rn["o"])(),ey=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if($g["a"].node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var a=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),r=ty(t)[a];n&&n.data?(r?r._mergeOption(n,e,!0):(i&&Qg(n),b["each"](n.data,(function(t){t instanceof Array?(Qg(t[0]),Qg(t[1])):Qg(t)})),r=this.createMarkerModelFromSeries(n,this,e),b["extend"](r,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),r.__hostSeries=t),ty(t)[a]=r):ty(t)[a]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),a=this.getRawValue(t),r=i.getName(t);return Object(ni["c"])("section",{header:this.name,blocks:[Object(ni["c"])("nameValue",{name:r,value:a,noName:!r,noValue:null==a})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return ty(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(ci["a"]);b["mixin"](ey,Ig["a"].prototype);var ny=ey,iy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(ny),ay=iy,ry=n("b7d9");function oy(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function sy(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function ly(t,e,n,i,a,r){var o=[],s=Object(Op["c"])(e,i),l=s?e.getCalculationInfo("stackResultDimension"):i,c=gy(e,l,t),u=e.indicesOfNearest(l,c)[0];o[a]=e.get(n,u),o[r]=e.get(l,u);var h=e.get(i,u),d=Si["g"](e.get(i,u));return d=Math.min(d,20),d>=0&&(o[r]=+o[r].toFixed(d)),[o,h]}var cy={min:Object(b["curry"])(ly,"min"),max:Object(b["curry"])(ly,"max"),average:Object(b["curry"])(ly,"average"),median:Object(b["curry"])(ly,"median")};function uy(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!sy(e)&&!Object(b["isArray"])(e.coord)&&i){var a=i.dimensions,r=hy(e,n,i,t);if(e=Object(b["clone"])(e),e.type&&cy[e.type]&&r.baseAxis&&r.valueAxis){var o=Object(b["indexOf"])(a,r.baseAxis.dim),s=Object(b["indexOf"])(a,r.valueAxis.dim),l=cy[e.type](n,r.baseDataDim,r.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else{for(var c=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)cy[c[u]]&&(c[u]=gy(n,n.mapDimension(a[u]),c[u]));e.coord=c}}return e}function hy(t,e,n,i){var a={};return null!=t.valueIndex||null!=t.valueDim?(a.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=n.getAxis(dy(i,a.valueDataDim)),a.baseAxis=n.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=i.getBaseAxis(),a.valueAxis=n.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function dy(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}function py(t,e){return!(t&&t.containData&&e.coord&&!oy(e))||t.containData(e.coord)}function fy(t,e){return t?function(t,n,i,a){var r=a<2?t.coord&&t.coord[a]:t.value;return Object(ry["d"])(r,e[a])}:function(t,n,i,a){return Object(ry["d"])(t.value,e[a])}}function gy(t,e,n){if("average"===n){var i=0,a=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,a++)})),i/a}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var yy=Object(Rn["o"])(),my=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.init=function(){this.markerGroupMap=Object(b["createHashMap"])()},e.prototype.render=function(t,e,n){var i=this,a=this.markerGroupMap;a.each((function(t){yy(t).keep=!1})),e.eachSeries((function(t){var a=ny.getMarkerModelFromSeries(t,i.type);a&&i.renderSeries(t,a,e,n)})),a.each((function(t){!yy(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){yy(t).keep=!0},e.prototype.blurSeries=function(t){var e=this;Object(b["each"])(t,(function(t){var n=ny.getMarkerModelFromSeries(t,e.type);if(n){var i=n.getData();i.eachItemGraphicEl((function(t){t&&Object(Ae["q"])(t)}))}}))},e.type="marker",e}(Li["a"]),vy=my;function by(t,e,n){var i=e.coordinateSystem;t.each((function(a){var r,o=t.getItemModel(a),s=Si["p"](o.get("x"),n.getWidth()),l=Si["p"](o.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,a));else if(i){var c=t.get(i.dimensions[0],a),u=t.get(i.dimensions[1],a);r=i.dataToPoint([c,u])}}else r=[s,l];isNaN(s)||(r[0]=s),isNaN(l)||(r[1]=l),t.setItemLayout(a,r)}))}var xy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=ny.getMarkerModelFromSeries(t,"markPoint");e&&(by(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,i){var a=t.coordinateSystem,r=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new ne["a"]),c=_y(a,t,e);e.setData(c),by(e.getData(),t,i),c.each((function(t){var n=c.getItemModel(t),i=n.getShallow("symbol"),a=n.getShallow("symbolSize"),r=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if(Object(b["isFunction"])(i)||Object(b["isFunction"])(a)||Object(b["isFunction"])(r)||Object(b["isFunction"])(s)){var u=e.getRawValue(t),h=e.getDataParams(t);Object(b["isFunction"])(i)&&(i=i(u,h)),Object(b["isFunction"])(a)&&(a=a(u,h)),Object(b["isFunction"])(r)&&(r=r(u,h)),Object(b["isFunction"])(s)&&(s=s(u,h))}var d=n.getModel("itemStyle").getItemStyle(),p=Object(Ff["b"])(o,"color");d.fill||(d.fill=p),c.setItemVisual(t,{symbol:i,symbolSize:a,symbolRotate:r,symbolOffset:s,symbolKeepAspect:l,style:d})})),l.updateData(c),this.group.add(l.group),c.eachItemGraphicEl((function(t){t.traverse((function(t){Object(oe["a"])(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(vy);function _y(t,e,n){var i;i=t?Object(b["map"])(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(b["extend"])(Object(b["extend"])({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var a=new Tr["a"](i,n),r=Object(b["map"])(n.get("data"),Object(b["curry"])(uy,e));t&&(r=Object(b["filter"])(r,Object(b["curry"])(py,t)));var o=fy(!!t,i);return a.initData(r,null,o),a}var Sy=xy;function wy(t){t.registerComponentModel(ay),t.registerComponentView(Sy),t.registerPreprocessor((function(t){Kg(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))}var Oy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(ny),My=Oy,Iy=Object(Rn["o"])(),jy=function(t,e,n,i){var a,r=t.getData();if(Object(b["isArray"])(i))a=i;else{var o=i.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=Object(b["retrieve"])(i.yAxis,i.xAxis);else{var c=hy(i,r,e,t);s=c.valueAxis;var u=Object(Op["b"])(r,c.valueDataDim);l=gy(r,u,o)}var h="x"===s.dim?0:1,d=1-h,p=Object(b["clone"])(i),f={coord:[]};p.type=null,p.coord=[],p.coord[d]=-1/0,f.coord[d]=1/0;var g=n.get("precision");g>=0&&Object(b["isNumber"])(l)&&(l=+l.toFixed(Math.min(g,20))),p.coord[h]=f.coord[h]=l,a=[p,f,{type:o,valueIndex:i.valueIndex,value:l}]}else a=[]}var y=[uy(t,a[0]),uy(t,a[1]),Object(b["extend"])({},a[2])];return y[2].type=y[2].type||null,Object(b["merge"])(y[2],y[0]),Object(b["merge"])(y[2],y[1]),y};function Cy(t){return!isNaN(t)&&!isFinite(t)}function Ay(t,e,n,i){var a=1-t,r=i.dimensions[t];return Cy(e[a])&&Cy(n[a])&&e[t]===n[t]&&i.getAxis(r).containData(e[t])}function Dy(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(Ay(1,n,i,t)||Ay(0,n,i,t)))return!0}return py(t,e[0])&&py(t,e[1])}function Ty(t,e,n,i,a){var r,o=i.coordinateSystem,s=t.getItemModel(e),l=Si["p"](s.get("x"),a.getWidth()),c=Si["p"](s.get("y"),a.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)r=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=o.dimensions,h=t.get(u[0],e),d=t.get(u[1],e);r=o.dataToPoint([h,d])}if(Object(Nc["a"])(o,"cartesian2d")){var p=o.getAxis("x"),f=o.getAxis("y");u=o.dimensions;Cy(t.get(u[0],e))?r[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Cy(t.get(u[1],e))&&(r[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}isNaN(l)||(r[0]=l),isNaN(c)||(r[1]=c)}else r=[l,c];t.setItemLayout(e,r)}var Ly=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=ny.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData(),a=Iy(e).from,r=Iy(e).to;a.each((function(e){Ty(a,e,!0,t,n),Ty(r,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[a.getItemLayout(t),r.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,i){var a=t.coordinateSystem,r=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new vr);this.group.add(l.group);var c=Py(a,t,e),u=c.from,h=c.to,d=c.line;Iy(e).from=u,Iy(e).to=h,e.setData(d);var p=e.get("symbol"),f=e.get("symbolSize"),g=e.get("symbolRotate"),y=e.get("symbolOffset");function m(e,n,a){var r=e.getItemModel(n);Ty(e,n,a,t,i);var s=r.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=Object(Ff["b"])(o,"color")),e.setItemVisual(n,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:Object(b["retrieve2"])(r.get("symbolOffset",!0),y[a?0:1]),symbolRotate:Object(b["retrieve2"])(r.get("symbolRotate",!0),g[a?0:1]),symbolSize:Object(b["retrieve2"])(r.get("symbolSize"),f[a?0:1]),symbol:Object(b["retrieve2"])(r.get("symbol",!0),p[a?0:1]),style:s})}Object(b["isArray"])(p)||(p=[p,p]),Object(b["isArray"])(f)||(f=[f,f]),Object(b["isArray"])(g)||(g=[g,g]),Object(b["isArray"])(y)||(y=[y,y]),c.from.each((function(t){m(u,t,!0),m(h,t,!1)})),d.each((function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[u.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=u.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:u.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:u.getItemVisual(t,"symbolOffset"),fromSymbolRotate:u.getItemVisual(t,"symbolRotate"),fromSymbolSize:u.getItemVisual(t,"symbolSize"),fromSymbol:u.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})})),l.updateData(d),c.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){Object(oe["a"])(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(vy);function Py(t,e,n){var i;i=t?Object(b["map"])(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(b["extend"])(Object(b["extend"])({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var a=new Tr["a"](i,n),r=new Tr["a"](i,n),o=new Tr["a"]([],n),s=Object(b["map"])(n.get("data"),Object(b["curry"])(jy,e,t,n));t&&(s=Object(b["filter"])(s,Object(b["curry"])(Dy,t)));var l=fy(!!t,i);return a.initData(Object(b["map"])(s,(function(t){return t[0]})),null,l),r.initData(Object(b["map"])(s,(function(t){return t[1]})),null,l),o.initData(Object(b["map"])(s,(function(t){return t[2]}))),o.hasItemOption=!0,{from:a,to:r,line:o}}var ky=Ly;function Ny(t){t.registerComponentModel(My),t.registerComponentView(ky),t.registerPreprocessor((function(t){Kg(t.series,"markLine")&&(t.markLine=t.markLine||{})}))}var Ry=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(ny),Ey=Ry,zy=Object(Rn["o"])(),Vy=function(t,e,n,i){var a=uy(t,i[0]),r=uy(t,i[1]),o=a.coord,s=r.coord;o[0]=Object(b["retrieve"])(o[0],-1/0),o[1]=Object(b["retrieve"])(o[1],-1/0),s[0]=Object(b["retrieve"])(s[0],1/0),s[1]=Object(b["retrieve"])(s[1],1/0);var l=Object(b["mergeAll"])([{},a,r]);return l.coord=[a.coord,r.coord],l.x0=a.x,l.y0=a.y,l.x1=r.x,l.y1=r.y,l};function By(t){return!isNaN(t)&&!isFinite(t)}function Gy(t,e,n,i){var a=1-t;return By(e[a])&&By(n[a])}function Fy(t,e){var n=e.coord[0],i=e.coord[1];return!!(Object(Nc["a"])(t,"cartesian2d")&&n&&i&&(Gy(1,n,i,t)||Gy(0,n,i,t)))||(py(t,{coord:n,x:e.x0,y:e.y0})||py(t,{coord:i,x:e.x1,y:e.y1}))}function Wy(t,e,n,i,a){var r,o=i.coordinateSystem,s=t.getItemModel(e),l=Si["p"](s.get(n[0]),a.getWidth()),c=Si["p"](s.get(n[1]),a.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)r=i.getMarkerPosition(t.getValues(n,e));else{var u=t.get(n[0],e),h=t.get(n[1],e),d=[u,h];o.clampData&&o.clampData(d,d),r=o.dataToPoint(d,!0)}if(Object(Nc["a"])(o,"cartesian2d")){var p=o.getAxis("x"),f=o.getAxis("y");u=t.get(n[0],e),h=t.get(n[1],e);By(u)?r[0]=p.toGlobalCoord(p.getExtent()["x0"===n[0]?0:1]):By(h)&&(r[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(r[0]=l),isNaN(c)||(r[1]=c)}else r=[l,c];return r}var Hy=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Yy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=ny.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var a=Object(b["map"])(Hy,(function(a){return Wy(i,e,a,t,n)}));i.setItemLayout(e,a);var r=i.getItemGraphicEl(e);r.setShape("points",a)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var a=t.coordinateSystem,r=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new ae["a"]});this.group.add(l.group),this.markKeep(l);var c=Xy(a,t,e);e.setData(c),c.each((function(e){var n=Object(b["map"])(Hy,(function(n){return Wy(c,e,n,t,i)})),r=a.getAxis("x").scale,s=a.getAxis("y").scale,l=r.getExtent(),u=s.getExtent(),h=[r.parse(c.get("x0",e)),r.parse(c.get("x1",e))],d=[s.parse(c.get("y0",e)),s.parse(c.get("y1",e))];Si["c"](h),Si["c"](d);var p=!(l[0]>h[1]||l[1]<h[0]||u[0]>d[1]||u[1]<d[0]),f=!p;c.setItemLayout(e,{points:n,allClipped:f});var g=c.getItemModel(e).getModel("itemStyle").getItemStyle(),y=Object(Ff["b"])(o,"color");g.fill||(g.fill=y,Object(b["isString"])(g.fill)&&(g.fill=nh["modifyAlpha"](g.fill,.4))),g.stroke||(g.stroke=y),c.setItemVisual(e,"style",g)})),c.diff(zy(l).data).add((function(t){var e=c.getItemLayout(t);if(!e.allClipped){var n=new Ie["a"]({shape:{points:e.points}});c.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=zy(l).data.getItemGraphicEl(n),a=c.getItemLayout(t);a.allClipped?i&&l.group.remove(i):(i?Me["h"](i,{shape:{points:a.points}},e,t):i=new Ie["a"]({shape:{points:a.points}}),c.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=zy(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),c.eachItemGraphicEl((function(t,n){var i=c.getItemModel(n),a=c.getItemVisual(n,"style");t.useStyle(c.getItemVisual(n,"style")),Object(Pn["g"])(t,Object(Pn["e"])(i),{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:Object(b["isString"])(a.fill)?nh["modifyAlpha"](a.fill,1):"#000"}),Object(Ae["I"])(t,i),Object(Ae["J"])(t,null,null,i.get(["emphasis","disabled"])),Object(oe["a"])(t).dataModel=e})),zy(l).data=c,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(vy);function Xy(t,e,n){var i,a,r=["x0","y0","x1","y1"];if(t){var o=Object(b["map"])(t&&t.dimensions,(function(t){var n=e.getData(),i=n.getDimensionInfo(n.mapDimension(t))||{};return Object(b["extend"])(Object(b["extend"])({},i),{name:t,ordinalMeta:null})}));a=Object(b["map"])(r,(function(t,e){return{name:t,type:o[e%2].type}})),i=new Tr["a"](a,n)}else a=[{name:"value",type:"float"}],i=new Tr["a"](a,n);var s=Object(b["map"])(n.get("data"),Object(b["curry"])(Vy,e,t,n));t&&(s=Object(b["filter"])(s,Object(b["curry"])(Fy,t)));var l=t?function(t,e,n,i){var r=t.coord[Math.floor(i/2)][i%2];return Object(ry["d"])(r,a[i])}:function(t,e,n,i){return Object(ry["d"])(t.value,a[i])};return i.initData(s,null,l),i.hasItemOption=!0,i}var Uy=Yy;function Zy(t){t.registerComponentModel(Ey),t.registerComponentView(Uy),t.registerPreprocessor((function(t){Kg(t.series,"markArea")&&(t.markArea=t.markArea||{})}))}var qy=n("ff32"),Jy=n("104d"),Ky=n("e1ff"),$y=n("ac12"),Qy={get:function(t,e,n){var i=b["clone"]((tm[t]||{})[e]);return n&&b["isArray"](i)?i[i.length-1]:i}},tm={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},em=Qy,nm=$s["a"].mapVisual,im=$s["a"].eachVisual,am=b["isArray"],rm=b["each"],om=Si["c"],sm=Si["l"],lm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&Xf(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=b["bind"](t,this),this.controllerVisuals=Yf(this.option.controller,e,t),this.targetVisuals=Yf(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=Rn["r"](t),e},e.prototype.eachTargetSeries=function(t,e){b["each"](this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,a=this.option,r=a.precision,o=this.dataBound,s=a.formatter;n=n||["<",">"],b["isArray"](t)&&(t=t.slice(),i=!0);var l=e?t:i?[c(t[0]),c(t[1])]:c(t);return b["isString"](s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):b["isFunction"](s)?i?s(t[0],t[1]):s(t):i?t[0]===o[0]?n[0]+" "+l[1]:t[1]===o[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function c(t){return t===o[0]?"min":t===o[1]?"max":(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=om([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var a=n[i],r=t.getDimensionInfo(a);if(!r.isCalculationCoord)return r.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),a=e.controller||(e.controller={});b["merge"](i,n),b["merge"](a,n);var r=this.isCategory();function o(n){am(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}function s(t,e,n){var i=t[e],a=t[n];i&&!a&&(a=t[n]={},rm(i,(function(t,e){if($s["a"].isValidType(e)){var n=em.get(e,"inactive",r);null!=n&&(a[e]=n,"color"!==e||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}})))}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),a=this.getItemSymbol(),o=a||"roundRect";rm(this.stateList,(function(a){var s=this.itemSize,l=t[a];l||(l=t[a]={color:r?i:[i]}),null==l.symbol&&(l.symbol=e&&b["clone"](e)||(r?o:[o])),null==l.symbolSize&&(l.symbolSize=n&&b["clone"](n)||(r?s[0]:[s[0],s[0]])),l.symbol=nm(l.symbol,(function(t){return"none"===t?o:t}));var c=l.symbolSize;if(null!=c){var u=-1/0;im(c,(function(t){t>u&&(u=t)})),l.symbolSize=nm(c,(function(t){return sm(t,[0,u],[0,s[0]],!0)}))}}),this)}o.call(this,i),o.call(this,a),s.call(this,i,"inRange","outOfRange"),l.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ci["a"]),cm=lm,um=[20,140],hm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=um[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=um[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):b["isArray"](e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),b["each"](this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=Si["c"]((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],a=n.getData();a.each(this.getDataDimensionIndex(a),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=dm(this,"outOfRange",this.getExtent()),n=dm(this,"inRange",this.option.range.slice()),i=[];function a(e,n){i.push({value:e,color:t(e,n)})}for(var r=0,o=0,s=n.length,l=e.length;o<l&&(!n.length||e[o]<=n[0]);o++)e[o]<n[r]&&a(e[o],"outOfRange");for(var c=1;r<s;r++,c=0)c&&i.length&&a(n[r],"outOfRange"),a(n[r],"inRange");for(c=1;o<l;o++)(!n.length||n[n.length-1]<e[o])&&(c&&(i.length&&a(i[i.length-1].value,"outOfRange"),c=0),a(e[o],"outOfRange"));var u=i.length;return{stops:i,outerColors:[u?i[0].color:"transparent",u?i[u-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Object(Ln["d"])(cm.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(cm);function dm(t,e,n){if(n[0]===n[1])return n.slice();for(var i=200,a=(n[1]-n[0])/i,r=n[0],o=[],s=0;s<=i&&r<n[1];s++)o.push(r),r+=a;return o.push(n[1]),o}var pm=hm,fm=n("607d"),gm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(Kt["a"])(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=Yu["j"](e.get("padding")||0),i=t.getBoundingRect();t.add(new De["a"]({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){n=n||{};var i=n.forceState,a=this.visualMapModel,r={};if("color"===e){var o=a.get("contentColor");r.color=o}function s(t){return r[t]}function l(t,e){r[t]=e}var c=a.controllerVisuals[i||a.getValueState(t)],u=$s["a"].prepareVisualTypes(c);return b["each"](u,(function(i){var a=c[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",a=c.__alphaForOpacity),$s["a"].dependsOn(i,e)&&a&&a.applyVisual(t,s,l)})),r[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;_i["i"](t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(Li["a"]),ym=gm,mm=[["left","right","width"],["top","bottom","height"]];function vm(t,e,n){var i=t.option,a=i.align;if(null!=a&&"auto"!==a)return a;for(var r={width:e.getWidth(),height:e.getHeight()},o="horizontal"===i.orient?1:0,s=mm[o],l=[0,null,10],c={},u=0;u<3;u++)c[mm[1-o][u]]=l[u],c[s[u]]=2===u?n[0]:i[s[u]];var h=[["x","width",3],["y","height",0]][o],d=Object(_i["g"])(c,r,i.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*r[h[1]]?0:1]}function bm(t,e){return b["each"](t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var xm=Si["l"],_m=b["each"],Sm=Math.min,wm=Math.max,Om=12,Mm=6,Im=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(Kt["a"])(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var a=this.visualMapModel,r=a.get("textGap"),o=a.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([o[0]/2,0===n?-r:o[1]+r],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Q["a"]({style:{x:l[0],y:l[1],verticalAlign:"horizontal"===u?"middle":c,align:"horizontal"===u?c:"center",text:i,font:h.getFont(),fill:h.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,a=this._orient,r=this._useHandle,o=vm(e,this.api,i),s=n.mainGroup=this._createBarGroup(o),l=new ae["a"];s.add(l),l.add(n.outOfRange=jm()),l.add(n.inRange=jm(null,r?Dm(this._orient):null,b["bind"](this._dragHandle,this,"all",!1),b["bind"](this._dragHandle,this,"all",!0))),l.setClipPath(new De["a"]({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var c=e.textStyleModel.getTextRect("国"),u=wm(c.width,c.height);r&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,u,a),this._createHandle(e,s,1,i,u,a)),this._createIndicator(e,s,i,u,a),t.add(s)},e.prototype._createHandle=function(t,e,n,i,a,r){var o=b["bind"](this._dragHandle,this,n,!1),s=b["bind"](this._dragHandle,this,n,!0),l=Object(c["g"])(t.get("handleSize"),i[0]),u=Object(re["a"])(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),h=Dm(this._orient);u.attr({cursor:h,draggable:!0,drift:o,ondragend:s,onmousemove:function(t){fm["g"](t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Ae["F"])(u,!0),e.add(u);var d=this.visualMapModel.textStyleModel,p=new Q["a"]({cursor:h,draggable:!0,drift:o,onmousemove:function(t){fm["g"](t.event)},ondragend:s,style:{x:0,y:0,text:"",font:d.getFont(),fill:d.getTextColor()}});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var f=[l,0],g=this._shapes;g.handleThumbs[n]=u,g.handleLabelPoints[n]=f,g.handleLabels[n]=p},e.prototype._createIndicator=function(t,e,n,i,a){var r=Object(c["g"])(t.get("indicatorSize"),n[0]),o=Object(re["a"])(t.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);o.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(o instanceof l["a"]){var u=o.style;o.useStyle(b["extend"]({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},s))}else o.useStyle(s);e.add(o);var h=this.visualMapModel.textStyleModel,d=new Q["a"]({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});this.group.add(d);var p=[("horizontal"===a?i/2:Mm)+n[0]/2,0],f=this._shapes;f.indicator=o,f.indicatorLabel=d,f.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var a=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Am(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[xm(e[0],n,i,!0),xm(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,a=[0,n.itemSize[1]];Object(Go["a"])(e,i,a,t,0);var r=n.getExtent();this._dataInterval=[xm(i[0],a,r,!0),xm(i[1],a,r,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,a=[0,e.itemSize[1]],r=t?a:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,r,"inRange"),s=this._createBarVisual(n,n,a,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,o)},e.prototype._createBarVisual=function(t,e,n,i){var a={forceState:i,convertOpacityToAlpha:!0},r=this._makeColorGradient(t,a),o=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],s=this._createBarPoints(n,o);return{barColor:new Ne["a"](0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=100,i=[],a=(t[1]-t[0])/n;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<n;r++){var o=t[0]+a*r;if(o>t[1])break;i.push({color:this.getControllerVisual(o,"color",e),offset:r/n})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new ae["a"]("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,a=n.handleThumbs,r=n.handleLabels,o=i.itemSize,s=i.getExtent();_m([0,1],(function(l){var c=a[l];c.setStyle("fill",e.handlesColor[l]),c.y=t[l];var u=xm(t[l],[0,o[1]],s,!0),h=this.getControllerVisual(u,"symbolSize");c.scaleX=c.scaleY=h/o[0],c.x=o[0]-h/2;var d=Ce["applyTransform"](n.handleLabelPoints[l],Ce["getTransform"](c,this.group));r[l].setStyle({x:d[0],y:d[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var a=this.visualMapModel,r=a.getExtent(),o=a.itemSize,s=[0,o[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var u={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,"color",u),d=this.getControllerVisual(t,"symbolSize"),p=xm(t,r,s,!0),f=o[0]-d/2,g={x:c.x,y:c.y};c.y=p,c.x=f;var y=Ce["applyTransform"](l.indicatorLabelPoint,Ce["getTransform"](c,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),b=this._orient,x="horizontal"===b;m.setStyle({text:(n||"")+a.formatValueText(e),verticalAlign:x?v:"middle",align:x?"center":v});var _={x:f,y:p,style:{fill:h}},S={style:{x:y[0],y:y[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};c.x=g.x,c.y=g.y,c.animateTo(_,w),m.animateTo(S,w)}else c.attr(_),m.attr(S);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var M=0;M<O.length;M++)this._api.enterBlur(O[M])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=Sm(wm(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var a=[0,i[1]],r=n.getExtent();t=Sm(wm(a[0],t),a[1]);var o=Cm(n,r,a),s=[t-o,t+o],l=xm(t,a,r,!0),c=[xm(s[0],a,r,!0),xm(s[1],a,r,!0)];s[0]<a[0]&&(c[0]=-1/0),s[1]>a[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",o):c[1]===1/0?this._showIndicator(l,c[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var u=this._hoverLinkDataIndices,h=[];(e||Am(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=Rn["d"](u,h);this._dispatchHighDown("downplay",bm(d[0],n)),this._dispatchHighDown("highlight",bm(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Object(oe["a"])(e).dataIndex){var i=Object(oe["a"])(e),a=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(a)){var r=a.getData(i.dataType),o=r.getStore().get(n.getDataDimensionIndex(r),i.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bm(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var a=Ce["getTransform"](e,i?null:this.group);return b["isArray"](t)?Ce["applyTransform"](t,a,n):Ce["transformDirection"](t,a,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(ym);function jm(t,e,n,i){return new Ie["a"]({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){fm["g"](t.event)},ondragend:i})}function Cm(t,e,n){var i=Om/2,a=t.get("hoverLinkDataSize");return a&&(i=xm(a,e,n,!0)/2),i}function Am(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function Dm(t){return"vertical"===t?"ns-resize":"ew-resize"}var Tm=Im,Lm={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Pm=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},km=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i=t.pipelineContext;!e.isTargetSeries(t)||i&&i.large||n.push(Zf(e.stateList,e.targetVisuals,b["bind"](e.getValueState,e),e.getDataDimensionIndex(t.getData())))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var a=e.getVisualMeta(b["bind"](Nm,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimensionIndex(n);r>=0&&(a.dimension=r,i.push(a))}})),t.getData().setVisual("visualMeta",i)}}];function Nm(t,e,n,i){for(var a=e.targetVisuals[i],r=$s["a"].prepareVisualTypes(a),o={color:Object(Ff["b"])(t.getData(),"color")},s=0,l=r.length;s<l;s++){var c=r[s],u=a["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(n,h,d)}return o.color;function h(t){return o[t]}function d(t,e){o[t]=e}}var Rm=b["each"];function Em(t){var e=t&&t.visualMap;b["isArray"](e)||(e=e?[e]:[]),Rm(e,(function(t){if(t){zm(t,"splitList")&&!zm(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&b["isArray"](e)&&Rm(e,(function(t){b["isObject"](t)&&(zm(t,"start")&&!zm(t,"min")&&(t.min=t.start),zm(t,"end")&&!zm(t,"max")&&(t.max=t.end))}))}}))}function zm(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Vm=!1;function Bm(t){Vm||(Vm=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(Lm,Pm),Object(b["each"])(km,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(Em))}function Gm(t){t.registerComponentModel(pm),t.registerComponentView(Tm),Bm(t)}var Fm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(Kt["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Wm[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=b["clone"](a)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=b["map"](this._pieceList,(function(t){return t=b["clone"](t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=$s["a"].listVisualTypes(),a=this.isCategory();function r(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}b["each"](e.pieces,(function(t){b["each"](i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),b["each"](n,(function(t,n){var i=!1;b["each"](this.stateList,(function(t){i=i||r(e,t,n)||r(e.target,t,n)}),this),!i&&b["each"](this.stateList,(function(t){(e[t]||(e[t]={}))[n]=em.get(n,"inRange"===t?"active":"inactive",a)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,a=(e?n:t).selected||{};if(n.selected=a,b["each"](i,(function(t,e){var n=this.getSelectedMapKey(t);a.hasOwnProperty(n)||(a[n]=!0)}),this),"single"===n.selectedMode){var r=!1;b["each"](i,(function(t,e){var n=this.getSelectedMapKey(t);a[n]&&(r?a[n]=!1:r=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=b["clone"](t)},e.prototype.getValueState=function(t){var e=$s["a"].findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var a=[],r=i.getData();r.each(this.getDataDimensionIndex(r),(function(e,i){var r=$s["a"].findPieceIndex(e,n);r===t&&a.push(i)}),this),e.push({seriesId:i.id,dataIndex:a})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({interval:[-1/0,r]}),r=a[a.length-1].interval[1],r!==1/0&&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var o=-1/0;return b["each"](a,(function(t){var e=t.interval;e&&(e[0]>o&&s([o,e[0]],"outOfRange"),s(e.slice()),o=e[1])}),this),{stops:e,outerColors:n}}function s(a,r){var o=i.getRepresentValue({interval:a});r||(r=i.getValueState(o));var s=t(o,r);a[0]===-1/0?n[0]=s:a[1]===1/0?n[1]=s:e.push({value:a[0],color:s},{value:a[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=Object(Ln["d"])(cm.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(cm),Wm={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;var r=(i[1]-i[0])/a;while(+r.toFixed(n)!==r&&n<5)n++;e.precision=n,r=+r.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var o=0,s=i[0];o<a;s+=r,o++){var l=o===a-1?i[1]:s+r;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Object(Si["t"])(t),b["each"](t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;b["each"](e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),Hm(e,t)},pieces:function(t){var e=this.option;b["each"](e.pieces,(function(e,n){b["isObject"](e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var r=i.interval=[],o=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],c=[],u=0;u<2;u++){for(var h=[["gte","gt","min"],["lte","lt","max"]][u],d=0;d<3&&null==r[u];d++)r[u]=e[h[d]],o[u]=s[d],c[u]=2===d;null==r[u]&&(r[u]=l[u])}c[0]&&r[1]===1/0&&(o[0]=0),c[1]&&r[0]===-1/0&&(o[1]=0),r[0]===r[1]&&o[0]&&o[1]&&(i.value=r[0])}i.visual=$s["a"].retrieveVisuals(e),t.push(i)}),this),Hm(e,t),Object(Si["t"])(t),b["each"](t,(function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function Hm(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var Ym=Fm,Xm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(Kt["a"])(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,a=i.getFont(),r=i.getTextColor(),o=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),c=l.endsText,u=b["retrieve"](e.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],s,u,o),b["each"](l.viewPieceList,(function(i){var l=i.piece,c=new ae["a"];c.onclick=b["bind"](this._onItemClick,this,l),this._enableHoverLink(c,i.indexInModelPieceList);var h=e.getRepresentValue(l);if(this._createItemSymbol(c,h,[0,0,s[0],s[1]]),u){var d=this.visualMapModel.getValueState(h);c.add(new Q["a"]({style:{x:"right"===o?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:o,font:a,fill:r,opacity:"outOfRange"===d?.5:1}}))}t.add(c)}),this),c&&this._renderEndsText(t,c[1],s,u,o),_i["b"](e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:bm(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return vm(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,a){if(e){var r=new ae["a"],o=this.visualMapModel.textStyleModel;r.add(new Q["a"]({style:{x:i?"right"===a?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?a:"center",text:e,font:o.getFont(),fill:o.getTextColor()}})),t.add(r)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=b["map"](t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient"),a=t.get("inverse");return("horizontal"===i?a:!a)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Object(re["a"])(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=b["clone"](n.selected),a=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[a]=!0,b["each"](i,(function(t,e){i[e]=e===a}))):i[a]=!i[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},e.type="visualMap.piecewise",e}(ym),Um=Xm;function Zm(t){t.registerComponentModel(Ym),t.registerComponentView(Um),Bm(t)}function qm(t){Object(i["a"])(Gm),Object(i["a"])(Zm)}var Jm=n("4041"),Km={label:{enabled:!0},decal:{show:!1}},$m=Object(Rn["o"])(),Qm={};function tv(t,e){var n=t.getModel("aria");if(n.get("enabled")){var i=b["clone"](Km);b["merge"](i.label,t.getLocaleModel().get("aria"),!1),b["merge"](n.option,i,!1),a(),r()}function a(){var e=n.getModel("decal"),i=e.get("show");if(i){var a=b["createHashMap"]();t.eachSeries((function(t){if(!t.isColorBySeries()){var e=a.get(t.type);e||(e={},a.set(t.type,e)),$m(t).scope=e}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(b["isFunction"](e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var i=Object(Jm["b"])(e.ecModel,e.name,Qm,t.getSeriesCount()),a=n.getVisual("decal");n.setVisual("decal",c(a,i))}else{var r=e.getRawData(),o={},s=$m(e).scope;n.each((function(t){var e=n.getRawIndex(t);o[e]=t}));var l=r.count();r.each((function(t){var i=o[t],a=r.getName(t)||t+"",u=Object(Jm["b"])(e.ecModel,a,s,l),h=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",c(h,u))}))}}function c(t,e){var n=t?b["extend"](b["extend"]({},e),t):e;return n.dirty=!0,n}}))}}function r(){var i=t.getLocaleModel().get("aria"),a=n.getModel("label");if(a.option=b["defaults"](a.option,i),a.get("enabled")){var r=e.getZr().dom;if(a.get("description"))r.setAttribute("aria-label",a.get("description"));else{var c,u=t.getSeriesCount(),h=a.get(["data","maxCount"])||10,d=a.get(["series","maxCount"])||10,p=Math.min(u,d);if(!(u<1)){var f=s();if(f){var g=a.get(["general","withTitle"]);c=o(g,{title:f})}else c=a.get(["general","withoutTitle"]);var y=[],m=u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);c+=o(m,{seriesCount:u}),t.eachSeries((function(t,e){if(e<p){var n=void 0,i=t.get("name"),r=i?"withName":"withoutName";n=u>1?a.get(["series","multiple",r]):a.get(["series","single",r]),n=o(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>h){var c=a.get(["data","partialData"]);n+=o(c,{displayCnt:h})}else n+=a.get(["data","allData"]);for(var d=a.get(["data","separator","middle"]),f=a.get(["data","separator","end"]),g=[],m=0;m<s.count();m++)if(m<h){var v=s.getName(m),b=s.getValues(m),x=a.get(["data",v?"withName":"withoutName"]);g.push(o(x,{name:v,value:b.join(d)}))}n+=g.join(d)+f,y.push(n)}}));var v=a.getModel(["series","multiple","separator"]),x=v.get("middle"),_=v.get("end");c+=y.join(x)+_,r.setAttribute("aria-label",c)}}}}function o(t,e){if(!b["isString"](t))return t;var n=t;return b["each"](e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function s(){var e=t.get("title");return e&&e.length&&(e=e[0]),e&&e.text}function l(e){return t.getLocaleModel().get(["series","typeNames"])[e]||"自定义图"}}function ev(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},b["each"](["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}function nv(t){t.registerPreprocessor(ev),t.registerVisual(t.PRIORITY.VISUAL.ARIA,tv)}var iv={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},av=function(){function t(t){var e=this._condVal=Object(b["isString"])(t)?new RegExp(t):Object(b["isRegExp"])(t)?t:null;if(null==e){var n="";0,Object(bl["c"])(n)}}return t.prototype.evaluate=function(t){var e=typeof t;return Object(b["isString"])(e)?this._condVal.test(t):!!Object(b["isNumber"])(e)&&this._condVal.test(t+"")},t}(),rv=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),ov=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),sv=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),lv=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),cv=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},t}();function uv(t,e){if(!0===t||!1===t){var n=new rv;return n.value=t,n}var i="";return fv(t)||Object(bl["c"])(i),t.and?hv("and",t,e):t.or?hv("or",t,e):t.not?dv(t,e):pv(t,e)}function hv(t,e,n){var i=e[t],a="";Object(b["isArray"])(i)||Object(bl["c"])(a),i.length||Object(bl["c"])(a);var r="and"===t?new ov:new sv;return r.children=Object(b["map"])(i,(function(t){return uv(t,n)})),r.children.length||Object(bl["c"])(a),r}function dv(t,e){var n=t.not,i="";fv(n)||Object(bl["c"])(i);var a=new lv;return a.child=uv(n,e),a.child||Object(bl["c"])(i),a}function pv(t,e){for(var n="",i=e.prepareGetValue(t),a=[],r=Object(b["keys"])(t),o=t.parser,s=o?Object(ry["c"])(o):null,l=0;l<r.length;l++){var c=r[l];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var u=Object(b["hasOwn"])(iv,c)?iv[c]:c,h=t[c],d=s?s(h):h,p=Object(ry["b"])(u,d)||"reg"===u&&new av(d);p||Object(bl["c"])(n),a.push(p)}}a.length||Object(bl["c"])(n);var f=new cv;return f.valueGetterParam=i,f.valueParser=s,f.getValue=e.getValue,f.subCondList=a,f}function fv(t){return Object(b["isObject"])(t)&&!Object(b["isArrayLike"])(t)}var gv=function(){function t(t,e){this._cond=uv(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function yv(t,e){return new gv(t,e)}var mv={type:"echarts:filter",transform:function(t){for(var e,n=t.upstream,i=yv(t.config,{valueGetterAttrMap:Object(b["createHashMap"])({dimension:!0}),prepareGetValue:function(t){var e="",i=t.dimension;Object(b["hasOwn"])(t,"dimension")||Object(bl["c"])(e);var a=n.getDimensionInfo(i);return a||Object(bl["c"])(e),{dimIdx:a.index}},getValue:function(t){return n.retrieveValueFromItem(e,t.dimIdx)}}),a=[],r=0,o=n.count();r<o;r++)e=n.getRawDataItem(r),i.evaluate()&&a.push(e);return{data:a}}};var vv={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,i="",a=Object(Rn["r"])(n);a.length||Object(bl["c"])(i);var r=[];Object(b["each"])(a,(function(t){var n=t.dimension,a=t.order,o=t.parser,s=t.incomparable;if(null==n&&Object(bl["c"])(i),"asc"!==a&&"desc"!==a&&Object(bl["c"])(i),s&&"min"!==s&&"max"!==s){var l="";0,Object(bl["c"])(l)}if("asc"!==a&&"desc"!==a){var c="";0,Object(bl["c"])(c)}var u=e.getDimensionInfo(n);u||Object(bl["c"])(i);var h=o?Object(ry["c"])(o):null;o&&!h&&Object(bl["c"])(i),r.push({dimIdx:u.index,parser:h,comparator:new ry["a"](a,s)})}));var o=e.sourceFormat;o!==xl["c"]&&o!==xl["e"]&&Object(bl["c"])(i);for(var s=[],l=0,c=e.count();l<c;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var i=0;i<r.length;i++){var a=r[i],o=e.retrieveValueFromItem(t,a.dimIdx),s=e.retrieveValueFromItem(n,a.dimIdx);a.parser&&(o=a.parser(o),s=a.parser(s));var l=a.comparator.evaluate(o,s);if(0!==l)return l}return 0})),{data:s}}};function bv(t){t.registerTransform(mv),t.registerTransform(vv)}var xv=n("5e81"),_v=G["a"].CMD;function Sv(t,e){return Math.abs(t-e)<1e-5}function wv(t){var e,n,i,a,r,o=t.data,s=t.len(),l=[],c=0,u=0,h=0,d=0;function p(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function f(t,n,i,a){Sv(t,i)&&Sv(n,a)||e.push(t,n,i,a,i,a)}function g(t,n,i,a,r,o){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,c=n<t?-1:1,u=Math.cos(t),h=Math.sin(t),d=Math.cos(n),p=Math.sin(n),f=u*r+i,g=h*o+a,y=d*r+i,m=p*o+a,v=r*l*c,b=o*l*c;e.push(f-v*h,g+b*u,y+v*p,m-b*d,y,m)}for(var y=0;y<s;){var m=o[y++],v=1===y;switch(v&&(c=o[y],u=o[y+1],h=c,d=u,m!==_v.L&&m!==_v.C&&m!==_v.Q||(e=[h,d])),m){case _v.M:c=h=o[y++],u=d=o[y++],p(h,d);break;case _v.L:n=o[y++],i=o[y++],f(c,u,n,i),c=n,u=i;break;case _v.C:e.push(o[y++],o[y++],o[y++],o[y++],c=o[y++],u=o[y++]);break;case _v.Q:n=o[y++],i=o[y++],a=o[y++],r=o[y++],e.push(c+2/3*(n-c),u+2/3*(i-u),a+2/3*(n-a),r+2/3*(i-r),a,r),c=a,u=r;break;case _v.A:var b=o[y++],x=o[y++],_=o[y++],S=o[y++],w=o[y++],O=o[y++]+w;y+=1;var M=!o[y++];n=Math.cos(w)*_+b,i=Math.sin(w)*S+x,v?(h=n,d=i,p(h,d)):f(c,u,n,i),c=Math.cos(O)*_+b,u=Math.sin(O)*S+x;for(var I=(M?-1:1)*Math.PI/2,j=w;M?j>O:j<O;j+=I){var C=M?Math.max(j+I,O):Math.min(j+I,O);g(j,C,b,x,_,S)}break;case _v.R:h=c=o[y++],d=u=o[y++],n=h+o[y++],i=d+o[y++],p(n,d),f(n,d,n,i),f(n,i,h,i),f(h,i,h,d),f(h,d,n,d);break;case _v.Z:e&&f(c,u,h,d),c=h,u=d;break}}return e&&e.length>2&&l.push(e),l}function Ov(t,e,n,i,a,r,o,s,l,c){if(Sv(t,n)&&Sv(e,i)&&Sv(a,o)&&Sv(r,s))l.push(o,s);else{var u=2/c,h=u*u,d=o-t,p=s-e,f=Math.sqrt(d*d+p*p);d/=f,p/=f;var g=n-t,y=i-e,m=a-o,v=r-s,b=g*g+y*y,x=m*m+v*v;if(b<h&&x<h)l.push(o,s);else{var _=d*g+p*y,S=-d*m-p*v,w=b-_*_,O=x-S*S;if(w<h&&_>=0&&O<h&&S>=0)l.push(o,s);else{var M=[],I=[];Object(br["g"])(t,n,a,o,.5,M),Object(br["g"])(e,i,r,s,.5,I),Ov(M[0],I[0],M[1],I[1],M[2],I[2],M[3],I[3],l,c),Ov(M[4],I[4],M[5],I[5],M[6],I[6],M[7],I[7],l,c)}}}}function Mv(t,e){var n=wv(t),i=[];e=e||1;for(var a=0;a<n.length;a++){var r=n[a],o=[],s=r[0],l=r[1];o.push(s,l);for(var c=2;c<r.length;){var u=r[c++],h=r[c++],d=r[c++],p=r[c++],f=r[c++],g=r[c++];Ov(s,l,u,h,d,p,f,g,o,e),s=f,l=g}i.push(o)}return i}function Iv(t,e,n){var i=t[e],a=t[1-e],r=Math.abs(i/a),o=Math.ceil(Math.sqrt(r*n)),s=Math.floor(n/o);0===s&&(s=1,o=n);for(var l=[],c=0;c<o;c++)l.push(s);var u=o*s,h=n-u;if(h>0)for(c=0;c<h;c++)l[c%o]+=1;return l}function jv(t,e,n){for(var i=t.r0,a=t.r,r=t.startAngle,o=t.endAngle,s=Math.abs(o-r),l=s*a,c=a-i,u=l>Math.abs(c),h=Iv([l,c],u?0:1,e),d=(u?s:c)/h.length,p=0;p<h.length;p++)for(var f=(u?c:s)/h[p],g=0;g<h[p];g++){var y={};u?(y.startAngle=r+d*p,y.endAngle=r+d*(p+1),y.r0=i+f*g,y.r=i+f*(g+1)):(y.startAngle=r+f*g,y.endAngle=r+f*(g+1),y.r0=i+d*p,y.r=i+d*(p+1)),y.clockwise=t.clockwise,y.cx=t.cx,y.cy=t.cy,n.push(y)}}function Cv(t,e,n){for(var i=t.width,a=t.height,r=i>a,o=Iv([i,a],r?0:1,e),s=r?"width":"height",l=r?"height":"width",c=r?"x":"y",u=r?"y":"x",h=t[s]/o.length,d=0;d<o.length;d++)for(var p=t[l]/o[d],f=0;f<o[d];f++){var g={};g[c]=d*h,g[u]=f*p,g[s]=h,g[l]=p,g.x+=t.x,g.y+=t.y,n.push(g)}}function Av(t,e,n,i){return t*i-n*e}function Dv(t,e,n,i,a,r,o,s){var l=n-t,c=i-e,u=o-a,h=s-r,d=Av(u,h,l,c);if(Math.abs(d)<1e-6)return null;var p=t-a,f=e-r,g=Av(p,f,u,h)/d;return g<0||g>1?null:new qr["a"](g*l+t,g*c+e)}function Tv(t,e,n){var i=new qr["a"];qr["a"].sub(i,n,e),i.normalize();var a=new qr["a"];qr["a"].sub(a,t,e);var r=a.dot(i);return r}function Lv(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function Pv(t,e,n){for(var i=t.length,a=[],r=0;r<i;r++){var o=t[r],s=t[(r+1)%i],l=Dv(o[0],o[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&a.push({projPt:Tv(l,e,n),pt:l,idx:r})}if(a.length<2)return[{points:t},{points:t}];a.sort((function(t,e){return t.projPt-e.projPt}));var c=a[0],u=a[a.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var d=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],f=[d],g=[p];for(r=c.idx+1;r<=u.idx;r++)Lv(f,t[r].slice());Lv(f,p),Lv(f,d);for(r=u.idx+1;r<=c.idx+i;r++)Lv(g,t[r%i].slice());return Lv(g,d),Lv(g,p),[{points:f},{points:g}]}function kv(t){var e=t.points,n=[],i=[];Object(ta["d"])(e,n,i);var a=new ie["a"](n[0],n[1],i[0]-n[0],i[1]-n[1]),r=a.width,o=a.height,s=a.x,l=a.y,c=new qr["a"],u=new qr["a"];return r>o?(c.x=u.x=s+r/2,c.y=l,u.y=l+o):(c.y=u.y=l+o/2,c.x=s,u.x=s+r),Pv(e,c,u)}function Nv(t,e,n,i){if(1===n)i.push(e);else{var a=Math.floor(n/2),r=t(e);Nv(t,r[0],a,i),Nv(t,r[1],n-a,i)}return i}function Rv(t,e){for(var n=[],i=0;i<e;i++)n.push(Object(ke["a"])(t));return n}function Ev(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function zv(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function Vv(t,e){var n,i=[],a=t.shape;switch(t.type){case"rect":Cv(a,e,i),n=De["a"];break;case"sector":jv(a,e,i),n=Nu["a"];break;case"circle":jv({r0:0,r:a.r,startAngle:0,endAngle:2*Math.PI,cx:a.cx,cy:a.cy},e,i),n=Nu["a"];break;default:var r=t.getComputedTransform(),o=r?Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3])):1,s=Object(b["map"])(Mv(t.getUpdatedPathProxy(),o),(function(t){return zv(t)})),l=s.length;if(0===l)Nv(kv,{points:s[0]},e,i);else if(l===e)for(var c=0;c<l;c++)i.push({points:s[c]});else{var u=0,h=Object(b["map"])(s,(function(t){var e=[],n=[];Object(ta["d"])(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return u+=i,{poly:t,area:i}}));h.sort((function(t,e){return e.area-t.area}));var d=e;for(c=0;c<l;c++){var p=h[c];if(d<=0)break;var f=c===l-1?d:Math.ceil(p.area/u*e);f<0||(Nv(kv,{points:p.poly},f,i),d-=f)}}n=Ie["a"];break}if(!n)return Rv(t,e);var g=[];for(c=0;c<i.length;c++){var y=new n;y.setShape(i[c]),Ev(t,y),g.push(y)}return g}function Bv(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var a=[],r=[],o=n<i?t:e,s=Math.min(n,i),l=Math.abs(i-n)/6,c=(s-2)/6,u=Math.ceil(l/c)+1,h=[o[0],o[1]],d=l,p=2;p<s;){var f=o[p-2],g=o[p-1],y=o[p++],m=o[p++],v=o[p++],b=o[p++],x=o[p++],_=o[p++];if(d<=0)h.push(y,m,v,b,x,_);else{for(var S=Math.min(d,u-1)+1,w=1;w<=S;w++){var O=w/S;Object(br["g"])(f,y,v,x,O,a),Object(br["g"])(g,m,b,_,O,r),f=a[3],g=r[3],h.push(a[1],r[1],a[2],r[2],f,g),y=a[5],m=r[5],v=a[6],b=r[6]}d-=S-1}}return o===t?[h,e]:[t,h]}function Gv(t,e){for(var n=t.length,i=t[n-2],a=t[n-1],r=[],o=0;o<e.length;)r[o++]=i,r[o++]=a;return r}function Fv(t,e){for(var n,i,a,r=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],c=e[s],u=void 0,h=void 0;l?c?(n=Bv(l,c),u=n[0],h=n[1],i=u,a=h):(h=Gv(a||l,l),u=l):(u=Gv(i||c,c),h=c),r.push(u),o.push(h)}return[r,o]}function Wv(t){for(var e=0,n=0,i=0,a=t.length,r=0,o=a-2;r<a;o=r,r+=2){var s=t[o],l=t[o+1],c=t[r],u=t[r+1],h=s*u-c*l;e+=h,n+=(s+c)*h,i+=(l+u)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function Hv(t,e,n,i){for(var a=(t.length-2)/6,r=1/0,o=0,s=t.length,l=s-2,c=0;c<a;c++){for(var u=6*c,h=0,d=0;d<s;d+=2){var p=0===d?u:(u+d-2)%l+2,f=t[p]-n[0],g=t[p+1]-n[1],y=e[d]-i[0],m=e[d+1]-i[1],v=y-f,b=m-g;h+=v*v+b*b}h<r&&(r=h,o=c)}return o}function Yv(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function Xv(t,e,n,i){for(var a,r=[],o=0;o<t.length;o++){var s=t[o],l=e[o],c=Wv(s),u=Wv(l);null==a&&(a=c[2]<0!==u[2]<0);var h=[],d=[],p=0,f=1/0,g=[],y=s.length;a&&(s=Yv(s));for(var m=6*Hv(s,l,c,u),v=y-2,b=0;b<v;b+=2){var x=(m+b)%v+2;h[b+2]=s[x]-c[0],h[b+3]=s[x+1]-c[1]}if(h[0]=s[m]-c[0],h[1]=s[m+1]-c[1],n>0)for(var _=i/n,S=-i/2;S<=i/2;S+=_){var w=Math.sin(S),O=Math.cos(S),M=0;for(b=0;b<s.length;b+=2){var I=h[b],j=h[b+1],C=l[b]-u[0],A=l[b+1]-u[1],D=C*O-A*w,T=C*w+A*O;g[b]=D,g[b+1]=T;var L=D-I,P=T-j;M+=L*L+P*P}if(M<f){f=M,p=S;for(var k=0;k<g.length;k++)d[k]=g[k]}}else for(var N=0;N<y;N+=2)d[N]=l[N]-u[0],d[N+1]=l[N+1]-u[1];r.push({from:h,to:d,fromCp:c,toCp:u,rotation:-p})}return r}function Uv(t){return t.__isCombineMorphing}var Zv="__mOriginal_";function qv(t,e,n){var i=Zv+e,a=t[i]||t[e];t[i]||(t[i]=t[e]);var r=n.replace,o=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=r?r.apply(this,e):a.apply(this,e),o&&o.apply(this,e),t}}function Jv(t,e){var n=Zv+e;t[n]&&(t[e]=t[n],t[n]=null)}function Kv(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],a=0;a<i.length;){var r=i[a],o=i[a+1];i[a++]=e[0]*r+e[2]*o+e[4],i[a++]=e[1]*r+e[3]*o+e[5]}}function $v(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),a=Fv(wv(n),wv(i)),r=a[0],o=a[1],s=t.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}s&&Kv(r,s),l&&Kv(o,l),qv(e,"updateTransform",{replace:c}),e.transform=null;var u=Xv(r,o,10,Math.PI),h=[];qv(e,"buildPath",{replace:function(t){for(var n=e.__morphT,i=1-n,a=[],r=0;r<u.length;r++){var o=u[r],s=o.from,l=o.to,c=o.rotation*n,d=o.fromCp,p=o.toCp,f=Math.sin(c),g=Math.cos(c);Object(hi["lerp"])(a,d,p,n);for(var y=0;y<s.length;y+=2){var m=s[y],v=s[y+1],b=l[y],x=l[y+1],_=m*i+b*n,S=v*i+x*n;h[y]=_*g-S*f+a[0],h[y+1]=_*f+S*g+a[1]}var w=h[0],O=h[1];t.moveTo(w,O);for(y=2;y<s.length;){b=h[y++],x=h[y++];var M=h[y++],I=h[y++],j=h[y++],C=h[y++];w===b&&O===x&&M===j&&I===C?t.lineTo(j,C):t.bezierCurveTo(b,x,M,I,j,C),w=j,O=C}}}})}function Qv(t,e,n){if(!t||!e)return e;var i=n.done,a=n.during;function r(){Jv(e,"buildPath"),Jv(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return $v(t,e),e.__morphT=0,e.animateTo({__morphT:1},Object(b["defaults"])({during:function(t){e.dirtyShape(),a&&a(t)},done:function(){r(),i&&i()}},n)),e}function tb(t,e,n,i,a,r){var o=16;t=a===n?0:Math.round(32767*(t-n)/(a-n)),e=r===i?0:Math.round(32767*(e-i)/(r-i));for(var s,l=0,c=(1<<o)/2;c>0;c/=2){var u=0,h=0;(t&c)>0&&(u=1),(e&c)>0&&(h=1),l+=c*c*(3*u^h),0===h&&(1===u&&(t=c-1-t,e=c-1-e),s=t,t=e,e=s)}return l}function eb(t){var e=1/0,n=1/0,i=-1/0,a=-1/0,r=Object(b["map"])(t,(function(t){var r=t.getBoundingRect(),o=t.getComputedTransform(),s=r.x+r.width/2+(o?o[4]:0),l=r.y+r.height/2+(o?o[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),a=Math.max(l,a),[s,l]})),o=Object(b["map"])(r,(function(r,o){return{cp:r,z:tb(r[0],r[1],e,n,i,a),path:t[o]}}));return o.sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function nb(t){return Vv(t.path,t.count)}function ib(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ab(t,e,n){var i=[];function a(t){for(var e=0;e<t.length;e++){var n=t[e];Uv(n)?a(n.childrenRef()):n instanceof s["b"]&&i.push(n)}}a(t);var r=i.length;if(!r)return ib();var o=n.dividePath||nb,l=o({path:e,count:r});if(l.length!==r)return console.error("Invalid morphing: unmatched splitted path"),ib();i=eb(i),l=eb(l);for(var c=n.done,u=n.during,h=n.individualDelay,d=new B["c"],p=0;p<r;p++){var f=i[p],g=l[p];g.parent=e,g.copyTransform(d),h||$v(f,g)}function y(t){for(var e=0;e<l.length;e++)l[e].addSelfToZr(t)}function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Jv(e,"addSelfToZr"),Jv(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return l},qv(e,"addSelfToZr",{after:function(t){y(t)}}),qv(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<l.length;e++)l[e].removeSelfFromZr(t)}});var v=l.length;if(h){var x=v,_=function(){x--,0===x&&(m(),c&&c())};for(p=0;p<v;p++){var S=h?Object(b["defaults"])({delay:(n.delay||0)+h(p,v,i[p],l[p]),done:_},n):n;Qv(i[p],l[p],S)}}else e.__morphT=0,e.animateTo({__morphT:1},Object(b["defaults"])({during:function(t){for(var n=0;n<v;n++){var i=l[n];i.__morphT=e.__morphT,i.dirtyShape()}u&&u(t)},done:function(){m();for(var e=0;e<t.length;e++)Jv(t[e],"updateTransform");c&&c()}},n));return e.__zr&&y(e.__zr),{fromIndividuals:i,toIndividuals:l,count:v}}function rb(t,e,n){var i=e.length,a=[],r=n.dividePath||nb;function o(t){for(var e=0;e<t.length;e++){var n=t[e];Uv(n)?o(n.childrenRef()):n instanceof s["b"]&&a.push(n)}}if(Uv(t)){o(t.childrenRef());var l=a.length;if(l<i)for(var c=0,u=l;u<i;u++)a.push(Object(ke["a"])(a[c++%l]));a.length=i}else{a=r({path:t,count:i});var h=t.getComputedTransform();for(u=0;u<a.length;u++)a[u].setLocalTransform(h);if(a.length!==i)return console.error("Invalid morphing: unmatched splitted path"),ib()}a=eb(a),e=eb(e);var d=n.individualDelay;for(u=0;u<i;u++){var p=d?Object(b["defaults"])({delay:(n.delay||0)+d(u,i,a[u],e[u])},n):n;Qv(a[u],e[u],p)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function ob(t){return Object(b["isArray"])(t[0])}function sb(t,e){for(var n=[],i=t.length,a=0;a<i;a++)n.push({one:t[a],many:[]});for(a=0;a<e.length;a++){var r=e[a].length,o=void 0;for(o=0;o<r;o++)n[o%i].many.push(e[a][o])}var s=0;for(a=i-1;a>=0;a--)if(!n[a].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}r=l.length;var c=Math.ceil(r/2);n[a].many=l.slice(c,r),n[s].many=l.slice(0,c),s++}return n}var lb={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var a=Object(ke["a"])(t.path);a.setStyle("opacity",n),e.push(a)}return e},split:null};function cb(t,e,n,i,a,r){if(t.length&&e.length){var o=Object(Me["a"])("update",i,a);if(o&&o.duration>0){var s,l,c=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o);ob(t)&&(s=t,l=e),ob(e)&&(s=e,l=t);for(var h=s?s===t:t.length>e.length,d=s?sb(l,s):sb(h?e:t,[h?t:e]),p=0,f=0;f<d.length;f++)p+=d[f].many.length;var g=0;for(f=0;f<d.length;f++)y(d[f],h,g,p),g+=d[f].many.length}}function y(t,e,i,a,o){var s=t.many,l=t.one;if(1!==s.length||o)for(var h=Object(b["defaults"])({dividePath:lb[n],individualDelay:c&&function(t,e,n,r){return c(t+i,a)}},u),d=e?ab(s,l,h):rb(l,s,h),p=d.fromIndividuals,f=d.toIndividuals,g=p.length,m=0;m<g;m++){_=c?Object(b["defaults"])({delay:c(m,g)},u):u;r(p[m],f[m],e?s[m]:t.one,e?t.one:s[m],_)}else{var v=e?s[0]:l,x=e?l:s[0];if(Uv(v))y({many:[v],one:x},!0,i,a,!0);else{var _=c?Object(b["defaults"])({delay:c(i,a)},u):u;Qv(v,x,_),r(v,x,v,x,_)}}}}function ub(t){if(!t)return[];if(Object(b["isArray"])(t)){for(var e=[],n=0;n<t.length;n++)e.push(ub(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof s["b"]&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var hb=1e4,db=Object(Rn["o"])();function pb(t){for(var e=t.dimensions,n=0;n<e.length;n++){var i=t.getDimensionInfo(e[n]);if(i&&0===i.otherDims.itemGroupId)return e[n]}}function fb(t){var e=[];return Object(b["each"])(t,(function(t){var n=t.data;if(!(n.count()>hb))for(var i=n.getIndices(),a=pb(n),r=0;r<i.length;r++)e.push({data:n,dim:t.dim||a,divide:t.divide,dataIndex:r})})),e}function gb(t,e,n){t.traverse((function(t){t instanceof s["b"]&&Object(Me["c"])(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function yb(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function mb(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function vb(t,e,n){var i=Object(Me["a"])("update",n,e);i&&t.traverse((function(t){if(t instanceof Nn["c"]){var e=Object(Me["b"])(t);e&&t.animateFrom({style:e},i)}}))}function bb(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var a=t[i],r=e[i];if(a.data.getId(a.dataIndex)!==r.data.getId(r.dataIndex))return!1}return!0}function xb(t,e,n){var i=fb(t),a=fb(e);function r(t,e,n,i,a){(n||t)&&e.animateFrom({style:n&&n!==t?Object(b["extend"])(Object(b["extend"])({},n.style),t.style):t.style},a)}function o(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var l=o(i),c=o(a),u=!1;function h(t,e){return function(n){var i=n.data,a=n.dataIndex;if(e)return i.getId(a);var r=i.hostModel&&i.hostModel.get("dataGroupId"),o=t?l||c:c||l,s=o&&i.getDimensionInfo(o),u=s&&s.ordinalMeta;if(s){var h=i.get(s.name,a);return u&&u.categories[h]||h+""}var d=i.getRawDataItem(a);return d&&d.groupId?d.groupId+"":r||i.getId(a)}}var d=bb(i,a),p={};if(!d)for(var f=0;f<a.length;f++){var g=a[f],y=g.data.getItemGraphicEl(g.dataIndex);y&&(p[y.id]=!0)}function m(t,e){var n=i[e],o=a[t],s=o.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),c=o.data.getItemGraphicEl(o.dataIndex);l!==c?l&&p[l.id]||c&&(mb(c),l?(mb(l),yb(l),u=!0,cb(ub(l),ub(c),o.divide,s,t,r)):gb(c,s,t)):c&&vb(c,o.dataIndex,s)}new Ou["a"](i,a,h(!0,d),h(!1,d),null,"multiple").update(m).updateManyToOne((function(t,e){var n=a[t],o=n.data,s=o.hostModel,l=o.getItemGraphicEl(n.dataIndex),c=Object(b["filter"])(Object(b["map"])(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==l&&!p[t.id]}));l&&(mb(l),c.length?(Object(b["each"])(c,(function(t){mb(t),yb(t)})),u=!0,cb(ub(c),ub(l),n.divide,s,t,r)):gb(l,s,n.dataIndex))})).updateOneToMany((function(t,e){var n=i[e],o=n.data.getItemGraphicEl(n.dataIndex);if(!o||!p[o.id]){var s=Object(b["filter"])(Object(b["map"])(t,(function(t){return a[t].data.getItemGraphicEl(a[t].dataIndex)})),(function(t){return t&&t!==o})),l=a[t[0]].data.hostModel;s.length&&(Object(b["each"])(s,(function(t){return mb(t)})),o?(mb(o),yb(o),u=!0,cb(ub(o),ub(s),n.divide,l,t[0],r)):Object(b["each"])(s,(function(e){return gb(e,l,t[0])})))}})).updateManyToMany((function(t,e){new Ou["a"](e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return a[t].data.getId(a[t].dataIndex)})).update((function(n,i){m(t[n],e[i])})).execute()})).execute(),u&&Object(b["each"])(e,(function(t){var e=t.data,i=e.hostModel,a=i&&n.getViewOfSeriesModel(i),r=Object(Me["a"])("update",i,0);a&&i.isAnimationEnabled()&&r&&r.duration>0&&a.group.traverse((function(t){t instanceof s["b"]&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)}))}))}function _b(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function Sb(t){return Object(b["isArray"])(t)?t.sort().join(","):t}function wb(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function Ob(t,e){var n=Object(b["createHashMap"])(),i=Object(b["createHashMap"])(),a=Object(b["createHashMap"])();return Object(b["each"])(t.oldSeries,(function(e,n){var r=t.oldData[n],o=_b(e),s=Sb(o);i.set(s,r),Object(b["isArray"])(o)&&Object(b["each"])(o,(function(t){a.set(t,{data:r,key:s})}))})),Object(b["each"])(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),r=_b(t),o=Sb(r),s=i.get(o);if(s)n.set(o,{oldSeries:[{divide:wb(s),data:s}],newSeries:[{divide:wb(e),data:e}]});else if(Object(b["isArray"])(r)){0;var l=[];Object(b["each"])(r,(function(t){var e=i.get(t);e&&l.push({divide:wb(e),data:e})})),l.length&&n.set(o,{oldSeries:l,newSeries:[{data:e,divide:wb(e)}]})}else{var c=a.get(r);if(c){var u=n.get(c.key);u||(u={oldSeries:[{data:c.data,divide:wb(c.data)}],newSeries:[]},n.set(c.key,u)),u.newSeries.push({data:e,divide:wb(e)})}}}})),n}function Mb(t,e){for(var n=0;n<t.length;n++){var i=null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id;if(i)return n}}function Ib(t,e,n,i){var a=[],r=[];Object(b["each"])(Object(Rn["r"])(t.from),(function(t){var n=Mb(e.oldSeries,t);n>=0&&a.push({data:e.oldData[n],divide:wb(e.oldData[n]),dim:t.dimension})})),Object(b["each"])(Object(Rn["r"])(t.to),(function(t){var e=Mb(n.updatedSeries,t);if(e>=0){var i=n.updatedSeries[e].getData();r.push({data:i,divide:wb(i),dim:t.dimension})}})),a.length>0&&r.length>0&&xb(a,r,i)}function jb(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){Object(b["each"])(Object(Rn["r"])(n.seriesTransition),(function(t){Object(b["each"])(Object(Rn["r"])(t.to),(function(t){for(var e=n.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][Qt["a"]]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var i=db(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)Object(b["each"])(Object(Rn["r"])(a),(function(t){Ib(t,i,n,e)}));else{var r=Ob(i,n);Object(b["each"])(r.keys(),(function(t){var n=r.get(t);xb(n.oldSeries,n.newSeries,e)}))}Object(b["each"])(n.updatedSeries,(function(t){t[Qt["a"]]&&(t[Qt["a"]]=!1)}))}for(var o=t.getSeries(),s=i.oldSeries=[],l=i.oldData=[],c=0;c<o.length;c++){var u=o[c].getData();u.count()<hb&&(s.push(o[c]),l.push(u))}}))}var Cb=n("ee29");Object(i["a"])([r["a"]]),Object(i["a"])([Ut]),Object(i["a"])([Zt["a"],qt["a"],Jt["a"],me,ve["a"],zi,Sa,wa["a"],Ur,Zr["a"],lo,_s,tl,Sl,$l,oc,Tc,Wc,Su,ku,ah,kd]),Object(i["a"])(Nd["a"]),Object(i["a"])(Pp),Object(i["a"])(Ei),Object(i["a"])(sf),Object(i["a"])(xs),Object(i["a"])(vf),Object(i["a"])(Rf),Object(i["a"])(Ef["a"]),Object(i["a"])(zf["a"]),Object(i["a"])(Wd["a"]),Object(i["a"])(Sg),Object(i["a"])(wg["a"]),Object(i["a"])(Jg),Object(i["a"])(wy),Object(i["a"])(Ny),Object(i["a"])(Zy),Object(i["a"])(qy["a"]),Object(i["a"])(Jy["a"]),Object(i["a"])(Ky["a"]),Object(i["a"])($y["a"]),Object(i["a"])(qm),Object(i["a"])(Gm),Object(i["a"])(Zm),Object(i["a"])(nv),Object(i["a"])(bv),Object(i["a"])(xv["a"]),Object(i["a"])(jb),Object(i["a"])(Cb["a"])},4162:function(t,e,n){"use strict";n("fdb3")},4852:function(t,e,n){"use strict";n("808e")},"4e82":function(t,e,n){"use strict";var i=n("23e7"),a=n("1c0b"),r=n("7b0b"),o=n("50c4"),s=n("577e"),l=n("d039"),c=n("addb"),u=n("a640"),h=n("04d1"),d=n("d998"),p=n("2d00"),f=n("512ce"),g=[],y=g.sort,m=l((function(){g.sort(void 0)})),v=l((function(){g.sort(null)})),b=u("sort"),x=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(d)return!0;if(f)return f<603;var t,e,n,i,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:e+i,v:n})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),_=m||!v||!b||!x,S=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}};i({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&a(t);var e=r(this);if(x)return void 0===t?y.call(e):y.call(e,t);var n,i,s=[],l=o(e.length);for(i=0;i<l;i++)i in e&&s.push(e[i]);s=c(s,S(t)),n=s.length,i=0;while(i<n)e[i]=s[i++];while(i<l)delete e[i++];return e}})},"4ebf":function(t,e,n){},"512ce":function(t,e,n){var i=n("342f"),a=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"665c":function(t,e,n){"use strict";n("e948")},7037:function(t,e,n){function i(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=i=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),i(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"808e":function(t,e,n){},"818e":function(t,e,n){"use strict";n("f77f")},"81d5":function(t,e,n){"use strict";var i=n("7b0b"),a=n("23cb"),r=n("50c4");t.exports=function(t){var e=i(this),n=r(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:a(l,n);while(c>s)e[s++]=t;return e}},"870f":function(t,e,n){"use strict";n("2a72")},"944a2":function(t,e,n){var i=n("746f");i("toStringTag")},a2e2:function(t,e,n){"use strict";n("1f77")},acc9:function(t,e,n){"use strict";n("d39c")},addb:function(t,e){var n=Math.floor,i=function(t,e){var o=t.length,s=n(o/2);return o<8?a(t,e):r(i(t.slice(0,s),e),i(t.slice(s),e),e)},a=function(t,e){var n,i,a=t.length,r=1;while(r<a){i=r,n=t[r];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==r++&&(t[i]=n)}return t},r=function(t,e,n){var i=t.length,a=e.length,r=0,o=0,s=[];while(r<i||o<a)r<i&&o<a?s.push(n(t[r],e[o])<=0?t[r++]:e[o++]):s.push(r<i?t[r++]:e[o++]);return s};t.exports=i},ae77:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-statistics"},t._l(Object.values(t.statisticsMap),(function(e,i){return n("section",{key:i,style:{backgroundColor:e.color}},[n("div",{staticClass:"left"},[n("div",{staticClass:"label text"},[t._v(t._s(t._f("emptyTip")(e.label)))]),n("div",{staticClass:"value text"},[t._v(t._s(t._f("emptyTip")(t.statisticsData[e.key])))]),n("div",{staticClass:"rate text"},[t._v(t._s(t._f("emptyTip")(t.statisticsData[e.rateKey]))+" 同昨日相比")])]),n("div",{staticClass:"right"},[n("i",{class:e.icon})])])})),0)},a=[],r={name:"HomeStatistics",data:function(){return{statisticsMap:{users:{color:"var(--blue-400)",icon:"iconfont icon-md-contact",label:"用户",key:"userCount",rateKey:"userRate"},manage:{color:"var(--green-400)",icon:"iconfont icon-robot-line",label:"管理员",key:"manageCount",rateKey:"manageRate"},article:{color:"var(--indigo-400)",icon:"iconfont icon-pen-fill",label:"文章",key:"articleCount",rateKey:"articleRate"},file:{color:"var(--red-400)",icon:"iconfont icon-a-documentationupload-line",label:"资源文件",key:"fileCount",rateKey:"fileRate"}},statisticsData:{}}},mounted:function(){this.queryOverview()},methods:{queryOverview:function(){var t=this;this.API.overview({},{notify:!1}).then((function(e){t.statisticsData=e.data}))}}},o=r,s=(n("a2e2"),n("2877")),l=Object(s["a"])(o,i,a,!1,null,"4aaae59e",null);e["default"]=l.exports},b3d7:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("HomeStatistics"),n("HomeVisitor",{attrs:{visitor:t.visitorStatus}}),n("HomeSystem",{attrs:{system:t.systemStatus}}),n("el-tabs",{staticClass:"tab-group",attrs:{type:"border-card"}},[n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-place"}),t._v(" UV矩阵 "+t._s(t.uvs.length)+" ")]),n("div",{staticClass:"w-full h-px-400"},[n("HomeRelation",{attrs:{chartData:t.uvs}})],1)]),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-aim"}),t._v(" 逆向链接 "+t._s(t.referers.length)+" ")]),n("div",{staticClass:"w-full h-px-400"},[n("HomeMatrix",{attrs:{chartData:t.referers}})],1)]),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-coin"}),t._v(" 主机记录 "+t._s(t.hosts.length)+" ")]),n("div",{staticClass:"w-full h-px-400"},[n("HomeWordCloud",{attrs:{chartData:t.hosts}})],1)]),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-document"}),t._v(" 可疑请求 "+t._s(t.dubious.length)+" ")]),n("div",{staticClass:"w-full h-px-400"},[n("HomeSheet",{attrs:{tableData:t.dubious,tableMap:t.dubiousMap}})],1)]),n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-connection"}),t._v(" 操作记录 "+t._s(t.traces.length)+" ")]),n("div",{staticClass:"w-full h-px-400"},[n("HomeSheet",{attrs:{tableData:t.traces,tableMap:t.tracesMap}})],1)])],1)],1)},a=[],r=n("5530"),o=(n("99af"),n("b64b"),n("d81d"),n("b0c0"),n("a434"),n("ae77")),s=n("180c"),l=n("fb5f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"matrix-chart"},[n("div",{staticClass:"chart",attrs:{id:t.chartId}})])},u=[],h=(n("ed16"),{name:"MatrixChart",props:{chartData:{type:Array,default:function(){return[]}}},watch:{chartData:{handler:function(t){this.initChart()},deep:!0}},computed:{chartId:function(){return String(this.TOOL.getUid(4,6))}},methods:{initChart:function(){var t=this,e={tooltip:{trigger:"item",formatter:function(t){return"逆向链接：".concat(t.data.name?t.data.name:"--")}},series:[{type:"treemap",width:"100%",height:"100%",bottom:"0",roam:!1,nodeClick:!1,breadcrumb:{show:!1},label:{normal:{show:!0,position:["10%","40%"]}},itemStyle:{normal:{show:!0,textStyle:{color:"#fff",fontSize:16},borderWidth:8,borderColor:"#fff"},emphasis:{label:{show:!0}}},data:this.chartData}]};if(!this.chart){var n=document.getElementById(this.chartId);this.chart=this.$echarts.init(n),this.chartObserve=new ResizeObserver((function(e){t.chart.resize()})),this.chartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(n)}))}this.chart.setOption(e),this.chart.on("click",(function(e){t.TOOL.copyTextToClip(e.name,"拷贝成功")}))}}}),d=h,p=(n("4852"),n("2877")),f=Object(p["a"])(d,c,u,!1,null,"25a88b94",null),g=f.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relation-chart"},[n("div",{staticClass:"chart",attrs:{id:t.chartId}})])},m=[],v={name:"RelationChart",props:{chartData:{type:Array,default:function(){return[]}}},watch:{chartData:{handler:function(t){this.initChart()},deep:!0}},computed:{chartId:function(){return String(this.TOOL.getUid(4,6))}},methods:{initChart:function(){var t=this,e={tooltip:{trigger:"item",formatter:function(t){return"IP地址：".concat(t.data.name," </br> 访问次数：").concat(t.data.value)}},animationDurationUpdate:function(t){return 100*t},animationEasingUpdate:"bounceIn",color:["#fff","#fff","#fff"],series:[{type:"graph",layout:"force",force:{repulsion:500,edgeLength:10},roam:!0,label:{normal:{show:!0}},data:this.chartData}]};if(!this.chart){var n=document.getElementById(this.chartId);this.chart=this.$echarts.init(n),this.chartObserve=new ResizeObserver((function(e){t.chart.resize()})),this.chartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(n)}))}this.chart.setOption(e)}}},b=v,x=(n("acc9"),Object(p["a"])(b,y,m,!1,null,"97c9d61c",null)),_=x.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sheet"},[n("el-table",{staticClass:"table-group",attrs:{data:t.displayTableData,stripe:!0,border:!0,"max-height":"360","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),t._l(t.tableMap,(function(e,i){return n("el-table-column",{key:i,attrs:{label:e.label,width:e.width,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[n("div",{staticClass:"text"},[t._v(t._s(t._f("emptyTip")(i.row[e.key])))])]}}],null,!0)})}))],2),n("el-pagination",{staticClass:"w-full flex mt-px-20",attrs:{"page-sizes":[10,20,50,100],"current-page":t.currentPage,pageSize:t.pageSize,total:t.total,"popper-class":"page-size-popper",layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":t.handlePageSizeChange,"current-change":t.handleCurrentPageChange}})],1)},w=[],O=(n("fb6a"),{name:"Sheet",props:{tableMap:{type:Array,default:function(){return[{label:"日期",key:"data"}]}},tableData:{type:Array,default:function(){return[{date:"1979-01-01"}]}}},computed:{total:function(){return this.tableData.length},displayTableData:function(){var t=(this.currentPage-1)*this.pageSize,e=this.currentPage*this.pageSize;return this.tableData.slice(t,e)}},data:function(){return{pageSize:10,currentPage:1}},methods:{handlePageSizeChange:function(t){this.pageSize=t},handleCurrentPageChange:function(t){this.currentPage=t}}}),M=O,I=(n("4162"),Object(p["a"])(M,S,w,!1,null,"036df2aa",null)),j=I.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"word-cloud"},[n("div",{staticClass:"chart",attrs:{id:t.chartId}})])},A=[],D={name:"WordCloudChart",props:{chartData:{type:Array,default:function(){return[]}}},watch:{chartData:{handler:function(t){this.initChart()},deep:!0}},computed:{chartId:function(){return String(this.TOOL.getUid(4,6))}},methods:{initChart:function(){var t=this,e={tooltip:{show:!1},series:[{name:"热点分析",type:"wordCloud",textPadding:4,textStyle:{normal:{color:this.TOOL.randomColor()},emphasis:{shadowBlur:10,shadowColor:"#333"}},data:this.chartData}]};if(!this.chart){var n=document.getElementById(this.chartId);this.chart=this.$echarts.init(n),this.chartObserve=new ResizeObserver((function(e){t.chart.resize()})),this.chartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(n)}))}this.chart.setOption(e),this.chart.on("click",(function(e){t.TOOL.copyTextToClip(e.name,"拷贝成功")}))}}},T=D,L=(n("fce0"),Object(p["a"])(T,C,A,!1,null,"1ce27a09",null)),P=L.exports,k=n("2f62"),N={name:"Home",data:function(){return{ws:null,timmer:null,systemStatus:{time:[""],cpu:[],memory:[]},uvs:[],hosts:[],referers:[],dubious:[],dubiousMap:[{label:"站点名",key:"host"},{label:"IP",key:"ip"},{label:"访问链接",key:"url"},{label:"请求方式",key:"method"},{label:"访问时间",key:"time"}],traces:[],tracesMap:[{label:"操作名",key:"operateName"},{label:"访问链接",key:"url"},{label:"站点名",key:"host"},{label:"IP",key:"ip"},{label:"逆向链接",key:"referer"},{label:"请求方式",key:"method"},{label:"访问时间",key:"time"}],visitorStatus:{time:[""],user:[],admin:[],other:[]},statusCount:0,maxStatusCount:240}},components:{HomeStatistics:o["default"],HomeVisitor:s["default"],HomeSystem:l["default"],HomeMatrix:g,HomeRelation:_,HomeWordCloud:P,HomeSheet:j},mounted:function(){this.initWebsocket()},computed:Object(r["a"])({},Object(k["c"])(["manage"])),methods:{initWebsocket:function(){var t=this;this.ws=new WebSocket("".concat(this.CONSTANT.baseWebsocketURL,"?token=").concat(this.manage.token)),this.ws.onopen=function(e){console.log("websocket已连接..."),t.initPoll()},this.ws.onmessage=function(e){t.handleWebSocketMessage(e.data)}},handleWebSocketMessage:function(t){try{t=JSON.parse(t),this.handleSystemStatus(t.system),this.handleVisitorStatus(t.visitor)}catch(e){this.$tips("error","实时通讯失败","top-right",1200)}},handleSystemStatus:function(t){if(0!==Object.keys(t).length){var e=this.systemStatus,n=e.time,i=e.cpu,a=e.memory;n.length>this.maxStatusCount&&(n.shift(),i.shift(),a.shift()),n.push(t.time),i.push(t.cpu),a.push(t.memory),this.systemStatus={time:n,cpu:i,memory:a}}},handleVisitorStatus:function(t){var e=this;if(0!==Object.keys(t).length){var n=this.visitorStatus,i=n.time,a=n.user,o=n.admin,s=n.other;i.length>this.maxStatusCount&&(i.shift(),a.shift(),o.shift(),s.shift()),i.push(t.time),a.push(t.userPV),o.push(t.managePV),s.push(t.otherPV),this.visitorStatus={time:i,user:a,admin:o,other:s};var l=t.ipMap,c=t.referers,u=t.hosts,h=t.dubious,d=t.traces;Object.keys(l).map((function(t){var n,i;if(n=e.uvs.some((function(e,n){if(e.name===t)return i=n,e})),n){var a=Object(r["a"])({},e.uvs[i]);a.value=l[t],e.uvs.splice(i,1,a)}else e.uvs.push({name:t,value:l[t],symbolSize:l[t]<=30?30:l[t],draggable:!1,itemStyle:{normal:{color:e.TOOL.randomColor()}}})})),c.map((function(t){var n=e.referers.some((function(e){return e.name===t}));n||e.referers.push({name:t,value:2})})),u.map((function(t){var n=e.hosts.some((function(e){return e.name===t}));n||e.hosts.push({name:t,value:2})})),h.map((function(t){var n=e.dubious.some((function(e){return e.uid===t.uid}));n||e.dubious.push(Object(r["a"])({},t))})),d.map((function(t){var n=e.traces.some((function(e){return e.uid===t.uid}));n||e.traces.push(Object(r["a"])({},t))}))}},initPoll:function(){var t=this;this.timmer=this.TOOL.timeout2Interval((function(){t.ws&&1===t.ws.readyState&&t.ws.send(JSON.stringify(["system","visitor"]))}),1e4,!0)}},destroyed:function(){this.ws&&this.ws.close(),this.timmer&&this.timmer.clear()}},R=N,E=(n("870f"),Object(p["a"])(R,i,a,!1,null,"5db06bf7",null));e["default"]=E.exports},cb29:function(t,e,n){var i=n("23e7"),a=n("81d5"),r=n("44d2");i({target:"Array",proto:!0},{fill:a}),r("fill")},d39c:function(t,e,n){},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)},e948:function(t,e,n){},ed16:function(t,e,n){(function(t){var i,a,r,o=n("7037").default;n("cb29"),n("130f"),n("d3b7"),n("25f0"),n("159b"),n("fb6a"),n("a434"),n("99af"),n("b680"),n("4e82"),n("a4d3"),n("e01a"),n("944a2"),n("0c47"),n("23dc"),function(s,l){"object"==o(e)&&"object"==o(t)?t.exports=l(n("313e")):(a=[n("313e")],i=l,r="function"===typeof i?i.apply(e,a):i,void 0===r||(t.exports=r))}(self,(function(t){return function(){"use strict";var e={638:function(t,e,n){n.r(e);var i=n(83);i.extendSeriesModel({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(t){return{fill:t.get("color")}},visualDrawType:"fill",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=i.helper.createDimensions(t.data,{coordDimensions:["value"]}),a=new i.List(n,this);return a.initData(t.data),a},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}}),i.extendChartView({type:"wordCloud",render:function(t,e,n){var a=this.group;a.removeAll();var r=t.getData(),o=t.get("gridSize");t.layoutInstance.ondraw=function(e,n,s,l){var c=r.getItemModel(s),u=c.getModel("textStyle"),h=new i.graphic.Text({style:i.helper.createTextStyle(u),scaleX:1/l.info.mu,scaleY:1/l.info.mu,x:(l.gx+l.info.gw/2)*o,y:(l.gy+l.info.gh/2)*o,rotation:l.rot});h.setStyle({x:l.info.fillTextOffsetX,y:l.info.fillTextOffsetY+.5*n,text:e,verticalAlign:"middle",fill:r.getItemVisual(s,"style").fill,fontSize:n}),a.add(h),r.setItemGraphicEl(s,h),h.ensureState("emphasis").style=i.helper.createTextStyle(c.getModel(["emphasis","textStyle"]),{state:"emphasis"}),h.ensureState("blur").style=i.helper.createTextStyle(c.getModel(["blur","textStyle"]),{state:"blur"}),i.helper.enableHoverEmphasis(h,c.get(["emphasis","focus"]),c.get(["emphasis","blurScope"])),h.stateTransition={duration:t.get("animation")?t.get(["stateAnimation","duration"]):0,easing:t.get(["stateAnimation","easing"])},h.__highDownDispatcher=!0},this._model=t},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message";return window.addEventListener("message",(function(n){if("string"==typeof n.data&&n.data.substr(0,e.length)===e){n.stopImmediatePropagation();var i=parseInt(n.data.substr(e.length),36);t[i]&&(t[i](),t[i]=void 0)}}),!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(n){var i=t.length;return t.push(n),window.postMessage(e+i.toString(36),"*"),i}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});var a=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e&&e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),r=function(){if(a){for(var t,e,n=document.createElement("canvas").getContext("2d"),i=20;i;){if(n.font=i.toString(10)+"px sans-serif",n.measureText("Ｗ").width===t&&n.measureText("m").width===e)return i+1;t=n.measureText("Ｗ").width,e=n.measureText("m").width,i--}return 0}}(),o=function(t){for(var e,n,i=t.length;i;)e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n;return t},s={},l=function(t,e){if(a){var n=Math.floor(Math.random()*Date.now());Array.isArray(t)||(t=[t]),t.forEach((function(e,n){if("string"==typeof e){if(t[n]=document.getElementById(e),!t[n])throw new Error("The element id specified is not found.")}else if(!e.tagName&&!e.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")}));var i={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var l in e)l in i&&(i[l]=e[l]);if("function"!=typeof i.weightFactor){var c=i.weightFactor;i.weightFactor=function(t){return t*c}}if("function"!=typeof i.shape)switch(i.shape){case"circle":default:i.shape="circle";break;case"cardioid":i.shape=function(t){return 1-Math.sin(t)};break;case"diamond":i.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":i.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":i.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":i.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":i.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":i.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}i.gridSize=Math.max(Math.floor(i.gridSize),4);var u,h,d,p,f,g,y,m,v=i.gridSize,b=v-i.maskGapWidth,x=Math.abs(i.maxRotation-i.minRotation),_=Math.min(i.maxRotation,i.minRotation),S=i.rotationStep;switch(i.color){case"random-dark":y=function(){return R(10,50)};break;case"random-light":y=function(){return R(50,90)};break;default:"function"==typeof i.color&&(y=i.color)}"function"==typeof i.fontWeight&&(m=i.fontWeight);var w=null;"function"==typeof i.classes&&(w=i.classes);var O,M=!1,I=[],j=function(t){var e,n,i=t.currentTarget,a=i.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY);var r=e-a.left,o=n-a.top,s=Math.floor(r*(i.width/a.width||1)/v),l=Math.floor(o*(i.height/a.height||1)/v);return I[s]?I[s][l]:null},C=function(t){var e=j(t);O!==e&&(O=e,e?i.hover(e.item,e.dimension,t):i.hover(void 0,void 0,t))},A=function(t){var e=j(t);e&&(i.click(e.item,e.dimension,t),t.preventDefault())},D=[],T=function(t){if(D[t])return D[t];var e=8*t,n=e,a=[];for(0===t&&a.push([p[0],p[1],0]);n--;){var r=1;"circle"!==i.shape&&(r=i.shape(n/e*2*Math.PI)),a.push([p[0]+t*r*Math.cos(-n/e*2*Math.PI),p[1]+t*r*Math.sin(-n/e*2*Math.PI)*i.ellipticity,n/e*2*Math.PI])}return D[t]=a,a},L=function(){return i.abortThreshold>0&&(new Date).getTime()-g>i.abortThreshold},P=function(e,n,i,a,r){e>=h||n>=d||e<0||n<0||(u[e][n]=!1,i&&t[0].getContext("2d").fillRect(e*v,n*v,b,b),M&&(I[e][n]={item:r,dimension:a}))},k=function e(n,a){if(a>20)return null;var s,l,c;Array.isArray(n)?(s=n[0],l=n[1]):(s=n.word,l=n.weight,c=n.attributes);var p,g,b,O=0===i.rotateRatio||Math.random()>i.rotateRatio?0:0===x?_:_+Math.round(Math.random()*x/S)*S,I=function(t){if(Array.isArray(t)){var e=t.slice();return e.splice(0,2),e}return[]}(n),j=function(t,e,n,a){var o=i.weightFactor(e);if(o<=i.minSize)return!1;var s,l=1;o<r&&(l=function(){for(var t=2;t*o<r;)t+=2;return t}()),s=m?m(t,e,o,a):i.fontWeight;var c=document.createElement("canvas"),u=c.getContext("2d",{willReadFrequently:!0});u.font=s+" "+(o*l).toString(10)+"px "+i.fontFamily;var h=u.measureText(t).width/l,d=Math.max(o*l,u.measureText("m").width,u.measureText("Ｗ").width)/l,p=h+2*d,f=3*d,g=Math.ceil(p/v),y=Math.ceil(f/v);p=g*v,f=y*v;var b=-h/2,x=.4*-d,_=Math.ceil((p*Math.abs(Math.sin(n))+f*Math.abs(Math.cos(n)))/v),S=Math.ceil((p*Math.abs(Math.cos(n))+f*Math.abs(Math.sin(n)))/v),w=S*v,O=_*v;c.setAttribute("width",w),c.setAttribute("height",O),u.scale(1/l,1/l),u.translate(w*l/2,O*l/2),u.rotate(-n),u.font=s+" "+(o*l).toString(10)+"px "+i.fontFamily,u.fillStyle="#000",u.textBaseline="middle",u.fillText(t,b*l,(x+.5*o)*l);var M=u.getImageData(0,0,w,O).data;if(L())return!1;for(var I,j,C,A=[],D=S,T=[_/2,S/2,_/2,S/2];D--;)for(I=_;I--;){C=v;t:for(;C--;)for(j=v;j--;)if(M[4*((I*v+C)*w+(D*v+j))+3]){A.push([D,I]),D<T[3]&&(T[3]=D),D>T[1]&&(T[1]=D),I<T[0]&&(T[0]=I),I>T[2]&&(T[2]=I);break t}}return{mu:l,occupied:A,bounds:T,gw:S,gh:_,fillTextOffsetX:b,fillTextOffsetY:x,fillTextWidth:h,fillTextHeight:d,fontSize:o}}(s,l,O,I);if(!j)return!1;if(L())return!1;if(!i.drawOutOfBound&&!i.shrinkToFit){var C=j.bounds;if(C[1]-C[3]+1>h||C[2]-C[0]+1>d)return!1}for(var A=f+1;A--;){var D=T(f-A);i.shuffle&&(D=[].concat(D),o(D));for(var k=0;k<D.length;k++){var N=(p=D[k],g=void 0,b=void 0,g=Math.floor(p[0]-j.gw/2),b=Math.floor(p[1]-j.gh/2),j.gw,j.gh,!!function(t,e,n,a,r){for(var o=r.length;o--;){var s=t+r[o][0],l=e+r[o][1];if(s>=h||l>=d||s<0||l<0){if(!i.drawOutOfBound)return!1}else if(!u[s][l])return!1}return!0}(g,b,0,0,j.occupied)&&(function(e,n,a,r,o,s,l,c,u,h){var d,p,f,g=a.fontSize;d=y?y(r,o,g,s,l,h):i.color,p=m?m(r,o,g,h):i.fontWeight,f=w?w(r,o,g,h):i.classes,t.forEach((function(t){if(t.getContext){var o=t.getContext("2d"),s=a.mu;o.save(),o.scale(1/s,1/s),o.font=p+" "+(g*s).toString(10)+"px "+i.fontFamily,o.fillStyle=d,o.translate((e+a.gw/2)*v*s,(n+a.gh/2)*v*s),0!==c&&o.rotate(-c),o.textBaseline="middle",o.fillText(r,a.fillTextOffsetX*s,(a.fillTextOffsetY+.5*g)*s),o.restore()}else{var l=document.createElement("span"),h="";h="rotate("+-c/Math.PI*180+"deg) ",1!==a.mu&&(h+="translateX(-"+a.fillTextWidth/4+"px) scale("+1/a.mu+")");var y={position:"absolute",display:"block",font:p+" "+g*a.mu+"px "+i.fontFamily,left:(e+a.gw/2)*v+a.fillTextOffsetX+"px",top:(n+a.gh/2)*v+a.fillTextOffsetY+"px",width:a.fillTextWidth+"px",height:a.fillTextHeight+"px",lineHeight:g+"px",whiteSpace:"nowrap",transform:h,webkitTransform:h,msTransform:h,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var m in d&&(y.color=d),l.textContent=r,y)l.style[m]=y[m];if(u)for(var b in u)l.setAttribute(b,u[b]);f&&(l.className+=f),t.appendChild(l)}}))}(g,b,j,s,l,f-A,p[2],O,c,I),function(e,n,a,r,o,s){var l,c,u=o.occupied,p=i.drawMask;if(p&&((l=t[0].getContext("2d")).save(),l.fillStyle=i.maskColor),M){var f=o.bounds;c={x:(e+f[3])*v,y:(n+f[0])*v,w:(f[1]-f[3]+1)*v,h:(f[2]-f[0]+1)*v}}for(var g=u.length;g--;){var y=e+u[g][0],m=n+u[g][1];y>=h||m>=d||y<0||m<0||P(y,m,p,c,s)}p&&l.restore()}(g,b,0,0,j,n),{gx:g,gy:b,rot:O,info:j}));if(N)return N}}return i.shrinkToFit?(Array.isArray(n)?n[1]=3*n[1]/4:n.weight=3*n.weight/4,e(n,a+1)):null},N=function(e,n,i){if(n)return!t.some((function(t){var n=new CustomEvent(e,{detail:i||{}});return!t.dispatchEvent(n)}),this);t.forEach((function(t){var n=new CustomEvent(e,{detail:i||{}});t.dispatchEvent(n)}),this)};!function(){var e=t[0];if(e.getContext)h=Math.ceil(e.width/v),d=Math.ceil(e.height/v);else{var a=e.getBoundingClientRect();h=Math.ceil(a.width/v),d=Math.ceil(a.height/v)}if(N("wordcloudstart",!0)){var r,o,l,c,y;if(p=i.origin?[i.origin[0]/v,i.origin[1]/v]:[h/2,d/2],f=Math.floor(Math.sqrt(h*h+d*d)),u=[],!e.getContext||i.clearCanvas)for(t.forEach((function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=i.backgroundColor,e.clearRect(0,0,h*(v+1),d*(v+1)),e.fillRect(0,0,h*(v+1),d*(v+1))}else t.textContent="",t.style.backgroundColor=i.backgroundColor,t.style.position="relative"})),r=h;r--;)for(u[r]=[],o=d;o--;)u[r][o]=!0;else{var m=document.createElement("canvas").getContext("2d");m.fillStyle=i.backgroundColor,m.fillRect(0,0,1,1);var b,x,_=m.getImageData(0,0,1,1).data,S=e.getContext("2d").getImageData(0,0,h*v,d*v).data;for(r=h;r--;)for(u[r]=[],o=d;o--;){x=v;t:for(;x--;)for(b=v;b--;)for(l=4;l--;)if(S[4*((o*v+x)*h*v+(r*v+b))+l]!==_[l]){u[r][o]=!1;break t}!1!==u[r][o]&&(u[r][o]=!0)}S=m=_=void 0}if(i.hover||i.click){for(M=!0,r=h+1;r--;)I[r]=[];i.hover&&e.addEventListener("mousemove",C),i.click&&(e.addEventListener("click",A),e.addEventListener("touchstart",A),e.addEventListener("touchend",(function(t){t.preventDefault()})),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",(function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",C),e.removeEventListener("click",A),O=void 0}))}l=0;var w=!0;i.layoutAnimation?0!==i.wait?(c=window.setTimeout,y=window.clearTimeout):(c=window.setImmediate,y=window.clearImmediate):(c=function(t){t()},y=function(){w=!1});var j=function(e,n){t.forEach((function(t){t.removeEventListener(e,n)}),this)},D=function t(){j("wordcloudstart",t),y(s[n])};!function(e,n){t.forEach((function(t){t.addEventListener("wordcloudstart",n)}),this)}(0,D),s[n]=(i.layoutAnimation?c:setTimeout)((function t(){if(w){if(l>=i.list.length)return y(s[n]),N("wordcloudstop",!1),j("wordcloudstart",D),void delete s[n];g=(new Date).getTime();var e=k(i.list[l],0),a=!N("wordclouddrawn",!0,{item:i.list[l],drawn:e});if(L()||a)return y(s[n]),i.abort(),N("wordcloudabort",!1),N("wordcloudstop",!1),void j("wordcloudstart",D);l++,s[n]=c(t,i.wait)}}),i.wait)}}()}function R(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}};l.isSupported=a,l.minFontSize=r;var c=l;if(!c.isSupported)throw new Error("Sorry your browser not support wordCloud");i.registerLayout((function(t,e){t.eachSeriesByType("wordCloud",(function(n){var a=i.helper.getLayoutRect(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),r=n.get("keepAspect"),o=n.get("maskImage"),s=o?o.width/o.height:1;r&&function(t,e){var n=t.width,i=t.height;n>i*e?(t.x+=(n-i*e)/2,t.width=i*e):(t.y+=(i-n/e)/2,t.height=n/e)}(a,s);var l=n.getData(),u=document.createElement("canvas");u.width=a.width,u.height=a.height;var h=u.getContext("2d");if(o)try{h.drawImage(o,0,0,u.width,u.height),function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=e.createImageData(n),a=0,r=0,o=0;o<n.data.length;o+=4)n.data[o+3]>128&&(a+=l=n.data[o]+n.data[o+1]+n.data[o+2],++r);var s=a/r;for(o=0;o<n.data.length;o+=4){var l=n.data[o]+n.data[o+1]+n.data[o+2];n.data[o+3]<128||l>s?(i.data[o]=0,i.data[o+1]=0,i.data[o+2]=0,i.data[o+3]=0):(i.data[o]=255,i.data[o+1]=255,i.data[o+2]=255,i.data[o+3]=255)}e.putImageData(i,0,0)}(u)}catch(t){console.error("Invalid mask image"),console.error(t.toString())}var d=n.get("sizeRange"),p=n.get("rotationRange"),f=l.getDataExtent("value"),g=Math.PI/180,y=n.get("gridSize");function m(t){var e=t.detail.item;t.detail.drawn&&n.layoutInstance.ondraw&&(t.detail.drawn.gx+=a.x/y,t.detail.drawn.gy+=a.y/y,n.layoutInstance.ondraw(e[0],e[1],e[2],t.detail.drawn))}c(u,{list:l.mapArray("value",(function(t,e){var n=l.getItemModel(e);return[l.getName(e),n.get("textStyle.fontSize",!0)||i.number.linearMap(t,f,d),e]})).sort((function(t,e){return e[1]-t[1]})),fontFamily:n.get("textStyle.fontFamily")||n.get("emphasis.textStyle.fontFamily")||t.get("textStyle.fontFamily"),fontWeight:n.get("textStyle.fontWeight")||n.get("emphasis.textStyle.fontWeight")||t.get("textStyle.fontWeight"),gridSize:y,ellipticity:a.height/a.width,minRotation:p[0]*g,maxRotation:p[1]*g,clearCanvas:!o,rotateRatio:1,rotationStep:n.get("rotationStep")*g,drawOutOfBound:n.get("drawOutOfBound"),shrinkToFit:n.get("shrinkToFit"),layoutAnimation:n.get("layoutAnimation"),shuffle:!1,shape:n.get("shape")}),u.addEventListener("wordclouddrawn",m),n.layoutInstance&&n.layoutInstance.dispose(),n.layoutInstance={ondraw:null,dispose:function(){u.removeEventListener("wordclouddrawn",m),u.addEventListener("wordclouddrawn",(function(t){t.preventDefault()}))}}}))})),i.registerPreprocessor((function(t){var e=(t||{}).series;!i.util.isArray(e)&&(e=e?[e]:[]);var n=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function a(t){t&&i.util.each(n,(function(e){t.hasOwnProperty(e)&&(t["text"+i.format.capitalFirst(e)]=t[e])}))}i.util.each(e,(function(t){if(t&&"wordCloud"===t.type){var e=t.textStyle||{};a(e.normal),a(e.emphasis)}}))}))},83:function(e){e.exports=t}},n={};function i(t){if(n[t])return n[t].exports;var a=n[t]={exports:{}};return e[t](a,a.exports,i),a.exports}return i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(638)}()}))}).call(this,n("62e4")(t))},f77f:function(t,e,n){},fb5f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-system"},[n("div",{staticClass:"store-group shadow"},[n("div",{staticClass:"title"},[t._v("磁盘已用占比")]),n("div",{attrs:{id:"disk-chart"}})]),n("div",{staticClass:"memory-group shadow"},[n("div",{attrs:{id:"memory-chart"}})])])}],r=(n("d81d"),n("fb6a"),n("99af"),{name:"HomeSystem",props:{system:{type:Object,default:function(){return{time:[],cpu:[],memory:[]}}}},watch:{system:function(t,e){this.initMemoryChart()}},data:function(){return{disks:[{value:20,name:"根目录"},{value:30,name:"盘1"},{value:25,name:"盘2"},{value:25,name:"盘3"},{value:20,name:"盘4"},{value:35,name:"盘5"},{value:35,name:"盘6"}]}},mounted:function(){this.queryDiskOverview()},methods:{queryDiskOverview:function(){var t=this;this.API.diskOverview({},{notify:!1}).then((function(e){t.disks=e.data.map((function(e){var n=e.diskName.length>10?e.diskName.slice(-10)+"...":e.diskName,i=e.diskUsed,a=t.bytesToSize(e.diskFree),r=t.bytesToSize(e.diskUsed),o=t.bytesToSize(e.diskTotal);return{name:n,value:i,freeSize:a,useSize:r,totalSize:o}})),t.initStoreChart()}))},initStoreChart:function(){var t={color:["#37a2da","#32c5e9","#9fe6b8","#ffdb5c","#ff9f7f","#fb7293","#e7bcf3","#8378ea"],tooltip:{trigger:"item",formatter:function(t){return"".concat(t.seriesName," </br> 已用磁盘大小：").concat(t.data.freeSize," </br> 剩余空间大小：").concat(t.data.useSize," </br> 磁盘总容量：").concat(t.data.totalSize)}},legend:{type:"scroll",orient:"vertical",left:0,align:"left",top:"middle",textStyle:{color:"#8C8C8C"},height:140,pageIconColor:"#6495ed",pageIconInactiveColor:"#999",pageIconSize:12,pageButtonItemGap:0},series:[{name:"硬盘分析",type:"pie",radius:[0,80],center:["70%","50%"],label:{show:!1},data:this.disks}]};this.storeChart=this.$echarts.init(document.getElementById("disk-chart")),this.storeChart.setOption(t)},initMemoryChart:function(){var t=this,e=e={title:{text:"CPU/内存占用率",textStyle:{align:"center",color:"#8c8c8c",fontSize:12},top:"6",left:"0"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"10",right:"10",bottom:"15%",top:"18%",containLabel:!0},legend:{data:["CPU","内存"],right:10,top:12,textStyle:{color:"#8c8c8c"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:this.system.time,axisLine:{lineStyle:{color:"#8c8c8c"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"}}},yAxis:{type:"value",max:"100",axisLine:{show:!1,lineStyle:{color:"#8c8c8c"}},splitLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.3)"}}},dataZoom:[{show:!0,height:18,xAxisIndex:[0],left:"0",right:"6",bottom:"14",start:0,end:100,textStyle:{color:"#8c8c8c"},borderColor:"#8c8c8c"},{type:"inside",show:!0,height:15,start:2,end:35}],series:[{name:"CPU",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#fccb05"},{offset:1,color:"#f5804d"}]),barBorderRadius:12}},data:this.system.cpu},{name:"内存",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#248ff7"},{offset:1,color:"#6851f1"}]),barBorderRadius:11}},data:this.system.memory}]};if(!this.memoryChart){var n=document.getElementById("memory-chart");this.memoryChart=this.$echarts.init(n),this.memoryChartObserve=new ResizeObserver((function(e){t.memoryChart.resize()})),this.memoryChartObserve.observe(n),this.$once("hook:beforeDestroy",(function(){this.memoryChartObserve.unobserve(n)}))}this.memoryChart.setOption(e)},bytesToSize:function(t){if(0===t)return"0 B";var e=1e3,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(e));return(t/Math.pow(e,i)).toPrecision(3)+" "+n[i]}}}),o=r,s=(n("665c"),n("2877")),l=Object(s["a"])(o,i,a,!1,null,"673b3646",null);e["default"]=l.exports},fce0:function(t,e,n){"use strict";n("4ebf")},fdb3:function(t,e,n){}}]);