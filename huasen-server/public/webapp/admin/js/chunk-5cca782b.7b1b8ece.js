(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5cca782b"],{"3ec2":function(a,e,t){"use strict";t("bf20")},"46eb":function(a,e,t){"use strict";t.r(e);var i=t("ca7f"),o=t("102f"),n=t("dc92"),s={name:"AccountAdmin",components:{TableList:i.a,DialogForm:o.a},data:function(){return{manages:[],tableMap:[{label:"账号",key:"id"},{label:"密码",key:"password"},{label:"权限码",key:"code"}],total:0,searchForm:{id:"",code:""},searchFormMap:[{label:"账号",type:"input",key:"id"},{label:"权限码",key:"code",type:"select",selectOptions:this.CONSTANT.dictionary.code}],show:!1,mode:"add",formMap:[{label:"账号",key:"id",type:"input",editDisabled:!0},{label:"密码",key:"password",type:"input"},{label:"权限码",key:"code",type:"select",selectOptions:this.CONSTANT.dictionary.code}],rule:{id:[{validator:Object(n.b)(["isNoEmpty::必填项","minLength:5::长度小于5","maxLength:20::长度大于20","isEmail::请输入邮箱"]),trigger:"blur"}],password:[{validator:Object(n.b)(["isNoEmpty::必填项","minLength:5::长度小于5","maxLength:50::长度大于50"]),trigger:"blur"}]},form:{id:"",password:"",code:0},pageNo:1,pageSize:10}},mounted:function(){this.queryManage()},methods:{queryManage:function(){var a=this,e=Object.assign({pageNo:this.pageNo,pageSize:this.pageSize},this.searchForm);this.API.findManageByPage(e,{notify:!1}).then((function(e){a.manages=e.data.list,a.total=e.data.total,a.cancel()}))},updatePagination:function(a,e){this.pageNo=a,this.pageSize=e},removeManage:function(a,e,t,i){var o=this;this.API.removeManage({_id:e._id}).then((function(a){o.queryManage()}))},addManage:function(){this.show=!0,this.mode="add"},editManage:function(a,e){var t=this;this.show=!0,this.mode="edit",this.$nextTick((function(){t.form=Object.assign(t.form,e)}))},paginationChange:function(a,e){this.queryManage()},save:function(){var a=this;"edit"===this.mode?this.API.updateManage(this.form).then((function(e){a.queryManage()})):"add"===this.mode&&(delete this.form._id,delete this.form._v,this.API.addManage(this.form).then((function(e){a.queryManage()})))},cancel:function(){this.$refs.dialogForm&&this.$refs.dialogForm.close(),this.show=!1}}},r=(t("3ec2"),t("2877")),d=Object(r.a)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"account-admin"},[t("TableList",{attrs:{tableData:a.manages,tableMap:a.tableMap,formData:a.searchForm,formMap:a.searchFormMap,showAdd:!0,total:a.total},on:{"update:formData":function(e){a.searchForm=e},"update:form-data":function(e){a.searchForm=e},edit:a.editManage,add:a.addManage,remove:a.removeManage,search:a.queryManage,paginationChange:a.paginationChange,updatePagination:a.updatePagination}}),a.show?t("DialogForm",{ref:"dialogForm",attrs:{width:"460",title:"add"==a.mode?"添加管理员":"编辑管理员",visible:a.show,mode:a.mode,buttons:{comfirm:"确 认",cancel:"取 消"},formMap:a.formMap,formData:a.form,formRule:a.rule},on:{"update:visible":function(e){a.show=e},"update:formData":function(e){a.form=e},"update:form-data":function(e){a.form=e},comfirmForm:a.save,cancelForm:a.cancel}}):a._e()],1)}),[],!1,null,null,null);e.default=d.exports},bf20:function(a,e,t){}}]);